.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.global __ARQServiceQueueLo
__ARQServiceQueueLo:
/* 80038ED4 00034E54  7C 08 02 A6 */	mflr r0
/* 80038ED8 00034E58  90 01 00 04 */	stw r0, 0x4(r1)
/* 80038EDC 00034E5C  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 80038EE0 00034E60  80 0D 86 94 */	lwz r0, __ARQRequestPendingLo@sda21(r13)
/* 80038EE4 00034E64  28 00 00 00 */	cmplwi r0, 0x0
/* 80038EE8 00034E68  40 82 00 1C */	bne .L_80038F04
/* 80038EEC 00034E6C  80 6D 86 88 */	lwz r3, __ARQRequestQueueLo@sda21(r13)
/* 80038EF0 00034E70  28 03 00 00 */	cmplwi r3, 0x0
/* 80038EF4 00034E74  41 82 00 10 */	beq .L_80038F04
/* 80038EF8 00034E78  90 6D 86 94 */	stw r3, __ARQRequestPendingLo@sda21(r13)
/* 80038EFC 00034E7C  80 03 00 00 */	lwz r0, 0x0(r3)
/* 80038F00 00034E80  90 0D 86 88 */	stw r0, __ARQRequestQueueLo@sda21(r13)
.L_80038F04:
/* 80038F04 00034E84  80 AD 86 94 */	lwz r5, __ARQRequestPendingLo@sda21(r13)
/* 80038F08 00034E88  28 05 00 00 */	cmplwi r5, 0x0
/* 80038F0C 00034E8C  41 82 00 B8 */	beq .L_80038FC4
/* 80038F10 00034E90  80 C5 00 18 */	lwz r6, 0x18(r5)
/* 80038F14 00034E94  80 0D 86 A0 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80038F18 00034E98  7C 06 00 40 */	cmplw r6, r0
/* 80038F1C 00034E9C  41 81 00 3C */	bgt .L_80038F58
/* 80038F20 00034EA0  80 65 00 08 */	lwz r3, 0x8(r5)
/* 80038F24 00034EA4  28 03 00 00 */	cmplwi r3, 0x0
/* 80038F28 00034EA8  40 82 00 14 */	bne .L_80038F3C
/* 80038F2C 00034EAC  80 85 00 10 */	lwz r4, 0x10(r5)
/* 80038F30 00034EB0  80 A5 00 14 */	lwz r5, 0x14(r5)
/* 80038F34 00034EB4  4B FF EE 69 */	bl ARStartDMA
/* 80038F38 00034EB8  48 00 00 10 */	b .L_80038F48
.L_80038F3C:
/* 80038F3C 00034EBC  80 85 00 14 */	lwz r4, 0x14(r5)
/* 80038F40 00034EC0  80 A5 00 10 */	lwz r5, 0x10(r5)
/* 80038F44 00034EC4  4B FF EE 59 */	bl ARStartDMA
.L_80038F48:
/* 80038F48 00034EC8  80 6D 86 94 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 80038F4C 00034ECC  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80038F50 00034ED0  90 0D 86 9C */	stw r0, __ARQCallbackLo@sda21(r13)
/* 80038F54 00034ED4  48 00 00 34 */	b .L_80038F88
.L_80038F58:
/* 80038F58 00034ED8  80 65 00 08 */	lwz r3, 0x8(r5)
/* 80038F5C 00034EDC  28 03 00 00 */	cmplwi r3, 0x0
/* 80038F60 00034EE0  40 82 00 18 */	bne .L_80038F78
/* 80038F64 00034EE4  80 85 00 10 */	lwz r4, 0x10(r5)
/* 80038F68 00034EE8  7C 06 03 78 */	mr r6, r0
/* 80038F6C 00034EEC  80 A5 00 14 */	lwz r5, 0x14(r5)
/* 80038F70 00034EF0  4B FF EE 2D */	bl ARStartDMA
/* 80038F74 00034EF4  48 00 00 14 */	b .L_80038F88
.L_80038F78:
/* 80038F78 00034EF8  80 85 00 14 */	lwz r4, 0x14(r5)
/* 80038F7C 00034EFC  7C 06 03 78 */	mr r6, r0
/* 80038F80 00034F00  80 A5 00 10 */	lwz r5, 0x10(r5)
/* 80038F84 00034F04  4B FF EE 19 */	bl ARStartDMA
.L_80038F88:
/* 80038F88 00034F08  80 6D 86 94 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 80038F8C 00034F0C  80 8D 86 A0 */	lwz r4, __ARQChunkSize@sda21(r13)
/* 80038F90 00034F10  80 03 00 18 */	lwz r0, 0x18(r3)
/* 80038F94 00034F14  7C 04 00 50 */	subf r0, r4, r0
/* 80038F98 00034F18  90 03 00 18 */	stw r0, 0x18(r3)
/* 80038F9C 00034F1C  80 8D 86 94 */	lwz r4, __ARQRequestPendingLo@sda21(r13)
/* 80038FA0 00034F20  80 0D 86 A0 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80038FA4 00034F24  80 64 00 10 */	lwz r3, 0x10(r4)
/* 80038FA8 00034F28  7C 03 02 14 */	add r0, r3, r0
/* 80038FAC 00034F2C  90 04 00 10 */	stw r0, 0x10(r4)
/* 80038FB0 00034F30  80 8D 86 94 */	lwz r4, __ARQRequestPendingLo@sda21(r13)
/* 80038FB4 00034F34  80 0D 86 A0 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80038FB8 00034F38  80 64 00 14 */	lwz r3, 0x14(r4)
/* 80038FBC 00034F3C  7C 03 02 14 */	add r0, r3, r0
/* 80038FC0 00034F40  90 04 00 14 */	stw r0, 0x14(r4)
.L_80038FC4:
/* 80038FC4 00034F44  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80038FC8 00034F48  38 21 00 08 */	addi r1, r1, 0x8
/* 80038FCC 00034F4C  7C 08 03 A6 */	mtlr r0
/* 80038FD0 00034F50  4E 80 00 20 */	blr

.global __ARQCallbackHack
__ARQCallbackHack:
/* 80038FD4 00034F54  4E 80 00 20 */	blr

.global __ARQInterruptServiceRoutine
__ARQInterruptServiceRoutine:
/* 80038FD8 00034F58  7C 08 02 A6 */	mflr r0
/* 80038FDC 00034F5C  90 01 00 04 */	stw r0, 0x4(r1)
/* 80038FE0 00034F60  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 80038FE4 00034F64  81 8D 86 98 */	lwz r12, __ARQCallbackHi@sda21(r13)
/* 80038FE8 00034F68  28 0C 00 00 */	cmplwi r12, 0x0
/* 80038FEC 00034F6C  41 82 00 20 */	beq .L_8003900C
/* 80038FF0 00034F70  80 6D 86 90 */	lwz r3, __ARQRequestPendingHi@sda21(r13)
/* 80038FF4 00034F74  7D 88 03 A6 */	mtlr r12
/* 80038FF8 00034F78  4E 80 00 21 */	blrl
/* 80038FFC 00034F7C  38 00 00 00 */	li r0, 0x0
/* 80039000 00034F80  90 0D 86 90 */	stw r0, __ARQRequestPendingHi@sda21(r13)
/* 80039004 00034F84  90 0D 86 98 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80039008 00034F88  48 00 00 28 */	b .L_80039030
.L_8003900C:
/* 8003900C 00034F8C  81 8D 86 9C */	lwz r12, __ARQCallbackLo@sda21(r13)
/* 80039010 00034F90  28 0C 00 00 */	cmplwi r12, 0x0
/* 80039014 00034F94  41 82 00 1C */	beq .L_80039030
/* 80039018 00034F98  80 6D 86 94 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 8003901C 00034F9C  7D 88 03 A6 */	mtlr r12
/* 80039020 00034FA0  4E 80 00 21 */	blrl
/* 80039024 00034FA4  38 00 00 00 */	li r0, 0x0
/* 80039028 00034FA8  90 0D 86 94 */	stw r0, __ARQRequestPendingLo@sda21(r13)
/* 8003902C 00034FAC  90 0D 86 9C */	stw r0, __ARQCallbackLo@sda21(r13)
.L_80039030:
/* 80039030 00034FB0  80 CD 86 80 */	lwz r6, __ARQRequestQueueHi@sda21(r13)
/* 80039034 00034FB4  28 06 00 00 */	cmplwi r6, 0x0
/* 80039038 00034FB8  41 82 00 4C */	beq .L_80039084
/* 8003903C 00034FBC  80 66 00 08 */	lwz r3, 0x8(r6)
/* 80039040 00034FC0  28 03 00 00 */	cmplwi r3, 0x0
/* 80039044 00034FC4  40 82 00 18 */	bne .L_8003905C
/* 80039048 00034FC8  80 86 00 10 */	lwz r4, 0x10(r6)
/* 8003904C 00034FCC  80 A6 00 14 */	lwz r5, 0x14(r6)
/* 80039050 00034FD0  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80039054 00034FD4  4B FF ED 49 */	bl ARStartDMA
/* 80039058 00034FD8  48 00 00 14 */	b .L_8003906C
.L_8003905C:
/* 8003905C 00034FDC  80 86 00 14 */	lwz r4, 0x14(r6)
/* 80039060 00034FE0  80 A6 00 10 */	lwz r5, 0x10(r6)
/* 80039064 00034FE4  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80039068 00034FE8  4B FF ED 35 */	bl ARStartDMA
.L_8003906C:
/* 8003906C 00034FEC  80 6D 86 80 */	lwz r3, __ARQRequestQueueHi@sda21(r13)
/* 80039070 00034FF0  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80039074 00034FF4  90 0D 86 98 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80039078 00034FF8  90 6D 86 90 */	stw r3, __ARQRequestPendingHi@sda21(r13)
/* 8003907C 00034FFC  80 03 00 00 */	lwz r0, 0x0(r3)
/* 80039080 00035000  90 0D 86 80 */	stw r0, __ARQRequestQueueHi@sda21(r13)
.L_80039084:
/* 80039084 00035004  80 0D 86 90 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 80039088 00035008  28 00 00 00 */	cmplwi r0, 0x0
/* 8003908C 0003500C  40 82 00 08 */	bne .L_80039094
/* 80039090 00035010  4B FF FE 45 */	bl __ARQServiceQueueLo
.L_80039094:
/* 80039094 00035014  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80039098 00035018  38 21 00 08 */	addi r1, r1, 0x8
/* 8003909C 0003501C  7C 08 03 A6 */	mtlr r0
/* 800390A0 00035020  4E 80 00 20 */	blr

.global ARQInit
ARQInit:
/* 800390A4 00035024  7C 08 02 A6 */	mflr r0
/* 800390A8 00035028  90 01 00 04 */	stw r0, 0x4(r1)
/* 800390AC 0003502C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800390B0 00035030  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800390B4 00035034  80 0D 86 A4 */	lwz r0, __ARQ_init_flag@sda21(r13)
/* 800390B8 00035038  2C 00 00 01 */	cmpwi r0, 0x1
/* 800390BC 0003503C  41 82 00 3C */	beq .L_800390F8
/* 800390C0 00035040  3B E0 00 00 */	li r31, 0x0
/* 800390C4 00035044  38 00 10 00 */	li r0, 0x1000
/* 800390C8 00035048  93 ED 86 88 */	stw r31, __ARQRequestQueueLo@sda21(r13)
/* 800390CC 0003504C  3C 60 80 04 */	lis r3, __ARQInterruptServiceRoutine@ha
/* 800390D0 00035050  93 ED 86 80 */	stw r31, __ARQRequestQueueHi@sda21(r13)
/* 800390D4 00035054  38 63 8F D8 */	addi r3, r3, __ARQInterruptServiceRoutine@l
/* 800390D8 00035058  90 0D 86 A0 */	stw r0, __ARQChunkSize@sda21(r13)
/* 800390DC 0003505C  4B FF EC 7D */	bl ARRegisterDMACallback
/* 800390E0 00035060  38 00 00 01 */	li r0, 0x1
/* 800390E4 00035064  93 ED 86 90 */	stw r31, __ARQRequestPendingHi@sda21(r13)
/* 800390E8 00035068  93 ED 86 94 */	stw r31, __ARQRequestPendingLo@sda21(r13)
/* 800390EC 0003506C  93 ED 86 98 */	stw r31, __ARQCallbackHi@sda21(r13)
/* 800390F0 00035070  93 ED 86 9C */	stw r31, __ARQCallbackLo@sda21(r13)
/* 800390F4 00035074  90 0D 86 A4 */	stw r0, __ARQ_init_flag@sda21(r13)
.L_800390F8:
/* 800390F8 00035078  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800390FC 0003507C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80039100 00035080  38 21 00 10 */	addi r1, r1, 0x10
/* 80039104 00035084  7C 08 03 A6 */	mtlr r0
/* 80039108 00035088  4E 80 00 20 */	blr

.global ARQPostRequest
ARQPostRequest:
/* 8003910C 0003508C  7C 08 02 A6 */	mflr r0
/* 80039110 00035090  28 0A 00 00 */	cmplwi r10, 0x0
/* 80039114 00035094  90 01 00 04 */	stw r0, 0x4(r1)
/* 80039118 00035098  38 00 00 00 */	li r0, 0x0
/* 8003911C 0003509C  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 80039120 000350A0  93 E1 00 34 */	stw r31, 0x34(r1)
/* 80039124 000350A4  93 C1 00 30 */	stw r30, 0x30(r1)
/* 80039128 000350A8  3B C6 00 00 */	addi r30, r6, 0x0
/* 8003912C 000350AC  93 A1 00 2C */	stw r29, 0x2c(r1)
/* 80039130 000350B0  3B A3 00 00 */	addi r29, r3, 0x0
/* 80039134 000350B4  90 03 00 00 */	stw r0, 0x0(r3)
/* 80039138 000350B8  90 83 00 04 */	stw r4, 0x4(r3)
/* 8003913C 000350BC  90 A3 00 08 */	stw r5, 0x8(r3)
/* 80039140 000350C0  90 E3 00 10 */	stw r7, 0x10(r3)
/* 80039144 000350C4  91 03 00 14 */	stw r8, 0x14(r3)
/* 80039148 000350C8  91 23 00 18 */	stw r9, 0x18(r3)
/* 8003914C 000350CC  41 82 00 0C */	beq .L_80039158
/* 80039150 000350D0  91 5D 00 1C */	stw r10, 0x1c(r29)
/* 80039154 000350D4  48 00 00 10 */	b .L_80039164
.L_80039158:
/* 80039158 000350D8  3C 60 80 04 */	lis r3, __ARQCallbackHack@ha
/* 8003915C 000350DC  38 03 8F D4 */	addi r0, r3, __ARQCallbackHack@l
/* 80039160 000350E0  90 1D 00 1C */	stw r0, 0x1c(r29)
.L_80039164:
/* 80039164 000350E4  4B FF 1E 81 */	bl OSDisableInterrupts
/* 80039168 000350E8  2C 1E 00 01 */	cmpwi r30, 0x1
/* 8003916C 000350EC  3B E3 00 00 */	addi r31, r3, 0x0
/* 80039170 000350F0  41 82 00 38 */	beq .L_800391A8
/* 80039174 000350F4  40 80 00 54 */	bge .L_800391C8
/* 80039178 000350F8  2C 1E 00 00 */	cmpwi r30, 0x0
/* 8003917C 000350FC  40 80 00 08 */	bge .L_80039184
/* 80039180 00035100  48 00 00 48 */	b .L_800391C8
.L_80039184:
/* 80039184 00035104  80 0D 86 88 */	lwz r0, __ARQRequestQueueLo@sda21(r13)
/* 80039188 00035108  28 00 00 00 */	cmplwi r0, 0x0
/* 8003918C 0003510C  41 82 00 10 */	beq .L_8003919C
/* 80039190 00035110  80 6D 86 8C */	lwz r3, __ARQRequestTailLo@sda21(r13)
/* 80039194 00035114  93 A3 00 00 */	stw r29, 0x0(r3)
/* 80039198 00035118  48 00 00 08 */	b .L_800391A0
.L_8003919C:
/* 8003919C 0003511C  93 AD 86 88 */	stw r29, __ARQRequestQueueLo@sda21(r13)
.L_800391A0:
/* 800391A0 00035120  93 AD 86 8C */	stw r29, __ARQRequestTailLo@sda21(r13)
/* 800391A4 00035124  48 00 00 24 */	b .L_800391C8
.L_800391A8:
/* 800391A8 00035128  80 0D 86 80 */	lwz r0, __ARQRequestQueueHi@sda21(r13)
/* 800391AC 0003512C  28 00 00 00 */	cmplwi r0, 0x0
/* 800391B0 00035130  41 82 00 10 */	beq .L_800391C0
/* 800391B4 00035134  80 6D 86 84 */	lwz r3, __ARQRequestTailHi@sda21(r13)
/* 800391B8 00035138  93 A3 00 00 */	stw r29, 0x0(r3)
/* 800391BC 0003513C  48 00 00 08 */	b .L_800391C4
.L_800391C0:
/* 800391C0 00035140  93 AD 86 80 */	stw r29, __ARQRequestQueueHi@sda21(r13)
.L_800391C4:
/* 800391C4 00035144  93 AD 86 84 */	stw r29, __ARQRequestTailHi@sda21(r13)
.L_800391C8:
/* 800391C8 00035148  80 0D 86 90 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 800391CC 0003514C  28 00 00 00 */	cmplwi r0, 0x0
/* 800391D0 00035150  40 82 00 74 */	bne .L_80039244
/* 800391D4 00035154  80 0D 86 94 */	lwz r0, __ARQRequestPendingLo@sda21(r13)
/* 800391D8 00035158  28 00 00 00 */	cmplwi r0, 0x0
/* 800391DC 0003515C  40 82 00 68 */	bne .L_80039244
/* 800391E0 00035160  80 CD 86 80 */	lwz r6, __ARQRequestQueueHi@sda21(r13)
/* 800391E4 00035164  28 06 00 00 */	cmplwi r6, 0x0
/* 800391E8 00035168  41 82 00 4C */	beq .L_80039234
/* 800391EC 0003516C  80 66 00 08 */	lwz r3, 0x8(r6)
/* 800391F0 00035170  28 03 00 00 */	cmplwi r3, 0x0
/* 800391F4 00035174  40 82 00 18 */	bne .L_8003920C
/* 800391F8 00035178  80 86 00 10 */	lwz r4, 0x10(r6)
/* 800391FC 0003517C  80 A6 00 14 */	lwz r5, 0x14(r6)
/* 80039200 00035180  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80039204 00035184  4B FF EB 99 */	bl ARStartDMA
/* 80039208 00035188  48 00 00 14 */	b .L_8003921C
.L_8003920C:
/* 8003920C 0003518C  80 86 00 14 */	lwz r4, 0x14(r6)
/* 80039210 00035190  80 A6 00 10 */	lwz r5, 0x10(r6)
/* 80039214 00035194  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80039218 00035198  4B FF EB 85 */	bl ARStartDMA
.L_8003921C:
/* 8003921C 0003519C  80 6D 86 80 */	lwz r3, __ARQRequestQueueHi@sda21(r13)
/* 80039220 000351A0  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80039224 000351A4  90 0D 86 98 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80039228 000351A8  90 6D 86 90 */	stw r3, __ARQRequestPendingHi@sda21(r13)
/* 8003922C 000351AC  80 03 00 00 */	lwz r0, 0x0(r3)
/* 80039230 000351B0  90 0D 86 80 */	stw r0, __ARQRequestQueueHi@sda21(r13)
.L_80039234:
/* 80039234 000351B4  80 0D 86 90 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 80039238 000351B8  28 00 00 00 */	cmplwi r0, 0x0
/* 8003923C 000351BC  40 82 00 08 */	bne .L_80039244
/* 80039240 000351C0  4B FF FC 95 */	bl __ARQServiceQueueLo
.L_80039244:
/* 80039244 000351C4  7F E3 FB 78 */	mr r3, r31
/* 80039248 000351C8  4B FF 1D C5 */	bl OSRestoreInterrupts
/* 8003924C 000351CC  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 80039250 000351D0  83 E1 00 34 */	lwz r31, 0x34(r1)
/* 80039254 000351D4  83 C1 00 30 */	lwz r30, 0x30(r1)
/* 80039258 000351D8  7C 08 03 A6 */	mtlr r0
/* 8003925C 000351DC  83 A1 00 2C */	lwz r29, 0x2c(r1)
/* 80039260 000351E0  38 21 00 38 */	addi r1, r1, 0x38
/* 80039264 000351E4  4E 80 00 20 */	blr

.section .sbss, "", @nobits  # 0x800A8DC0 - 0x800A9380


__ARQRequestQueueHi:
	.skip 0x4

__ARQRequestTailHi:
	.skip 0x4

__ARQRequestQueueLo:
	.skip 0x4

__ARQRequestTailLo:
	.skip 0x4

__ARQRequestPendingHi:
	.skip 0x4

__ARQRequestPendingLo:
	.skip 0x4

__ARQCallbackHi:
	.skip 0x4

__ARQCallbackLo:
	.skip 0x4

__ARQChunkSize:
	.skip 0x4

__ARQ_init_flag:
	.skip 0x4