.include "macros.s"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.global OSInitStopwatch
OSInitStopwatch:
/* 8002E1E8 0002A168  90 83 00 00 */	stw r4, 0x0(r3)
/* 8002E1EC 0002A16C  38 80 00 00 */	li r4, 0x0
/* 8002E1F0 0002A170  38 00 FF FF */	li r0, -0x1
/* 8002E1F4 0002A174  90 83 00 0C */	stw r4, 0xc(r3)
/* 8002E1F8 0002A178  90 83 00 08 */	stw r4, 0x8(r3)
/* 8002E1FC 0002A17C  90 83 00 10 */	stw r4, 0x10(r3)
/* 8002E200 0002A180  90 03 00 1C */	stw r0, 0x1c(r3)
/* 8002E204 0002A184  90 83 00 18 */	stw r4, 0x18(r3)
/* 8002E208 0002A188  90 83 00 24 */	stw r4, 0x24(r3)
/* 8002E20C 0002A18C  90 83 00 20 */	stw r4, 0x20(r3)
/* 8002E210 0002A190  4E 80 00 20 */	blr

.global OSStartStopwatch
OSStartStopwatch:
/* 8002E214 0002A194  7C 08 02 A6 */	mflr r0
/* 8002E218 0002A198  90 01 00 04 */	stw r0, 0x4(r1)
/* 8002E21C 0002A19C  38 00 00 01 */	li r0, 0x1
/* 8002E220 0002A1A0  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8002E224 0002A1A4  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8002E228 0002A1A8  3B E3 00 00 */	addi r31, r3, 0x0
/* 8002E22C 0002A1AC  90 03 00 30 */	stw r0, 0x30(r3)
/* 8002E230 0002A1B0  48 00 12 ED */	bl OSGetTime
/* 8002E234 0002A1B4  90 9F 00 2C */	stw r4, 0x2c(r31)
/* 8002E238 0002A1B8  90 7F 00 28 */	stw r3, 0x28(r31)
/* 8002E23C 0002A1BC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8002E240 0002A1C0  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8002E244 0002A1C4  38 21 00 18 */	addi r1, r1, 0x18
/* 8002E248 0002A1C8  7C 08 03 A6 */	mtlr r0
/* 8002E24C 0002A1CC  4E 80 00 20 */	blr

.global OSStopStopwatch
OSStopStopwatch:
/* 8002E250 0002A1D0  7C 08 02 A6 */	mflr r0
/* 8002E254 0002A1D4  90 01 00 04 */	stw r0, 0x4(r1)
/* 8002E258 0002A1D8  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8002E25C 0002A1DC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8002E260 0002A1E0  7C 7F 1B 78 */	mr r31, r3
/* 8002E264 0002A1E4  80 03 00 30 */	lwz r0, 0x30(r3)
/* 8002E268 0002A1E8  2C 00 00 00 */	cmpwi r0, 0x0
/* 8002E26C 0002A1EC  41 82 00 9C */	beq .L_8002E308
/* 8002E270 0002A1F0  48 00 12 AD */	bl OSGetTime
/* 8002E274 0002A1F4  80 BF 00 2C */	lwz r5, 0x2c(r31)
/* 8002E278 0002A1F8  38 00 00 00 */	li r0, 0x0
/* 8002E27C 0002A1FC  80 DF 00 28 */	lwz r6, 0x28(r31)
/* 8002E280 0002A200  7C E5 20 10 */	subfc r7, r5, r4
/* 8002E284 0002A204  80 BF 00 0C */	lwz r5, 0xc(r31)
/* 8002E288 0002A208  7C C6 19 10 */	subfe r6, r6, r3
/* 8002E28C 0002A20C  80 9F 00 08 */	lwz r4, 0x8(r31)
/* 8002E290 0002A210  7C 65 38 14 */	addc r3, r5, r7
/* 8002E294 0002A214  90 7F 00 0C */	stw r3, 0xc(r31)
/* 8002E298 0002A218  7C 84 31 14 */	adde r4, r4, r6
/* 8002E29C 0002A21C  6C C3 80 00 */	xoris r3, r6, 0x8000
/* 8002E2A0 0002A220  90 9F 00 08 */	stw r4, 0x8(r31)
/* 8002E2A4 0002A224  90 1F 00 30 */	stw r0, 0x30(r31)
/* 8002E2A8 0002A228  80 9F 00 10 */	lwz r4, 0x10(r31)
/* 8002E2AC 0002A22C  38 04 00 01 */	addi r0, r4, 0x1
/* 8002E2B0 0002A230  90 1F 00 10 */	stw r0, 0x10(r31)
/* 8002E2B4 0002A234  80 1F 00 20 */	lwz r0, 0x20(r31)
/* 8002E2B8 0002A238  80 BF 00 24 */	lwz r5, 0x24(r31)
/* 8002E2BC 0002A23C  6C 04 80 00 */	xoris r4, r0, 0x8000
/* 8002E2C0 0002A240  7C 07 28 10 */	subfc r0, r7, r5
/* 8002E2C4 0002A244  7C 63 21 10 */	subfe r3, r3, r4
/* 8002E2C8 0002A248  7C 64 21 10 */	subfe r3, r4, r4
/* 8002E2CC 0002A24C  7C 63 00 D1 */	neg. r3, r3
/* 8002E2D0 0002A250  41 82 00 0C */	beq .L_8002E2DC
/* 8002E2D4 0002A254  90 FF 00 24 */	stw r7, 0x24(r31)
/* 8002E2D8 0002A258  90 DF 00 20 */	stw r6, 0x20(r31)
.L_8002E2DC:
/* 8002E2DC 0002A25C  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 8002E2E0 0002A260  6C C4 80 00 */	xoris r4, r6, 0x8000
/* 8002E2E4 0002A264  80 BF 00 1C */	lwz r5, 0x1c(r31)
/* 8002E2E8 0002A268  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8002E2EC 0002A26C  7C 05 38 10 */	subfc r0, r5, r7
/* 8002E2F0 0002A270  7C 63 21 10 */	subfe r3, r3, r4
/* 8002E2F4 0002A274  7C 64 21 10 */	subfe r3, r4, r4
/* 8002E2F8 0002A278  7C 63 00 D1 */	neg. r3, r3
/* 8002E2FC 0002A27C  41 82 00 0C */	beq .L_8002E308
/* 8002E300 0002A280  90 FF 00 1C */	stw r7, 0x1c(r31)
/* 8002E304 0002A284  90 DF 00 18 */	stw r6, 0x18(r31)
.L_8002E308:
/* 8002E308 0002A288  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8002E30C 0002A28C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8002E310 0002A290  38 21 00 18 */	addi r1, r1, 0x18
/* 8002E314 0002A294  7C 08 03 A6 */	mtlr r0
/* 8002E318 0002A298  4E 80 00 20 */	blr

.global OSCheckStopwatch
OSCheckStopwatch:
/* 8002E31C 0002A29C  7C 08 02 A6 */	mflr r0
/* 8002E320 0002A2A0  90 01 00 04 */	stw r0, 0x4(r1)
/* 8002E324 0002A2A4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8002E328 0002A2A8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8002E32C 0002A2AC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8002E330 0002A2B0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8002E334 0002A2B4  7C 7D 1B 78 */	mr r29, r3
/* 8002E338 0002A2B8  80 03 00 30 */	lwz r0, 0x30(r3)
/* 8002E33C 0002A2BC  83 E3 00 08 */	lwz r31, 0x8(r3)
/* 8002E340 0002A2C0  2C 00 00 00 */	cmpwi r0, 0x0
/* 8002E344 0002A2C4  83 C3 00 0C */	lwz r30, 0xc(r3)
/* 8002E348 0002A2C8  41 82 00 20 */	beq .L_8002E368
/* 8002E34C 0002A2CC  48 00 11 D1 */	bl OSGetTime
/* 8002E350 0002A2D0  80 BD 00 2C */	lwz r5, 0x2c(r29)
/* 8002E354 0002A2D4  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 8002E358 0002A2D8  7C 85 20 10 */	subfc r4, r5, r4
/* 8002E35C 0002A2DC  7C 00 19 10 */	subfe r0, r0, r3
/* 8002E360 0002A2E0  7F DE 20 14 */	addc r30, r30, r4
/* 8002E364 0002A2E4  7F FF 01 14 */	adde r31, r31, r0
.L_8002E368:
/* 8002E368 0002A2E8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8002E36C 0002A2EC  38 9E 00 00 */	addi r4, r30, 0x0
/* 8002E370 0002A2F0  38 7F 00 00 */	addi r3, r31, 0x0
/* 8002E374 0002A2F4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8002E378 0002A2F8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8002E37C 0002A2FC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8002E380 0002A300  7C 08 03 A6 */	mtlr r0
/* 8002E384 0002A304  38 21 00 20 */	addi r1, r1, 0x20
/* 8002E388 0002A308  4E 80 00 20 */	blr

.global OSResetStopwatch
OSResetStopwatch:
/* 8002E38C 0002A30C  38 80 00 00 */	li r4, 0x0
/* 8002E390 0002A310  90 83 00 0C */	stw r4, 0xc(r3)
/* 8002E394 0002A314  38 00 FF FF */	li r0, -0x1
/* 8002E398 0002A318  90 83 00 08 */	stw r4, 0x8(r3)
/* 8002E39C 0002A31C  90 83 00 10 */	stw r4, 0x10(r3)
/* 8002E3A0 0002A320  90 03 00 1C */	stw r0, 0x1c(r3)
/* 8002E3A4 0002A324  90 83 00 18 */	stw r4, 0x18(r3)
/* 8002E3A8 0002A328  90 83 00 24 */	stw r4, 0x24(r3)
/* 8002E3AC 0002A32C  90 83 00 20 */	stw r4, 0x20(r3)
/* 8002E3B0 0002A330  4E 80 00 20 */	blr
