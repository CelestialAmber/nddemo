.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.fn __DVDFSInit, global
/* 800310CC 0002D04C  3C 60 80 00 */	lis r3, 0x80000038@ha
/* 800310D0 0002D050  90 6D 85 40 */	stw r3, BootInfo@sda21(r13)
/* 800310D4 0002D054  80 03 00 38 */	lwz r0, 0x80000038@l(r3)
/* 800310D8 0002D058  90 0D 85 44 */	stw r0, FstStart@sda21(r13)
/* 800310DC 0002D05C  80 6D 85 44 */	lwz r3, FstStart@sda21(r13)
/* 800310E0 0002D060  28 03 00 00 */	cmplwi r3, 0x0
/* 800310E4 0002D064  4D 82 00 20 */	beqlr
/* 800310E8 0002D068  80 03 00 08 */	lwz r0, 0x8(r3)
/* 800310EC 0002D06C  90 0D 85 4C */	stw r0, MaxEntryNum@sda21(r13)
/* 800310F0 0002D070  80 0D 85 4C */	lwz r0, MaxEntryNum@sda21(r13)
/* 800310F4 0002D074  1C 00 00 0C */	mulli r0, r0, 0xc
/* 800310F8 0002D078  7C 03 02 14 */	add r0, r3, r0
/* 800310FC 0002D07C  90 0D 85 48 */	stw r0, FstStringStart@sda21(r13)
/* 80031100 0002D080  4E 80 00 20 */	blr
.endfn __DVDFSInit

.fn DVDConvertPathToEntrynum, global
/* 80031104 0002D084  7C 08 02 A6 */	mflr r0
/* 80031108 0002D088  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003110C 0002D08C  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 80031110 0002D090  BE 81 00 18 */	stmw r20, 0x18(r1)
/* 80031114 0002D094  7C 77 1B 78 */	mr r23, r3
/* 80031118 0002D098  3C 60 80 07 */	lis r3, lbl_80068218@ha
/* 8003111C 0002D09C  3B 37 00 00 */	addi r25, r23, 0x0
/* 80031120 0002D0A0  3B E3 82 18 */	addi r31, r3, lbl_80068218@l
/* 80031124 0002D0A4  83 4D 85 50 */	lwz r26, currentDirectory@sda21(r13)
.L_80031128:
/* 80031128 0002D0A8  88 77 00 00 */	lbz r3, 0x0(r23)
/* 8003112C 0002D0AC  7C 60 07 75 */	extsb. r0, r3
/* 80031130 0002D0B0  40 82 00 0C */	bne .L_8003113C
/* 80031134 0002D0B4  7F 43 D3 78 */	mr r3, r26
/* 80031138 0002D0B8  48 00 02 AC */	b .L_800313E4
.L_8003113C:
/* 8003113C 0002D0BC  7C 60 07 74 */	extsb r0, r3
/* 80031140 0002D0C0  2C 00 00 2F */	cmpwi r0, 0x2f
/* 80031144 0002D0C4  40 82 00 10 */	bne .L_80031154
/* 80031148 0002D0C8  3B 40 00 00 */	li r26, 0x0
/* 8003114C 0002D0CC  3A F7 00 01 */	addi r23, r23, 0x1
/* 80031150 0002D0D0  4B FF FF D8 */	b .L_80031128
.L_80031154:
/* 80031154 0002D0D4  2C 00 00 2E */	cmpwi r0, 0x2e
/* 80031158 0002D0D8  40 82 00 74 */	bne .L_800311CC
/* 8003115C 0002D0DC  88 77 00 01 */	lbz r3, 0x1(r23)
/* 80031160 0002D0E0  7C 60 07 74 */	extsb r0, r3
/* 80031164 0002D0E4  2C 00 00 2E */	cmpwi r0, 0x2e
/* 80031168 0002D0E8  40 82 00 44 */	bne .L_800311AC
/* 8003116C 0002D0EC  88 77 00 02 */	lbz r3, 0x2(r23)
/* 80031170 0002D0F0  2C 03 00 2F */	cmpwi r3, 0x2f
/* 80031174 0002D0F4  40 82 00 1C */	bne .L_80031190
/* 80031178 0002D0F8  1C 7A 00 0C */	mulli r3, r26, 0xc
/* 8003117C 0002D0FC  80 8D 85 44 */	lwz r4, FstStart@sda21(r13)
/* 80031180 0002D100  38 03 00 04 */	addi r0, r3, 0x4
/* 80031184 0002D104  7F 44 00 2E */	lwzx r26, r4, r0
/* 80031188 0002D108  3A F7 00 03 */	addi r23, r23, 0x3
/* 8003118C 0002D10C  4B FF FF 9C */	b .L_80031128
.L_80031190:
/* 80031190 0002D110  7C 60 07 75 */	extsb. r0, r3
/* 80031194 0002D114  40 82 00 38 */	bne .L_800311CC
/* 80031198 0002D118  1C 1A 00 0C */	mulli r0, r26, 0xc
/* 8003119C 0002D11C  80 6D 85 44 */	lwz r3, FstStart@sda21(r13)
/* 800311A0 0002D120  7C 63 02 14 */	add r3, r3, r0
/* 800311A4 0002D124  80 63 00 04 */	lwz r3, 0x4(r3)
/* 800311A8 0002D128  48 00 02 3C */	b .L_800313E4
.L_800311AC:
/* 800311AC 0002D12C  2C 00 00 2F */	cmpwi r0, 0x2f
/* 800311B0 0002D130  40 82 00 0C */	bne .L_800311BC
/* 800311B4 0002D134  3A F7 00 02 */	addi r23, r23, 0x2
/* 800311B8 0002D138  4B FF FF 70 */	b .L_80031128
.L_800311BC:
/* 800311BC 0002D13C  7C 60 07 75 */	extsb. r0, r3
/* 800311C0 0002D140  40 82 00 0C */	bne .L_800311CC
/* 800311C4 0002D144  7F 43 D3 78 */	mr r3, r26
/* 800311C8 0002D148  48 00 02 1C */	b .L_800313E4
.L_800311CC:
/* 800311CC 0002D14C  80 0D 85 54 */	lwz r0, __DVDLongFileNameFlag@sda21(r13)
/* 800311D0 0002D150  28 00 00 00 */	cmplwi r0, 0x0
/* 800311D4 0002D154  40 82 00 AC */	bne .L_80031280
/* 800311D8 0002D158  3B 97 00 00 */	addi r28, r23, 0x0
/* 800311DC 0002D15C  38 A0 00 00 */	li r5, 0x0
/* 800311E0 0002D160  38 80 00 00 */	li r4, 0x0
/* 800311E4 0002D164  48 00 00 48 */	b .L_8003122C
.L_800311E8:
/* 800311E8 0002D168  7C 60 07 74 */	extsb r0, r3
/* 800311EC 0002D16C  2C 00 00 2E */	cmpwi r0, 0x2e
/* 800311F0 0002D170  40 82 00 2C */	bne .L_8003121C
/* 800311F4 0002D174  7C 17 E0 50 */	subf r0, r23, r28
/* 800311F8 0002D178  2C 00 00 08 */	cmpwi r0, 0x8
/* 800311FC 0002D17C  41 81 00 0C */	bgt .L_80031208
/* 80031200 0002D180  2C 05 00 01 */	cmpwi r5, 0x1
/* 80031204 0002D184  40 82 00 0C */	bne .L_80031210
.L_80031208:
/* 80031208 0002D188  38 80 00 01 */	li r4, 0x1
/* 8003120C 0002D18C  48 00 00 38 */	b .L_80031244
.L_80031210:
/* 80031210 0002D190  3B 1C 00 01 */	addi r24, r28, 0x1
/* 80031214 0002D194  38 A0 00 01 */	li r5, 0x1
/* 80031218 0002D198  48 00 00 10 */	b .L_80031228
.L_8003121C:
/* 8003121C 0002D19C  2C 00 00 20 */	cmpwi r0, 0x20
/* 80031220 0002D1A0  40 82 00 08 */	bne .L_80031228
/* 80031224 0002D1A4  38 80 00 01 */	li r4, 0x1
.L_80031228:
/* 80031228 0002D1A8  3B 9C 00 01 */	addi r28, r28, 0x1
.L_8003122C:
/* 8003122C 0002D1AC  88 7C 00 00 */	lbz r3, 0x0(r28)
/* 80031230 0002D1B0  7C 60 07 75 */	extsb. r0, r3
/* 80031234 0002D1B4  41 82 00 10 */	beq .L_80031244
/* 80031238 0002D1B8  7C 60 07 74 */	extsb r0, r3
/* 8003123C 0002D1BC  2C 00 00 2F */	cmpwi r0, 0x2f
/* 80031240 0002D1C0  40 82 FF A8 */	bne .L_800311E8
.L_80031244:
/* 80031244 0002D1C4  2C 05 00 01 */	cmpwi r5, 0x1
/* 80031248 0002D1C8  40 82 00 14 */	bne .L_8003125C
/* 8003124C 0002D1CC  7C 18 E0 50 */	subf r0, r24, r28
/* 80031250 0002D1D0  2C 00 00 03 */	cmpwi r0, 0x3
/* 80031254 0002D1D4  40 81 00 08 */	ble .L_8003125C
/* 80031258 0002D1D8  38 80 00 01 */	li r4, 0x1
.L_8003125C:
/* 8003125C 0002D1DC  2C 04 00 00 */	cmpwi r4, 0x0
/* 80031260 0002D1E0  41 82 00 44 */	beq .L_800312A4
/* 80031264 0002D1E4  38 BF 00 00 */	addi r5, r31, 0x0
/* 80031268 0002D1E8  4C C6 31 82 */	crclr 4*cr1+eq
/* 8003126C 0002D1EC  38 D9 00 00 */	addi r6, r25, 0x0
/* 80031270 0002D1F0  38 6D 82 40 */	addi r3, r13, lbl_800A8CC0@sda21
/* 80031274 0002D1F4  38 80 01 78 */	li r4, 0x178
/* 80031278 0002D1F8  4B FF 89 ED */	bl OSPanic
/* 8003127C 0002D1FC  48 00 00 28 */	b .L_800312A4
.L_80031280:
/* 80031280 0002D200  7E FC BB 78 */	mr r28, r23
/* 80031284 0002D204  48 00 00 08 */	b .L_8003128C
.L_80031288:
/* 80031288 0002D208  3B 9C 00 01 */	addi r28, r28, 0x1
.L_8003128C:
/* 8003128C 0002D20C  88 7C 00 00 */	lbz r3, 0x0(r28)
/* 80031290 0002D210  7C 60 07 75 */	extsb. r0, r3
/* 80031294 0002D214  41 82 00 10 */	beq .L_800312A4
/* 80031298 0002D218  7C 60 07 74 */	extsb r0, r3
/* 8003129C 0002D21C  2C 00 00 2F */	cmpwi r0, 0x2f
/* 800312A0 0002D220  40 82 FF E8 */	bne .L_80031288
.L_800312A4:
/* 800312A4 0002D224  88 1C 00 00 */	lbz r0, 0x0(r28)
/* 800312A8 0002D228  7C 00 07 75 */	extsb. r0, r0
/* 800312AC 0002D22C  40 82 00 0C */	bne .L_800312B8
/* 800312B0 0002D230  3B C0 00 00 */	li r30, 0x0
/* 800312B4 0002D234  48 00 00 08 */	b .L_800312BC
.L_800312B8:
/* 800312B8 0002D238  3B C0 00 01 */	li r30, 0x1
.L_800312BC:
/* 800312BC 0002D23C  1F BA 00 0C */	mulli r29, r26, 0xc
/* 800312C0 0002D240  7F 77 E0 50 */	subf r27, r23, r28
/* 800312C4 0002D244  3B 5A 00 01 */	addi r26, r26, 0x1
/* 800312C8 0002D248  48 00 00 E4 */	b .L_800313AC
.L_800312CC:
/* 800312CC 0002D24C  1F 9A 00 0C */	mulli r28, r26, 0xc
/* 800312D0 0002D250  7C 83 E0 2E */	lwzx r4, r3, r28
/* 800312D4 0002D254  54 80 00 0F */	clrrwi. r0, r4, 24
/* 800312D8 0002D258  40 82 00 0C */	bne .L_800312E4
/* 800312DC 0002D25C  38 00 00 00 */	li r0, 0x0
/* 800312E0 0002D260  48 00 00 08 */	b .L_800312E8
.L_800312E4:
/* 800312E4 0002D264  38 00 00 01 */	li r0, 0x1
.L_800312E8:
/* 800312E8 0002D268  2C 00 00 00 */	cmpwi r0, 0x0
/* 800312EC 0002D26C  40 82 00 0C */	bne .L_800312F8
/* 800312F0 0002D270  2C 1E 00 01 */	cmpwi r30, 0x1
/* 800312F4 0002D274  41 82 00 80 */	beq .L_80031374
.L_800312F8:
/* 800312F8 0002D278  80 6D 85 48 */	lwz r3, FstStringStart@sda21(r13)
/* 800312FC 0002D27C  54 80 02 3E */	clrlwi r0, r4, 8
/* 80031300 0002D280  3A B7 00 00 */	addi r21, r23, 0x0
/* 80031304 0002D284  7E 83 02 14 */	add r20, r3, r0
/* 80031308 0002D288  48 00 00 38 */	b .L_80031340
.L_8003130C:
/* 8003130C 0002D28C  88 14 00 00 */	lbz r0, 0x0(r20)
/* 80031310 0002D290  3A 94 00 01 */	addi r20, r20, 0x1
/* 80031314 0002D294  7C 03 07 74 */	extsb r3, r0
/* 80031318 0002D298  48 02 EC 79 */	bl tolower
/* 8003131C 0002D29C  88 15 00 00 */	lbz r0, 0x0(r21)
/* 80031320 0002D2A0  3A C3 00 00 */	addi r22, r3, 0x0
/* 80031324 0002D2A4  3A B5 00 01 */	addi r21, r21, 0x1
/* 80031328 0002D2A8  7C 03 07 74 */	extsb r3, r0
/* 8003132C 0002D2AC  48 02 EC 65 */	bl tolower
/* 80031330 0002D2B0  7C 03 B0 00 */	cmpw r3, r22
/* 80031334 0002D2B4  41 82 00 0C */	beq .L_80031340
/* 80031338 0002D2B8  38 00 00 00 */	li r0, 0x0
/* 8003133C 0002D2BC  48 00 00 30 */	b .L_8003136C
.L_80031340:
/* 80031340 0002D2C0  88 14 00 00 */	lbz r0, 0x0(r20)
/* 80031344 0002D2C4  7C 00 07 75 */	extsb. r0, r0
/* 80031348 0002D2C8  40 82 FF C4 */	bne .L_8003130C
/* 8003134C 0002D2CC  88 75 00 00 */	lbz r3, 0x0(r21)
/* 80031350 0002D2D0  2C 03 00 2F */	cmpwi r3, 0x2f
/* 80031354 0002D2D4  41 82 00 0C */	beq .L_80031360
/* 80031358 0002D2D8  7C 60 07 75 */	extsb. r0, r3
/* 8003135C 0002D2DC  40 82 00 0C */	bne .L_80031368
.L_80031360:
/* 80031360 0002D2E0  38 00 00 01 */	li r0, 0x1
/* 80031364 0002D2E4  48 00 00 08 */	b .L_8003136C
.L_80031368:
/* 80031368 0002D2E8  38 00 00 00 */	li r0, 0x0
.L_8003136C:
/* 8003136C 0002D2EC  2C 00 00 01 */	cmpwi r0, 0x1
/* 80031370 0002D2F0  41 82 00 58 */	beq .L_800313C8
.L_80031374:
/* 80031374 0002D2F4  80 0D 85 44 */	lwz r0, FstStart@sda21(r13)
/* 80031378 0002D2F8  7C 60 E2 14 */	add r3, r0, r28
/* 8003137C 0002D2FC  80 03 00 00 */	lwz r0, 0x0(r3)
/* 80031380 0002D300  54 00 00 0F */	clrrwi. r0, r0, 24
/* 80031384 0002D304  40 82 00 0C */	bne .L_80031390
/* 80031388 0002D308  38 00 00 00 */	li r0, 0x0
/* 8003138C 0002D30C  48 00 00 08 */	b .L_80031394
.L_80031390:
/* 80031390 0002D310  38 00 00 01 */	li r0, 0x1
.L_80031394:
/* 80031394 0002D314  2C 00 00 00 */	cmpwi r0, 0x0
/* 80031398 0002D318  41 82 00 0C */	beq .L_800313A4
/* 8003139C 0002D31C  80 03 00 08 */	lwz r0, 0x8(r3)
/* 800313A0 0002D320  48 00 00 08 */	b .L_800313A8
.L_800313A4:
/* 800313A4 0002D324  38 1A 00 01 */	addi r0, r26, 0x1
.L_800313A8:
/* 800313A8 0002D328  7C 1A 03 78 */	mr r26, r0
.L_800313AC:
/* 800313AC 0002D32C  80 6D 85 44 */	lwz r3, FstStart@sda21(r13)
/* 800313B0 0002D330  38 03 00 08 */	addi r0, r3, 0x8
/* 800313B4 0002D334  7C 1D 00 2E */	lwzx r0, r29, r0
/* 800313B8 0002D338  7C 1A 00 40 */	cmplw r26, r0
/* 800313BC 0002D33C  41 80 FF 10 */	blt .L_800312CC
/* 800313C0 0002D340  38 60 FF FF */	li r3, -0x1
/* 800313C4 0002D344  48 00 00 20 */	b .L_800313E4
.L_800313C8:
/* 800313C8 0002D348  2C 1E 00 00 */	cmpwi r30, 0x0
/* 800313CC 0002D34C  40 82 00 0C */	bne .L_800313D8
/* 800313D0 0002D350  7F 43 D3 78 */	mr r3, r26
/* 800313D4 0002D354  48 00 00 10 */	b .L_800313E4
.L_800313D8:
/* 800313D8 0002D358  7E FB BA 14 */	add r23, r27, r23
/* 800313DC 0002D35C  3A F7 00 01 */	addi r23, r23, 0x1
/* 800313E0 0002D360  4B FF FD 48 */	b .L_80031128
.L_800313E4:
/* 800313E4 0002D364  BA 81 00 18 */	lmw r20, 0x18(r1)
/* 800313E8 0002D368  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 800313EC 0002D36C  38 21 00 48 */	addi r1, r1, 0x48
/* 800313F0 0002D370  7C 08 03 A6 */	mtlr r0
/* 800313F4 0002D374  4E 80 00 20 */	blr
.endfn DVDConvertPathToEntrynum

.fn DVDOpen, global
/* 800313F8 0002D378  7C 08 02 A6 */	mflr r0
/* 800313FC 0002D37C  90 01 00 04 */	stw r0, 0x4(r1)
/* 80031400 0002D380  94 21 FF 68 */	stwu r1, -0x98(r1)
/* 80031404 0002D384  93 E1 00 94 */	stw r31, 0x94(r1)
/* 80031408 0002D388  3B E4 00 00 */	addi r31, r4, 0x0
/* 8003140C 0002D38C  93 C1 00 90 */	stw r30, 0x90(r1)
/* 80031410 0002D390  3B C3 00 00 */	addi r30, r3, 0x0
/* 80031414 0002D394  4B FF FC F1 */	bl DVDConvertPathToEntrynum
/* 80031418 0002D398  2C 03 00 00 */	cmpwi r3, 0x0
/* 8003141C 0002D39C  40 80 00 30 */	bge .L_8003144C
/* 80031420 0002D3A0  38 61 00 10 */	addi r3, r1, 0x10
/* 80031424 0002D3A4  38 80 00 80 */	li r4, 0x80
/* 80031428 0002D3A8  48 00 02 1D */	bl DVDGetCurrentDir
/* 8003142C 0002D3AC  3C 60 80 07 */	lis r3, lbl_800682E0@ha
/* 80031430 0002D3B0  4C C6 31 82 */	crclr 4*cr1+eq
/* 80031434 0002D3B4  38 63 82 E0 */	addi r3, r3, lbl_800682E0@l
/* 80031438 0002D3B8  38 9E 00 00 */	addi r4, r30, 0x0
/* 8003143C 0002D3BC  38 A1 00 10 */	addi r5, r1, 0x10
/* 80031440 0002D3C0  4B FF 87 A5 */	bl OSReport
/* 80031444 0002D3C4  38 60 00 00 */	li r3, 0x0
/* 80031448 0002D3C8  48 00 00 60 */	b .L_800314A8
.L_8003144C:
/* 8003144C 0002D3CC  1C A3 00 0C */	mulli r5, r3, 0xc
/* 80031450 0002D3D0  80 6D 85 44 */	lwz r3, FstStart@sda21(r13)
/* 80031454 0002D3D4  7C 03 28 2E */	lwzx r0, r3, r5
/* 80031458 0002D3D8  54 00 00 0F */	clrrwi. r0, r0, 24
/* 8003145C 0002D3DC  40 82 00 0C */	bne .L_80031468
/* 80031460 0002D3E0  38 00 00 00 */	li r0, 0x0
/* 80031464 0002D3E4  48 00 00 08 */	b .L_8003146C
.L_80031468:
/* 80031468 0002D3E8  38 00 00 01 */	li r0, 0x1
.L_8003146C:
/* 8003146C 0002D3EC  2C 00 00 00 */	cmpwi r0, 0x0
/* 80031470 0002D3F0  41 82 00 0C */	beq .L_8003147C
/* 80031474 0002D3F4  38 60 00 00 */	li r3, 0x0
/* 80031478 0002D3F8  48 00 00 30 */	b .L_800314A8
.L_8003147C:
/* 8003147C 0002D3FC  7C 63 2A 14 */	add r3, r3, r5
/* 80031480 0002D400  80 83 00 04 */	lwz r4, 0x4(r3)
/* 80031484 0002D404  38 00 00 00 */	li r0, 0x0
/* 80031488 0002D408  38 60 00 01 */	li r3, 0x1
/* 8003148C 0002D40C  90 9F 00 30 */	stw r4, 0x30(r31)
/* 80031490 0002D410  80 8D 85 44 */	lwz r4, FstStart@sda21(r13)
/* 80031494 0002D414  7C 84 2A 14 */	add r4, r4, r5
/* 80031498 0002D418  80 84 00 08 */	lwz r4, 0x8(r4)
/* 8003149C 0002D41C  90 9F 00 34 */	stw r4, 0x34(r31)
/* 800314A0 0002D420  90 1F 00 38 */	stw r0, 0x38(r31)
/* 800314A4 0002D424  90 1F 00 0C */	stw r0, 0xc(r31)
.L_800314A8:
/* 800314A8 0002D428  80 01 00 9C */	lwz r0, 0x9c(r1)
/* 800314AC 0002D42C  83 E1 00 94 */	lwz r31, 0x94(r1)
/* 800314B0 0002D430  83 C1 00 90 */	lwz r30, 0x90(r1)
/* 800314B4 0002D434  7C 08 03 A6 */	mtlr r0
/* 800314B8 0002D438  38 21 00 98 */	addi r1, r1, 0x98
/* 800314BC 0002D43C  4E 80 00 20 */	blr
.endfn DVDOpen

.fn DVDClose, global
/* 800314C0 0002D440  7C 08 02 A6 */	mflr r0
/* 800314C4 0002D444  90 01 00 04 */	stw r0, 0x4(r1)
/* 800314C8 0002D448  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 800314CC 0002D44C  48 00 24 09 */	bl DVDCancel
/* 800314D0 0002D450  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800314D4 0002D454  38 60 00 01 */	li r3, 0x1
/* 800314D8 0002D458  38 21 00 08 */	addi r1, r1, 0x8
/* 800314DC 0002D45C  7C 08 03 A6 */	mtlr r0
/* 800314E0 0002D460  4E 80 00 20 */	blr
.endfn DVDClose

.fn entryToPath, local
/* 800314E4 0002D464  7C 08 02 A6 */	mflr r0
/* 800314E8 0002D468  28 03 00 00 */	cmplwi r3, 0x0
/* 800314EC 0002D46C  90 01 00 04 */	stw r0, 0x4(r1)
/* 800314F0 0002D470  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800314F4 0002D474  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 800314F8 0002D478  93 C1 00 28 */	stw r30, 0x28(r1)
/* 800314FC 0002D47C  3B C5 00 00 */	addi r30, r5, 0x0
/* 80031500 0002D480  93 A1 00 24 */	stw r29, 0x24(r1)
/* 80031504 0002D484  3B A4 00 00 */	addi r29, r4, 0x0
/* 80031508 0002D488  93 81 00 20 */	stw r28, 0x20(r1)
/* 8003150C 0002D48C  40 82 00 0C */	bne .L_80031518
/* 80031510 0002D490  38 60 00 00 */	li r3, 0x0
/* 80031514 0002D494  48 00 01 10 */	b .L_80031624
.L_80031518:
/* 80031518 0002D498  80 8D 85 44 */	lwz r4, FstStart@sda21(r13)
/* 8003151C 0002D49C  1C 63 00 0C */	mulli r3, r3, 0xc
/* 80031520 0002D4A0  80 CD 85 48 */	lwz r6, FstStringStart@sda21(r13)
/* 80031524 0002D4A4  38 A4 00 04 */	addi r5, r4, 0x4
/* 80031528 0002D4A8  7C 04 18 2E */	lwzx r0, r4, r3
/* 8003152C 0002D4AC  7C 65 18 2E */	lwzx r3, r5, r3
/* 80031530 0002D4B0  54 00 02 3E */	clrlwi r0, r0, 8
/* 80031534 0002D4B4  28 03 00 00 */	cmplwi r3, 0x0
/* 80031538 0002D4B8  7F E6 02 14 */	add r31, r6, r0
/* 8003153C 0002D4BC  40 82 00 0C */	bne .L_80031548
/* 80031540 0002D4C0  38 60 00 00 */	li r3, 0x0
/* 80031544 0002D4C4  48 00 00 80 */	b .L_800315C4
.L_80031548:
/* 80031548 0002D4C8  1C 63 00 0C */	mulli r3, r3, 0xc
/* 8003154C 0002D4CC  7C 04 18 2E */	lwzx r0, r4, r3
/* 80031550 0002D4D0  7F A4 EB 78 */	mr r4, r29
/* 80031554 0002D4D4  7C 65 18 2E */	lwzx r3, r5, r3
/* 80031558 0002D4D8  38 BE 00 00 */	addi r5, r30, 0x0
/* 8003155C 0002D4DC  54 00 02 3E */	clrlwi r0, r0, 8
/* 80031560 0002D4E0  7F 86 02 14 */	add r28, r6, r0
/* 80031564 0002D4E4  4B FF FF 81 */	bl entryToPath
/* 80031568 0002D4E8  7C 03 F0 40 */	cmplw r3, r30
/* 8003156C 0002D4EC  40 82 00 08 */	bne .L_80031574
/* 80031570 0002D4F0  48 00 00 54 */	b .L_800315C4
.L_80031574:
/* 80031574 0002D4F4  38 03 00 00 */	addi r0, r3, 0x0
/* 80031578 0002D4F8  38 63 00 01 */	addi r3, r3, 0x1
/* 8003157C 0002D4FC  38 80 00 2F */	li r4, 0x2f
/* 80031580 0002D500  7C C3 F0 50 */	subf r6, r3, r30
/* 80031584 0002D504  7C 9D 01 AE */	stbx r4, r29, r0
/* 80031588 0002D508  38 86 00 00 */	addi r4, r6, 0x0
/* 8003158C 0002D50C  7C BD 1A 14 */	add r5, r29, r3
/* 80031590 0002D510  48 00 00 18 */	b .L_800315A8
.L_80031594:
/* 80031594 0002D514  88 1C 00 00 */	lbz r0, 0x0(r28)
/* 80031598 0002D518  3B 9C 00 01 */	addi r28, r28, 0x1
/* 8003159C 0002D51C  38 84 FF FF */	addi r4, r4, -0x1
/* 800315A0 0002D520  98 05 00 00 */	stb r0, 0x0(r5)
/* 800315A4 0002D524  38 A5 00 01 */	addi r5, r5, 0x1
.L_800315A8:
/* 800315A8 0002D528  28 04 00 00 */	cmplwi r4, 0x0
/* 800315AC 0002D52C  41 82 00 10 */	beq .L_800315BC
/* 800315B0 0002D530  88 1C 00 00 */	lbz r0, 0x0(r28)
/* 800315B4 0002D534  7C 00 07 75 */	extsb. r0, r0
/* 800315B8 0002D538  40 82 FF DC */	bne .L_80031594
.L_800315BC:
/* 800315BC 0002D53C  7C 04 30 50 */	subf r0, r4, r6
/* 800315C0 0002D540  7C 63 02 14 */	add r3, r3, r0
.L_800315C4:
/* 800315C4 0002D544  7C 03 F0 40 */	cmplw r3, r30
/* 800315C8 0002D548  40 82 00 08 */	bne .L_800315D0
/* 800315CC 0002D54C  48 00 00 58 */	b .L_80031624
.L_800315D0:
/* 800315D0 0002D550  38 03 00 00 */	addi r0, r3, 0x0
/* 800315D4 0002D554  38 63 00 01 */	addi r3, r3, 0x1
/* 800315D8 0002D558  38 80 00 2F */	li r4, 0x2f
/* 800315DC 0002D55C  7C E3 F0 50 */	subf r7, r3, r30
/* 800315E0 0002D560  7C 9D 01 AE */	stbx r4, r29, r0
/* 800315E4 0002D564  38 DF 00 00 */	addi r6, r31, 0x0
/* 800315E8 0002D568  38 87 00 00 */	addi r4, r7, 0x0
/* 800315EC 0002D56C  7C BD 1A 14 */	add r5, r29, r3
/* 800315F0 0002D570  48 00 00 18 */	b .L_80031608
.L_800315F4:
/* 800315F4 0002D574  88 06 00 00 */	lbz r0, 0x0(r6)
/* 800315F8 0002D578  38 C6 00 01 */	addi r6, r6, 0x1
/* 800315FC 0002D57C  38 84 FF FF */	addi r4, r4, -0x1
/* 80031600 0002D580  98 05 00 00 */	stb r0, 0x0(r5)
/* 80031604 0002D584  38 A5 00 01 */	addi r5, r5, 0x1
.L_80031608:
/* 80031608 0002D588  28 04 00 00 */	cmplwi r4, 0x0
/* 8003160C 0002D58C  41 82 00 10 */	beq .L_8003161C
/* 80031610 0002D590  88 06 00 00 */	lbz r0, 0x0(r6)
/* 80031614 0002D594  7C 00 07 75 */	extsb. r0, r0
/* 80031618 0002D598  40 82 FF DC */	bne .L_800315F4
.L_8003161C:
/* 8003161C 0002D59C  7C 04 38 50 */	subf r0, r4, r7
/* 80031620 0002D5A0  7C 63 02 14 */	add r3, r3, r0
.L_80031624:
/* 80031624 0002D5A4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80031628 0002D5A8  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 8003162C 0002D5AC  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80031630 0002D5B0  7C 08 03 A6 */	mtlr r0
/* 80031634 0002D5B4  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80031638 0002D5B8  83 81 00 20 */	lwz r28, 0x20(r1)
/* 8003163C 0002D5BC  38 21 00 30 */	addi r1, r1, 0x30
/* 80031640 0002D5C0  4E 80 00 20 */	blr
.endfn entryToPath

.fn DVDGetCurrentDir, global
/* 80031644 0002D5C4  7C 08 02 A6 */	mflr r0
/* 80031648 0002D5C8  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003164C 0002D5CC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80031650 0002D5D0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80031654 0002D5D4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80031658 0002D5D8  3B C4 00 00 */	addi r30, r4, 0x0
/* 8003165C 0002D5DC  38 BE 00 00 */	addi r5, r30, 0x0
/* 80031660 0002D5E0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80031664 0002D5E4  3B A3 00 00 */	addi r29, r3, 0x0
/* 80031668 0002D5E8  38 9D 00 00 */	addi r4, r29, 0x0
/* 8003166C 0002D5EC  83 ED 85 50 */	lwz r31, currentDirectory@sda21(r13)
/* 80031670 0002D5F0  38 7F 00 00 */	addi r3, r31, 0x0
/* 80031674 0002D5F4  4B FF FE 71 */	bl entryToPath
/* 80031678 0002D5F8  7C 03 F0 40 */	cmplw r3, r30
/* 8003167C 0002D5FC  40 82 00 14 */	bne .L_80031690
/* 80031680 0002D600  38 00 00 00 */	li r0, 0x0
/* 80031684 0002D604  7C 7D F2 14 */	add r3, r29, r30
/* 80031688 0002D608  98 03 FF FF */	stb r0, -0x1(r3)
/* 8003168C 0002D60C  48 00 00 5C */	b .L_800316E8
.L_80031690:
/* 80031690 0002D610  1C 1F 00 0C */	mulli r0, r31, 0xc
/* 80031694 0002D614  80 8D 85 44 */	lwz r4, FstStart@sda21(r13)
/* 80031698 0002D618  7C 04 00 2E */	lwzx r0, r4, r0
/* 8003169C 0002D61C  54 00 00 0F */	clrrwi. r0, r0, 24
/* 800316A0 0002D620  40 82 00 0C */	bne .L_800316AC
/* 800316A4 0002D624  38 00 00 00 */	li r0, 0x0
/* 800316A8 0002D628  48 00 00 08 */	b .L_800316B0
.L_800316AC:
/* 800316AC 0002D62C  38 00 00 01 */	li r0, 0x1
.L_800316B0:
/* 800316B0 0002D630  2C 00 00 00 */	cmpwi r0, 0x0
/* 800316B4 0002D634  41 82 00 28 */	beq .L_800316DC
/* 800316B8 0002D638  38 1E FF FF */	addi r0, r30, -0x1
/* 800316BC 0002D63C  7C 03 00 40 */	cmplw r3, r0
/* 800316C0 0002D640  40 82 00 10 */	bne .L_800316D0
/* 800316C4 0002D644  38 00 00 00 */	li r0, 0x0
/* 800316C8 0002D648  7C 1D 19 AE */	stbx r0, r29, r3
/* 800316CC 0002D64C  48 00 00 1C */	b .L_800316E8
.L_800316D0:
/* 800316D0 0002D650  38 00 00 2F */	li r0, 0x2f
/* 800316D4 0002D654  7C 1D 19 AE */	stbx r0, r29, r3
/* 800316D8 0002D658  38 63 00 01 */	addi r3, r3, 0x1
.L_800316DC:
/* 800316DC 0002D65C  38 00 00 00 */	li r0, 0x0
/* 800316E0 0002D660  7C 1D 19 AE */	stbx r0, r29, r3
/* 800316E4 0002D664  38 00 00 01 */	li r0, 0x1
.L_800316E8:
/* 800316E8 0002D668  7C 03 03 78 */	mr r3, r0
/* 800316EC 0002D66C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800316F0 0002D670  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800316F4 0002D674  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800316F8 0002D678  7C 08 03 A6 */	mtlr r0
/* 800316FC 0002D67C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80031700 0002D680  38 21 00 20 */	addi r1, r1, 0x20
/* 80031704 0002D684  4E 80 00 20 */	blr
.endfn DVDGetCurrentDir

.fn DVDReadPrio, global
/* 80031708 0002D688  7C 08 02 A6 */	mflr r0
/* 8003170C 0002D68C  90 01 00 04 */	stw r0, 0x4(r1)
/* 80031710 0002D690  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 80031714 0002D694  BF 61 00 24 */	stmw r27, 0x24(r1)
/* 80031718 0002D698  7C DD 33 79 */	mr. r29, r6
/* 8003171C 0002D69C  3B E3 00 00 */	addi r31, r3, 0x0
/* 80031720 0002D6A0  3B 64 00 00 */	addi r27, r4, 0x0
/* 80031724 0002D6A4  3B 85 00 00 */	addi r28, r5, 0x0
/* 80031728 0002D6A8  3B C7 00 00 */	addi r30, r7, 0x0
/* 8003172C 0002D6AC  41 80 00 10 */	blt .L_8003173C
/* 80031730 0002D6B0  80 1F 00 34 */	lwz r0, 0x34(r31)
/* 80031734 0002D6B4  7C 1D 00 40 */	cmplw r29, r0
/* 80031738 0002D6B8  41 80 00 1C */	blt .L_80031754
.L_8003173C:
/* 8003173C 0002D6BC  3C 60 80 07 */	lis r3, lbl_80068318@ha
/* 80031740 0002D6C0  4C C6 31 82 */	crclr 4*cr1+eq
/* 80031744 0002D6C4  38 A3 83 18 */	addi r5, r3, lbl_80068318@l
/* 80031748 0002D6C8  38 6D 82 40 */	addi r3, r13, lbl_800A8CC0@sda21
/* 8003174C 0002D6CC  38 80 03 29 */	li r4, 0x329
/* 80031750 0002D6D0  4B FF 85 15 */	bl OSPanic
.L_80031754:
/* 80031754 0002D6D4  7C 9D E2 15 */	add. r4, r29, r28
/* 80031758 0002D6D8  41 80 00 14 */	blt .L_8003176C
/* 8003175C 0002D6DC  80 7F 00 34 */	lwz r3, 0x34(r31)
/* 80031760 0002D6E0  38 03 00 20 */	addi r0, r3, 0x20
/* 80031764 0002D6E4  7C 04 00 40 */	cmplw r4, r0
/* 80031768 0002D6E8  41 80 00 1C */	blt .L_80031784
.L_8003176C:
/* 8003176C 0002D6EC  3C 60 80 07 */	lis r3, lbl_80068318@ha
/* 80031770 0002D6F0  4C C6 31 82 */	crclr 4*cr1+eq
/* 80031774 0002D6F4  38 A3 83 18 */	addi r5, r3, lbl_80068318@l
/* 80031778 0002D6F8  38 6D 82 40 */	addi r3, r13, lbl_800A8CC0@sda21
/* 8003177C 0002D6FC  38 80 03 2F */	li r4, 0x32f
/* 80031780 0002D700  4B FF 84 E5 */	bl OSPanic
.L_80031784:
/* 80031784 0002D704  80 1F 00 30 */	lwz r0, 0x30(r31)
/* 80031788 0002D708  3C 80 80 03 */	lis r4, cbForReadSync@ha
/* 8003178C 0002D70C  38 E4 18 20 */	addi r7, r4, cbForReadSync@l
/* 80031790 0002D710  38 7F 00 00 */	addi r3, r31, 0x0
/* 80031794 0002D714  38 9B 00 00 */	addi r4, r27, 0x0
/* 80031798 0002D718  38 BC 00 00 */	addi r5, r28, 0x0
/* 8003179C 0002D71C  39 1E 00 00 */	addi r8, r30, 0x0
/* 800317A0 0002D720  7C C0 EA 14 */	add r6, r0, r29
/* 800317A4 0002D724  48 00 1B 41 */	bl DVDReadAbsAsyncPrio
/* 800317A8 0002D728  2C 03 00 00 */	cmpwi r3, 0x0
/* 800317AC 0002D72C  40 82 00 0C */	bne .L_800317B8
/* 800317B0 0002D730  38 60 FF FF */	li r3, -0x1
/* 800317B4 0002D734  48 00 00 58 */	b .L_8003180C
.L_800317B8:
/* 800317B8 0002D738  4B FF 98 2D */	bl OSDisableInterrupts
/* 800317BC 0002D73C  7C 7E 1B 78 */	mr r30, r3
.L_800317C0:
/* 800317C0 0002D740  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 800317C4 0002D744  2C 00 00 00 */	cmpwi r0, 0x0
/* 800317C8 0002D748  40 82 00 0C */	bne .L_800317D4
/* 800317CC 0002D74C  83 FF 00 20 */	lwz r31, 0x20(r31)
/* 800317D0 0002D750  48 00 00 30 */	b .L_80031800
.L_800317D4:
/* 800317D4 0002D754  2C 00 FF FF */	cmpwi r0, -0x1
/* 800317D8 0002D758  40 82 00 0C */	bne .L_800317E4
/* 800317DC 0002D75C  3B E0 FF FF */	li r31, -0x1
/* 800317E0 0002D760  48 00 00 20 */	b .L_80031800
.L_800317E4:
/* 800317E4 0002D764  2C 00 00 0A */	cmpwi r0, 0xa
/* 800317E8 0002D768  40 82 00 0C */	bne .L_800317F4
/* 800317EC 0002D76C  3B E0 FF FD */	li r31, -0x3
/* 800317F0 0002D770  48 00 00 10 */	b .L_80031800
.L_800317F4:
/* 800317F4 0002D774  38 6D 85 58 */	addi r3, r13, __DVDThreadQueue@sda21
/* 800317F8 0002D778  4B FF DA 6D */	bl OSSleepThread
/* 800317FC 0002D77C  4B FF FF C4 */	b .L_800317C0
.L_80031800:
/* 80031800 0002D780  7F C3 F3 78 */	mr r3, r30
/* 80031804 0002D784  4B FF 98 09 */	bl OSRestoreInterrupts
/* 80031808 0002D788  7F E3 FB 78 */	mr r3, r31
.L_8003180C:
/* 8003180C 0002D78C  BB 61 00 24 */	lmw r27, 0x24(r1)
/* 80031810 0002D790  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 80031814 0002D794  38 21 00 38 */	addi r1, r1, 0x38
/* 80031818 0002D798  7C 08 03 A6 */	mtlr r0
/* 8003181C 0002D79C  4E 80 00 20 */	blr
.endfn DVDReadPrio

.fn cbForReadSync, local
/* 80031820 0002D7A0  7C 08 02 A6 */	mflr r0
/* 80031824 0002D7A4  38 6D 85 58 */	addi r3, r13, __DVDThreadQueue@sda21
/* 80031828 0002D7A8  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003182C 0002D7AC  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 80031830 0002D7B0  4B FF DB 21 */	bl OSWakeupThread
/* 80031834 0002D7B4  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80031838 0002D7B8  38 21 00 08 */	addi r1, r1, 0x8
/* 8003183C 0002D7BC  7C 08 03 A6 */	mtlr r0
/* 80031840 0002D7C0  4E 80 00 20 */	blr
.endfn cbForReadSync

.section .data, "wa"  # 0x80065000 - 0x8006D1C0

lbl_80068218:
	.asciz "DVDConvertEntrynumToPath(possibly DVDOpen or DVDChangeDir or DVDOpenDir): specified directory or file (%s) doesn't match standard 8.3 format. This is a temporary restriction and will be removed soon\n"

lbl_800682E0:
	.asciz "Warning: DVDOpen(): file '%s' was not found under %s.\n"
	.balign 4

lbl_80068318:
	.asciz "DVDRead(): specified area is out of the file  "
	.balign 4

.section .sdata, "wa"  # 0x800A8A80 - 0x800A8DC0

lbl_800A8CC0:
	.asciz "dvdfs.c"

.section .sbss, "", @nobits  # 0x800A8DC0 - 0x800A9380


BootInfo:
	.skip 0x4

FstStart:
	.skip 0x4

FstStringStart:
	.skip 0x4

MaxEntryNum:
	.skip 0x4

currentDirectory:
	.skip 0x4

.global __DVDLongFileNameFlag
__DVDLongFileNameFlag:
	.skip 0x4

.global __DVDThreadQueue
__DVDThreadQueue:
	.skip 0x8