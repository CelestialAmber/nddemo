.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.global __GXSetDirtyState
__GXSetDirtyState:
/* 8003CCE4 00038C64  7C 08 02 A6 */	mflr r0
/* 8003CCE8 00038C68  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003CCEC 00038C6C  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 8003CCF0 00038C70  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CCF4 00038C74  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CCF8 00038C78  54 00 07 FF */	clrlwi. r0, r0, 31
/* 8003CCFC 00038C7C  41 82 00 08 */	beq .L_8003CD04
/* 8003CD00 00038C80  48 00 21 99 */	bl __GXSetSUTexRegs
.L_8003CD04:
/* 8003CD04 00038C84  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CD08 00038C88  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CD0C 00038C8C  54 00 07 BD */	rlwinm. r0, r0, 0, 30, 30
/* 8003CD10 00038C90  41 82 00 08 */	beq .L_8003CD18
/* 8003CD14 00038C94  48 00 2A F1 */	bl __GXUpdateBPMask
.L_8003CD18:
/* 8003CD18 00038C98  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CD1C 00038C9C  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CD20 00038CA0  54 00 07 7B */	rlwinm. r0, r0, 0, 29, 29
/* 8003CD24 00038CA4  41 82 00 08 */	beq .L_8003CD2C
/* 8003CD28 00038CA8  48 00 03 51 */	bl __GXSetGenMode
.L_8003CD2C:
/* 8003CD2C 00038CAC  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CD30 00038CB0  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CD34 00038CB4  54 00 07 39 */	rlwinm. r0, r0, 0, 28, 28
/* 8003CD38 00038CB8  41 82 00 08 */	beq .L_8003CD40
/* 8003CD3C 00038CBC  4B FF EF 5D */	bl __GXSetVCD
.L_8003CD40:
/* 8003CD40 00038CC0  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CD44 00038CC4  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CD48 00038CC8  54 00 06 F7 */	rlwinm. r0, r0, 0, 27, 27
/* 8003CD4C 00038CCC  41 82 00 08 */	beq .L_8003CD54
/* 8003CD50 00038CD0  4B FF F6 7D */	bl __GXSetVAT
.L_8003CD54:
/* 8003CD54 00038CD4  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CD58 00038CD8  38 00 00 00 */	li r0, 0x0
/* 8003CD5C 00038CDC  90 03 04 F0 */	stw r0, 0x4f0(r3)
/* 8003CD60 00038CE0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8003CD64 00038CE4  38 21 00 08 */	addi r1, r1, 0x8
/* 8003CD68 00038CE8  7C 08 03 A6 */	mtlr r0
/* 8003CD6C 00038CEC  4E 80 00 20 */	blr

.global GXBegin
GXBegin:
/* 8003CD70 00038CF0  7C 08 02 A6 */	mflr r0
/* 8003CD74 00038CF4  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003CD78 00038CF8  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 8003CD7C 00038CFC  93 E1 00 24 */	stw r31, 0x24(r1)
/* 8003CD80 00038D00  3B E5 00 00 */	addi r31, r5, 0x0
/* 8003CD84 00038D04  93 C1 00 20 */	stw r30, 0x20(r1)
/* 8003CD88 00038D08  3B C4 00 00 */	addi r30, r4, 0x0
/* 8003CD8C 00038D0C  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 8003CD90 00038D10  3B A3 00 00 */	addi r29, r3, 0x0
/* 8003CD94 00038D14  80 CD 82 90 */	lwz r6, gx@sda21(r13)
/* 8003CD98 00038D18  80 06 04 F0 */	lwz r0, 0x4f0(r6)
/* 8003CD9C 00038D1C  28 00 00 00 */	cmplwi r0, 0x0
/* 8003CDA0 00038D20  41 82 00 6C */	beq .L_8003CE0C
/* 8003CDA4 00038D24  54 00 07 FF */	clrlwi. r0, r0, 31
/* 8003CDA8 00038D28  41 82 00 08 */	beq .L_8003CDB0
/* 8003CDAC 00038D2C  48 00 20 ED */	bl __GXSetSUTexRegs
.L_8003CDB0:
/* 8003CDB0 00038D30  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CDB4 00038D34  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CDB8 00038D38  54 00 07 BD */	rlwinm. r0, r0, 0, 30, 30
/* 8003CDBC 00038D3C  41 82 00 08 */	beq .L_8003CDC4
/* 8003CDC0 00038D40  48 00 2A 45 */	bl __GXUpdateBPMask
.L_8003CDC4:
/* 8003CDC4 00038D44  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CDC8 00038D48  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CDCC 00038D4C  54 00 07 7B */	rlwinm. r0, r0, 0, 29, 29
/* 8003CDD0 00038D50  41 82 00 08 */	beq .L_8003CDD8
/* 8003CDD4 00038D54  48 00 02 A5 */	bl __GXSetGenMode
.L_8003CDD8:
/* 8003CDD8 00038D58  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CDDC 00038D5C  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CDE0 00038D60  54 00 07 39 */	rlwinm. r0, r0, 0, 28, 28
/* 8003CDE4 00038D64  41 82 00 08 */	beq .L_8003CDEC
/* 8003CDE8 00038D68  4B FF EE B1 */	bl __GXSetVCD
.L_8003CDEC:
/* 8003CDEC 00038D6C  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CDF0 00038D70  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003CDF4 00038D74  54 00 06 F7 */	rlwinm. r0, r0, 0, 27, 27
/* 8003CDF8 00038D78  41 82 00 08 */	beq .L_8003CE00
/* 8003CDFC 00038D7C  4B FF F5 D1 */	bl __GXSetVAT
.L_8003CE00:
/* 8003CE00 00038D80  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CE04 00038D84  38 00 00 00 */	li r0, 0x0
/* 8003CE08 00038D88  90 03 04 F0 */	stw r0, 0x4f0(r3)
.L_8003CE0C:
/* 8003CE0C 00038D8C  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CE10 00038D90  80 03 00 00 */	lwz r0, 0x0(r3)
/* 8003CE14 00038D94  28 00 00 00 */	cmplwi r0, 0x0
/* 8003CE18 00038D98  40 82 00 08 */	bne .L_8003CE20
/* 8003CE1C 00038D9C  48 00 00 31 */	bl __GXSendFlushPrim
.L_8003CE20:
/* 8003CE20 00038DA0  7F C0 EB 78 */	or r0, r30, r29
/* 8003CE24 00038DA4  3C 60 CC 01 */	lis r3, 0xCC008000@ha
/* 8003CE28 00038DA8  98 03 80 00 */	stb r0, 0xCC008000@l(r3)
/* 8003CE2C 00038DAC  B3 E3 80 00 */	sth r31, -0x8000(r3)
/* 8003CE30 00038DB0  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 8003CE34 00038DB4  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 8003CE38 00038DB8  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 8003CE3C 00038DBC  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 8003CE40 00038DC0  38 21 00 28 */	addi r1, r1, 0x28
/* 8003CE44 00038DC4  7C 08 03 A6 */	mtlr r0
/* 8003CE48 00038DC8  4E 80 00 20 */	blr

.global __GXSendFlushPrim
__GXSendFlushPrim:
/* 8003CE4C 00038DCC  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CE50 00038DD0  38 00 00 98 */	li r0, 0x98
/* 8003CE54 00038DD4  3C A0 CC 01 */	lis r5, 0xCC008000@ha
/* 8003CE58 00038DD8  A0 C3 00 04 */	lhz r6, 0x4(r3)
/* 8003CE5C 00038DDC  38 80 00 00 */	li r4, 0x0
/* 8003CE60 00038DE0  A0 63 00 06 */	lhz r3, 0x6(r3)
/* 8003CE64 00038DE4  7C E6 19 D6 */	mullw r7, r6, r3
/* 8003CE68 00038DE8  98 05 80 00 */	stb r0, 0xCC008000@l(r5)
/* 8003CE6C 00038DEC  B0 C5 80 00 */	sth r6, -0x8000(r5)
/* 8003CE70 00038DF0  38 67 00 03 */	addi r3, r7, 0x3
/* 8003CE74 00038DF4  28 07 00 00 */	cmplwi r7, 0x0
/* 8003CE78 00038DF8  54 63 F0 BE */	srwi r3, r3, 2
/* 8003CE7C 00038DFC  40 81 00 48 */	ble .L_8003CEC4
/* 8003CE80 00038E00  54 60 E8 FF */	srwi. r0, r3, 3
/* 8003CE84 00038E04  7C 09 03 A6 */	mtctr r0
/* 8003CE88 00038E08  41 82 00 30 */	beq .L_8003CEB8
.L_8003CE8C:
/* 8003CE8C 00038E0C  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CE90 00038E10  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CE94 00038E14  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CE98 00038E18  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CE9C 00038E1C  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CEA0 00038E20  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CEA4 00038E24  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CEA8 00038E28  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CEAC 00038E2C  42 00 FF E0 */	bdnz .L_8003CE8C
/* 8003CEB0 00038E30  70 63 00 07 */	andi. r3, r3, 0x7
/* 8003CEB4 00038E34  41 82 00 10 */	beq .L_8003CEC4
.L_8003CEB8:
/* 8003CEB8 00038E38  7C 69 03 A6 */	mtctr r3
.L_8003CEBC:
/* 8003CEBC 00038E3C  90 85 80 00 */	stw r4, -0x8000(r5)
/* 8003CEC0 00038E40  42 00 FF FC */	bdnz .L_8003CEBC
.L_8003CEC4:
/* 8003CEC4 00038E44  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CEC8 00038E48  38 00 00 01 */	li r0, 0x1
/* 8003CECC 00038E4C  B0 03 00 02 */	sth r0, 0x2(r3)
/* 8003CED0 00038E50  4E 80 00 20 */	blr

.global GXSetLineWidth
GXSetLineWidth:
/* 8003CED4 00038E54  80 AD 82 90 */	lwz r5, gx@sda21(r13)
/* 8003CED8 00038E58  54 86 80 1E */	slwi r6, r4, 16
/* 8003CEDC 00038E5C  38 80 00 61 */	li r4, 0x61
/* 8003CEE0 00038E60  80 05 00 7C */	lwz r0, 0x7c(r5)
/* 8003CEE4 00038E64  38 E5 00 7C */	addi r7, r5, 0x7c
/* 8003CEE8 00038E68  3C A0 CC 01 */	lis r5, 0xCC008000@ha
/* 8003CEEC 00038E6C  54 00 00 2E */	clrrwi r0, r0, 8
/* 8003CEF0 00038E70  50 60 06 3E */	rlwimi r0, r3, 0, 24, 31
/* 8003CEF4 00038E74  90 07 00 00 */	stw r0, 0x0(r7)
/* 8003CEF8 00038E78  38 00 00 00 */	li r0, 0x0
/* 8003CEFC 00038E7C  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CF00 00038E80  38 E3 00 7C */	addi r7, r3, 0x7c
/* 8003CF04 00038E84  80 63 00 7C */	lwz r3, 0x7c(r3)
/* 8003CF08 00038E88  54 63 04 18 */	rlwinm r3, r3, 0, 16, 12
/* 8003CF0C 00038E8C  7C 63 33 78 */	or r3, r3, r6
/* 8003CF10 00038E90  90 67 00 00 */	stw r3, 0x0(r7)
/* 8003CF14 00038E94  98 85 80 00 */	stb r4, 0xCC008000@l(r5)
/* 8003CF18 00038E98  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003CF1C 00038E9C  80 64 00 7C */	lwz r3, 0x7c(r4)
/* 8003CF20 00038EA0  90 65 80 00 */	stw r3, -0x8000(r5)
/* 8003CF24 00038EA4  B0 04 00 02 */	sth r0, 0x2(r4)
/* 8003CF28 00038EA8  4E 80 00 20 */	blr

.global GXSetPointSize
GXSetPointSize:
/* 8003CF2C 00038EAC  80 AD 82 90 */	lwz r5, gx@sda21(r13)
/* 8003CF30 00038EB0  54 86 98 18 */	slwi r6, r4, 19
/* 8003CF34 00038EB4  84 05 00 7C */	lwzu r0, 0x7c(r5)
/* 8003CF38 00038EB8  38 80 00 61 */	li r4, 0x61
/* 8003CF3C 00038EBC  54 00 06 1E */	rlwinm r0, r0, 0, 24, 15
/* 8003CF40 00038EC0  50 60 44 2E */	rlwimi r0, r3, 8, 16, 23
/* 8003CF44 00038EC4  90 05 00 00 */	stw r0, 0x0(r5)
/* 8003CF48 00038EC8  3C A0 CC 01 */	lis r5, 0xCC008000@ha
/* 8003CF4C 00038ECC  38 00 00 00 */	li r0, 0x0
/* 8003CF50 00038ED0  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003CF54 00038ED4  38 E3 00 7C */	addi r7, r3, 0x7c
/* 8003CF58 00038ED8  80 63 00 7C */	lwz r3, 0x7c(r3)
/* 8003CF5C 00038EDC  54 63 03 52 */	rlwinm r3, r3, 0, 13, 9
/* 8003CF60 00038EE0  7C 63 33 78 */	or r3, r3, r6
/* 8003CF64 00038EE4  90 67 00 00 */	stw r3, 0x0(r7)
/* 8003CF68 00038EE8  98 85 80 00 */	stb r4, 0xCC008000@l(r5)
/* 8003CF6C 00038EEC  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003CF70 00038EF0  80 64 00 7C */	lwz r3, 0x7c(r4)
/* 8003CF74 00038EF4  90 65 80 00 */	stw r3, -0x8000(r5)
/* 8003CF78 00038EF8  B0 04 00 02 */	sth r0, 0x2(r4)
/* 8003CF7C 00038EFC  4E 80 00 20 */	blr

.global GXEnableTexOffsets
GXEnableTexOffsets:
/* 8003CF80 00038F00  80 0D 82 90 */	lwz r0, gx@sda21(r13)
/* 8003CF84 00038F04  54 67 10 3A */	slwi r7, r3, 2
/* 8003CF88 00038F08  7C C0 3A 14 */	add r6, r0, r7
/* 8003CF8C 00038F0C  80 66 00 B8 */	lwz r3, 0xb8(r6)
/* 8003CF90 00038F10  54 80 91 9A */	clrlslwi r0, r4, 24, 18
/* 8003CF94 00038F14  54 A4 99 58 */	clrlslwi r4, r5, 24, 19
/* 8003CF98 00038F18  54 63 03 98 */	rlwinm r3, r3, 0, 14, 12
/* 8003CF9C 00038F1C  7C 60 03 78 */	or r0, r3, r0
/* 8003CFA0 00038F20  90 06 00 B8 */	stw r0, 0xb8(r6)
/* 8003CFA4 00038F24  38 60 00 61 */	li r3, 0x61
/* 8003CFA8 00038F28  3C A0 CC 01 */	lis r5, 0xCC008000@ha
/* 8003CFAC 00038F2C  80 CD 82 90 */	lwz r6, gx@sda21(r13)
/* 8003CFB0 00038F30  38 00 00 00 */	li r0, 0x0
/* 8003CFB4 00038F34  7D 06 3A 14 */	add r8, r6, r7
/* 8003CFB8 00038F38  80 C8 00 B8 */	lwz r6, 0xb8(r8)
/* 8003CFBC 00038F3C  54 C6 03 56 */	rlwinm r6, r6, 0, 13, 11
/* 8003CFC0 00038F40  7C C4 23 78 */	or r4, r6, r4
/* 8003CFC4 00038F44  90 88 00 B8 */	stw r4, 0xb8(r8)
/* 8003CFC8 00038F48  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003CFCC 00038F4C  98 65 80 00 */	stb r3, 0xCC008000@l(r5)
/* 8003CFD0 00038F50  7C 64 3A 14 */	add r3, r4, r7
/* 8003CFD4 00038F54  80 63 00 B8 */	lwz r3, 0xb8(r3)
/* 8003CFD8 00038F58  90 65 80 00 */	stw r3, -0x8000(r5)
/* 8003CFDC 00038F5C  B0 04 00 02 */	sth r0, 0x2(r4)
/* 8003CFE0 00038F60  4E 80 00 20 */	blr

.global GXSetCullMode
GXSetCullMode:
/* 8003CFE4 00038F64  2C 03 00 02 */	cmpwi r3, 0x2
/* 8003CFE8 00038F68  41 82 00 1C */	beq .L_8003D004
/* 8003CFEC 00038F6C  40 80 00 1C */	bge .L_8003D008
/* 8003CFF0 00038F70  2C 03 00 01 */	cmpwi r3, 0x1
/* 8003CFF4 00038F74  40 80 00 08 */	bge .L_8003CFFC
/* 8003CFF8 00038F78  48 00 00 10 */	b .L_8003D008
.L_8003CFFC:
/* 8003CFFC 00038F7C  38 60 00 02 */	li r3, 0x2
/* 8003D000 00038F80  48 00 00 08 */	b .L_8003D008
.L_8003D004:
/* 8003D004 00038F84  38 60 00 01 */	li r3, 0x1
.L_8003D008:
/* 8003D008 00038F88  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003D00C 00038F8C  54 60 70 22 */	slwi r0, r3, 14
/* 8003D010 00038F90  84 64 02 04 */	lwzu r3, 0x204(r4)
/* 8003D014 00038F94  54 63 04 9E */	rlwinm r3, r3, 0, 18, 15
/* 8003D018 00038F98  7C 60 03 78 */	or r0, r3, r0
/* 8003D01C 00038F9C  90 04 00 00 */	stw r0, 0x0(r4)
/* 8003D020 00038FA0  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003D024 00038FA4  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 8003D028 00038FA8  60 00 00 04 */	ori r0, r0, 0x4
/* 8003D02C 00038FAC  90 03 04 F0 */	stw r0, 0x4f0(r3)
/* 8003D030 00038FB0  4E 80 00 20 */	blr

.global GXSetCoPlanar
GXSetCoPlanar:
/* 8003D034 00038FB4  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003D038 00038FB8  54 60 99 58 */	clrlslwi r0, r3, 24, 19
/* 8003D03C 00038FBC  38 A0 00 61 */	li r5, 0x61
/* 8003D040 00038FC0  80 64 02 04 */	lwz r3, 0x204(r4)
/* 8003D044 00038FC4  38 C4 02 04 */	addi r6, r4, 0x204
/* 8003D048 00038FC8  3C 80 CC 01 */	lis r4, 0xCC008000@ha
/* 8003D04C 00038FCC  54 63 03 56 */	rlwinm r3, r3, 0, 13, 11
/* 8003D050 00038FD0  7C 60 03 78 */	or r0, r3, r0
/* 8003D054 00038FD4  90 06 00 00 */	stw r0, 0x0(r6)
/* 8003D058 00038FD8  3C 00 FE 08 */	lis r0, 0xfe08
/* 8003D05C 00038FDC  98 A4 80 00 */	stb r5, 0xCC008000@l(r4)
/* 8003D060 00038FE0  80 6D 82 90 */	lwz r3, gx@sda21(r13)
/* 8003D064 00038FE4  90 04 80 00 */	stw r0, -0x8000(r4)
/* 8003D068 00038FE8  98 A4 80 00 */	stb r5, -0x8000(r4)
/* 8003D06C 00038FEC  80 03 02 04 */	lwz r0, 0x204(r3)
/* 8003D070 00038FF0  90 04 80 00 */	stw r0, -0x8000(r4)
/* 8003D074 00038FF4  4E 80 00 20 */	blr

.global __GXSetGenMode
__GXSetGenMode:
/* 8003D078 00038FF8  38 00 00 61 */	li r0, 0x61
/* 8003D07C 00038FFC  80 8D 82 90 */	lwz r4, gx@sda21(r13)
/* 8003D080 00039000  3C A0 CC 01 */	lis r5, 0xCC008000@ha
/* 8003D084 00039004  98 05 80 00 */	stb r0, 0xCC008000@l(r5)
/* 8003D088 00039008  38 00 00 00 */	li r0, 0x0
/* 8003D08C 0003900C  80 64 02 04 */	lwz r3, 0x204(r4)
/* 8003D090 00039010  90 65 80 00 */	stw r3, -0x8000(r5)
/* 8003D094 00039014  B0 04 00 02 */	sth r0, 0x2(r4)
/* 8003D098 00039018  4E 80 00 20 */	blr
