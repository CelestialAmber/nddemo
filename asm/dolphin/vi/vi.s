.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.fn __VIRetraceHandler, local
/* 8003413C 000300BC  7C 08 02 A6 */	mflr r0
/* 80034140 000300C0  3C 60 CC 00 */	lis r3, 0xCC002030@ha
/* 80034144 000300C4  90 01 00 04 */	stw r0, 0x4(r1)
/* 80034148 000300C8  38 C0 00 00 */	li r6, 0x0
/* 8003414C 000300CC  94 21 FD 08 */	stwu r1, -0x2f8(r1)
/* 80034150 000300D0  BF 61 02 E4 */	stmw r27, 0x2e4(r1)
/* 80034154 000300D4  3B C4 00 00 */	addi r30, r4, 0x0
/* 80034158 000300D8  A4 A3 20 30 */	lhzu r5, 0xCC002030@l(r3)
/* 8003415C 000300DC  54 A0 04 21 */	rlwinm. r0, r5, 0, 16, 16
/* 80034160 000300E0  41 82 00 10 */	beq .L_80034170
/* 80034164 000300E4  54 A0 04 5E */	rlwinm r0, r5, 0, 17, 15
/* 80034168 000300E8  B0 03 00 00 */	sth r0, 0x0(r3)
/* 8003416C 000300EC  60 C6 00 01 */	ori r6, r6, 0x1
.L_80034170:
/* 80034170 000300F0  3C 60 CC 00 */	lis r3, 0xCC002034@ha
/* 80034174 000300F4  A4 83 20 34 */	lhzu r4, 0xCC002034@l(r3)
/* 80034178 000300F8  54 80 04 21 */	rlwinm. r0, r4, 0, 16, 16
/* 8003417C 000300FC  41 82 00 10 */	beq .L_8003418C
/* 80034180 00030100  54 80 04 5E */	rlwinm r0, r4, 0, 17, 15
/* 80034184 00030104  B0 03 00 00 */	sth r0, 0x0(r3)
/* 80034188 00030108  60 C6 00 02 */	ori r6, r6, 0x2
.L_8003418C:
/* 8003418C 0003010C  3C 60 CC 00 */	lis r3, 0xCC002038@ha
/* 80034190 00030110  A4 83 20 38 */	lhzu r4, 0xCC002038@l(r3)
/* 80034194 00030114  54 80 04 21 */	rlwinm. r0, r4, 0, 16, 16
/* 80034198 00030118  41 82 00 10 */	beq .L_800341A8
/* 8003419C 0003011C  54 80 04 5E */	rlwinm r0, r4, 0, 17, 15
/* 800341A0 00030120  B0 03 00 00 */	sth r0, 0x0(r3)
/* 800341A4 00030124  60 C6 00 04 */	ori r6, r6, 0x4
.L_800341A8:
/* 800341A8 00030128  3C 60 CC 00 */	lis r3, 0xCC00203C@ha
/* 800341AC 0003012C  A4 83 20 3C */	lhzu r4, 0xCC00203C@l(r3)
/* 800341B0 00030130  54 80 04 21 */	rlwinm. r0, r4, 0, 16, 16
/* 800341B4 00030134  41 82 00 10 */	beq .L_800341C4
/* 800341B8 00030138  54 80 04 5E */	rlwinm r0, r4, 0, 17, 15
/* 800341BC 0003013C  B0 03 00 00 */	sth r0, 0x0(r3)
/* 800341C0 00030140  60 C6 00 08 */	ori r6, r6, 0x8
.L_800341C4:
/* 800341C4 00030144  54 C0 07 7B */	rlwinm. r0, r6, 0, 29, 29
/* 800341C8 00030148  40 82 00 0C */	bne .L_800341D4
/* 800341CC 0003014C  54 C0 07 39 */	rlwinm. r0, r6, 0, 28, 28
/* 800341D0 00030150  41 82 00 10 */	beq .L_800341E0
.L_800341D4:
/* 800341D4 00030154  7F C3 F3 78 */	mr r3, r30
/* 800341D8 00030158  4B FF 53 F1 */	bl OSSetCurrentContext
/* 800341DC 0003015C  48 00 01 5C */	b .L_80034338
.L_800341E0:
/* 800341E0 00030160  80 8D 85 B8 */	lwz r4, retraceCount@sda21(r13)
/* 800341E4 00030164  38 61 00 18 */	addi r3, r1, 0x18
/* 800341E8 00030168  38 04 00 01 */	addi r0, r4, 0x1
/* 800341EC 0003016C  90 0D 85 B8 */	stw r0, retraceCount@sda21(r13)
/* 800341F0 00030170  4B FF 55 A1 */	bl OSClearContext
/* 800341F4 00030174  38 61 00 18 */	addi r3, r1, 0x18
/* 800341F8 00030178  4B FF 53 D1 */	bl OSSetCurrentContext
/* 800341FC 0003017C  81 8D 85 C8 */	lwz r12, PreCB@sda21(r13)
/* 80034200 00030180  28 0C 00 00 */	cmplwi r12, 0x0
/* 80034204 00030184  41 82 00 10 */	beq .L_80034214
/* 80034208 00030188  80 6D 85 B8 */	lwz r3, retraceCount@sda21(r13)
/* 8003420C 0003018C  7D 88 03 A6 */	mtlr r12
/* 80034210 00030190  4E 80 00 21 */	blrl
.L_80034214:
/* 80034214 00030194  80 0D 85 BC */	lwz r0, flushFlag@sda21(r13)
/* 80034218 00030198  28 00 00 00 */	cmplwi r0, 0x0
/* 8003421C 0003019C  41 82 00 E0 */	beq .L_800342FC
/* 80034220 000301A0  80 0D 85 E8 */	lwz r0, shdwChangeMode@sda21(r13)
/* 80034224 000301A4  28 00 00 01 */	cmplwi r0, 0x1
/* 80034228 000301A8  40 82 00 10 */	bne .L_80034238
/* 8003422C 000301AC  48 00 15 05 */	bl getCurrentFieldEvenOdd
/* 80034230 000301B0  28 03 00 00 */	cmplwi r3, 0x0
/* 80034234 000301B4  41 82 00 B4 */	beq .L_800342E8
.L_80034238:
/* 80034238 000301B8  3C 80 80 08 */	lis r4, shdwRegs@ha
/* 8003423C 000301BC  3C 60 CC 00 */	lis r3, 0xCC002000@ha
/* 80034240 000301C0  3B E4 0F C0 */	addi r31, r4, shdwRegs@l
/* 80034244 000301C4  3B A3 20 00 */	addi r29, r3, 0xCC002000@l
/* 80034248 000301C8  48 00 00 78 */	b .L_800342C0
.L_8003424C:
/* 8003424C 000301CC  80 6D 85 F0 */	lwz r3, shdwChanged@sda21(r13)
/* 80034250 000301D0  38 A0 00 20 */	li r5, 0x20
/* 80034254 000301D4  83 6D 85 F4 */	lwz r27, shdwChanged+4@sda21(r13)
/* 80034258 000301D8  38 9B 00 00 */	addi r4, r27, 0x0
/* 8003425C 000301DC  48 02 B5 29 */	bl __shr2u
/* 80034260 000301E0  7C 84 00 34 */	cntlzw r4, r4
/* 80034264 000301E4  2C 04 00 20 */	cmpwi r4, 0x20
/* 80034268 000301E8  38 00 FF FF */	li r0, -0x1
/* 8003426C 000301EC  7F 60 00 38 */	and r0, r27, r0
/* 80034270 000301F0  40 80 00 08 */	bge .L_80034278
/* 80034274 000301F4  48 00 00 0C */	b .L_80034280
.L_80034278:
/* 80034278 000301F8  7C 03 00 34 */	cntlzw r3, r0
/* 8003427C 000301FC  38 83 00 20 */	addi r4, r3, 0x20
.L_80034280:
/* 80034280 00030200  54 86 08 3C */	slwi r6, r4, 1
/* 80034284 00030204  7C 7F 32 14 */	add r3, r31, r6
/* 80034288 00030208  A0 03 00 00 */	lhz r0, 0x0(r3)
/* 8003428C 0003020C  20 A4 00 3F */	subfic r5, r4, 0x3f
/* 80034290 00030210  38 60 00 00 */	li r3, 0x0
/* 80034294 00030214  7C 1D 33 2E */	sthx r0, r29, r6
/* 80034298 00030218  38 80 00 01 */	li r4, 0x1
/* 8003429C 0003021C  48 02 B4 C5 */	bl __shl2i
/* 800342A0 00030220  80 0D 85 F0 */	lwz r0, shdwChanged@sda21(r13)
/* 800342A4 00030224  7C 65 18 F8 */	nor r5, r3, r3
/* 800342A8 00030228  7C 84 20 F8 */	nor r4, r4, r4
/* 800342AC 0003022C  80 6D 85 F4 */	lwz r3, shdwChanged+4@sda21(r13)
/* 800342B0 00030230  7C 00 28 38 */	and r0, r0, r5
/* 800342B4 00030234  7C 63 20 38 */	and r3, r3, r4
/* 800342B8 00030238  90 6D 85 F4 */	stw r3, shdwChanged+4@sda21(r13)
/* 800342BC 0003023C  90 0D 85 F0 */	stw r0, shdwChanged@sda21(r13)
.L_800342C0:
/* 800342C0 00030240  80 0D 85 F0 */	lwz r0, shdwChanged@sda21(r13)
/* 800342C4 00030244  38 80 00 00 */	li r4, 0x0
/* 800342C8 00030248  80 6D 85 F4 */	lwz r3, shdwChanged+4@sda21(r13)
/* 800342CC 0003024C  7C 00 22 78 */	xor r0, r0, r4
/* 800342D0 00030250  7C 63 22 78 */	xor r3, r3, r4
/* 800342D4 00030254  7C 60 03 79 */	or. r0, r3, r0
/* 800342D8 00030258  40 82 FF 74 */	bne .L_8003424C
/* 800342DC 0003025C  90 8D 85 E8 */	stw r4, shdwChangeMode@sda21(r13)
/* 800342E0 00030260  38 00 00 01 */	li r0, 0x1
/* 800342E4 00030264  48 00 00 08 */	b .L_800342EC
.L_800342E8:
/* 800342E8 00030268  38 00 00 00 */	li r0, 0x0
.L_800342EC:
/* 800342EC 0003026C  2C 00 00 00 */	cmpwi r0, 0x0
/* 800342F0 00030270  41 82 00 0C */	beq .L_800342FC
/* 800342F4 00030274  38 00 00 00 */	li r0, 0x0
/* 800342F8 00030278  90 0D 85 BC */	stw r0, flushFlag@sda21(r13)
.L_800342FC:
/* 800342FC 0003027C  80 0D 85 CC */	lwz r0, PostCB@sda21(r13)
/* 80034300 00030280  28 00 00 00 */	cmplwi r0, 0x0
/* 80034304 00030284  41 82 00 1C */	beq .L_80034320
/* 80034308 00030288  38 61 00 18 */	addi r3, r1, 0x18
/* 8003430C 0003028C  4B FF 54 85 */	bl OSClearContext
/* 80034310 00030290  81 8D 85 CC */	lwz r12, PostCB@sda21(r13)
/* 80034314 00030294  80 6D 85 B8 */	lwz r3, retraceCount@sda21(r13)
/* 80034318 00030298  7D 88 03 A6 */	mtlr r12
/* 8003431C 0003029C  4E 80 00 21 */	blrl
.L_80034320:
/* 80034320 000302A0  38 6D 85 C0 */	addi r3, r13, retraceQueue@sda21
/* 80034324 000302A4  4B FF B0 2D */	bl OSWakeupThread
/* 80034328 000302A8  38 61 00 18 */	addi r3, r1, 0x18
/* 8003432C 000302AC  4B FF 54 65 */	bl OSClearContext
/* 80034330 000302B0  7F C3 F3 78 */	mr r3, r30
/* 80034334 000302B4  4B FF 52 95 */	bl OSSetCurrentContext
.L_80034338:
/* 80034338 000302B8  BB 61 02 E4 */	lmw r27, 0x2e4(r1)
/* 8003433C 000302BC  80 01 02 FC */	lwz r0, 0x2fc(r1)
/* 80034340 000302C0  38 21 02 F8 */	addi r1, r1, 0x2f8
/* 80034344 000302C4  7C 08 03 A6 */	mtlr r0
/* 80034348 000302C8  4E 80 00 20 */	blr
.endfn __VIRetraceHandler

.fn getTiming, local
/* 8003434C 000302CC  28 03 00 09 */	cmplwi r3, 0x9
/* 80034350 000302D0  3C 80 80 07 */	lis r4, timing@ha
/* 80034354 000302D4  38 A4 85 10 */	addi r5, r4, timing@l
/* 80034358 000302D8  41 81 00 54 */	bgt .L_800343AC
/* 8003435C 000302DC  3C 80 80 07 */	lis r4, lbl_80068650@ha
/* 80034360 000302E0  38 84 86 50 */	addi r4, r4, lbl_80068650@l
/* 80034364 000302E4  54 60 10 3A */	slwi r0, r3, 2
/* 80034368 000302E8  7C 04 00 2E */	lwzx r0, r4, r0
/* 8003436C 000302EC  7C 09 03 A6 */	mtctr r0
/* 80034370 000302F0  4E 80 04 20 */	bctr
.L_80034374:
/* 80034374 000302F4  7C A3 2B 78 */	mr r3, r5
/* 80034378 000302F8  4E 80 00 20 */	blr
.L_8003437C:
/* 8003437C 000302FC  38 65 00 26 */	addi r3, r5, 0x26
/* 80034380 00030300  4E 80 00 20 */	blr
.L_80034384:
/* 80034384 00030304  38 65 00 4C */	addi r3, r5, 0x4c
/* 80034388 00030308  4E 80 00 20 */	blr
.L_8003438C:
/* 8003438C 0003030C  38 65 00 72 */	addi r3, r5, 0x72
/* 80034390 00030310  4E 80 00 20 */	blr
.L_80034394:
/* 80034394 00030314  38 65 00 98 */	addi r3, r5, 0x98
/* 80034398 00030318  4E 80 00 20 */	blr
.L_8003439C:
/* 8003439C 0003031C  38 65 00 BE */	addi r3, r5, 0xbe
/* 800343A0 00030320  4E 80 00 20 */	blr
.L_800343A4:
/* 800343A4 00030324  38 65 00 E4 */	addi r3, r5, 0xe4
/* 800343A8 00030328  4E 80 00 20 */	blr
.L_800343AC:
/* 800343AC 0003032C  38 60 00 00 */	li r3, 0x0
/* 800343B0 00030330  4E 80 00 20 */	blr
.endfn getTiming

.fn __VIInit, global
/* 800343B4 00030334  7C 08 02 A6 */	mflr r0
/* 800343B8 00030338  90 01 00 04 */	stw r0, 0x4(r1)
/* 800343BC 0003033C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800343C0 00030340  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 800343C4 00030344  54 7F F0 BE */	srwi r31, r3, 2
/* 800343C8 00030348  93 C1 00 28 */	stw r30, 0x28(r1)
/* 800343CC 0003034C  93 A1 00 24 */	stw r29, 0x24(r1)
/* 800343D0 00030350  3B A3 00 00 */	addi r29, r3, 0x0
/* 800343D4 00030354  3C 60 80 00 */	lis r3, 0x800000CC@ha
/* 800343D8 00030358  93 E3 00 CC */	stw r31, 0x800000CC@l(r3)
/* 800343DC 0003035C  38 7D 00 00 */	addi r3, r29, 0x0
/* 800343E0 00030360  57 BE 07 BC */	rlwinm r30, r29, 0, 30, 30
/* 800343E4 00030364  4B FF FF 69 */	bl getTiming
/* 800343E8 00030368  3C 80 CC 00 */	lis r4, 0xCC002000@ha
/* 800343EC 0003036C  38 00 00 02 */	li r0, 0x2
/* 800343F0 00030370  38 A4 20 00 */	addi r5, r4, 0xCC002000@l
/* 800343F4 00030374  B4 05 00 02 */	sthu r0, 0x2(r5)
/* 800343F8 00030378  38 00 00 00 */	li r0, 0x0
/* 800343FC 0003037C  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80034400 00030380  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80034404 00030384  28 00 03 E8 */	cmplwi r0, 0x3e8
/* 80034408 00030388  40 80 00 20 */	bge .L_80034428
/* 8003440C 0003038C  48 00 00 10 */	b .L_8003441C
.L_80034410:
/* 80034410 00030390  80 81 00 1C */	lwz r4, 0x1c(r1)
/* 80034414 00030394  38 04 00 08 */	addi r0, r4, 0x8
/* 80034418 00030398  90 01 00 1C */	stw r0, 0x1c(r1)
.L_8003441C:
/* 8003441C 0003039C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80034420 000303A0  28 00 03 E8 */	cmplwi r0, 0x3e8
/* 80034424 000303A4  41 80 FF EC */	blt .L_80034410
.L_80034428:
/* 80034428 000303A8  38 00 00 00 */	li r0, 0x0
/* 8003442C 000303AC  B0 05 00 00 */	sth r0, 0x0(r5)
/* 80034430 000303B0  3D 80 CC 00 */	lis r12, 0xCC002006@ha
/* 80034434 000303B4  39 00 28 28 */	li r8, 0x2828
/* 80034438 000303B8  A0 C3 00 1A */	lhz r6, 0x1a(r3)
/* 8003443C 000303BC  38 E0 00 01 */	li r7, 0x1
/* 80034440 000303C0  2C 1D 00 02 */	cmpwi r29, 0x2
/* 80034444 000303C4  B0 CC 20 06 */	sth r6, 0xCC002006@l(r12)
/* 80034448 000303C8  38 C0 10 01 */	li r6, 0x1001
/* 8003444C 000303CC  38 8C 20 00 */	addi r4, r12, 0x2000
/* 80034450 000303D0  89 23 00 1D */	lbz r9, 0x1d(r3)
/* 80034454 000303D4  89 43 00 1E */	lbz r10, 0x1e(r3)
/* 80034458 000303D8  51 2A 44 2E */	rlwimi r10, r9, 8, 16, 23
/* 8003445C 000303DC  B1 4C 20 04 */	sth r10, 0x2004(r12)
/* 80034460 000303E0  89 23 00 1F */	lbz r9, 0x1f(r3)
/* 80034464 000303E4  89 43 00 1C */	lbz r10, 0x1c(r3)
/* 80034468 000303E8  55 29 38 30 */	slwi r9, r9, 7
/* 8003446C 000303EC  7D 49 4B 78 */	or r9, r10, r9
/* 80034470 000303F0  B1 2C 20 0A */	sth r9, 0x200a(r12)
/* 80034474 000303F4  A1 23 00 20 */	lhz r9, 0x20(r3)
/* 80034478 000303F8  55 29 0C 3C */	clrlslwi r9, r9, 17, 1
/* 8003447C 000303FC  B1 2C 20 08 */	sth r9, 0x2008(r12)
/* 80034480 00030400  A1 23 00 02 */	lhz r9, 0x2(r3)
/* 80034484 00030404  89 63 00 00 */	lbz r11, 0x0(r3)
/* 80034488 00030408  55 29 08 3C */	slwi r9, r9, 1
/* 8003448C 0003040C  A1 43 00 04 */	lhz r10, 0x4(r3)
/* 80034490 00030410  39 29 FF FE */	addi r9, r9, -0x2
/* 80034494 00030414  B1 6C 20 00 */	sth r11, 0x2000(r12)
/* 80034498 00030418  7D 2A 4A 14 */	add r9, r10, r9
/* 8003449C 0003041C  B1 2C 20 0E */	sth r9, 0x200e(r12)
/* 800344A0 00030420  A1 23 00 08 */	lhz r9, 0x8(r3)
/* 800344A4 00030424  39 29 00 02 */	addi r9, r9, 0x2
/* 800344A8 00030428  B1 2C 20 0C */	sth r9, 0x200c(r12)
/* 800344AC 0003042C  A1 23 00 02 */	lhz r9, 0x2(r3)
/* 800344B0 00030430  A1 43 00 06 */	lhz r10, 0x6(r3)
/* 800344B4 00030434  55 29 08 3C */	slwi r9, r9, 1
/* 800344B8 00030438  39 29 FF FE */	addi r9, r9, -0x2
/* 800344BC 0003043C  7D 2A 4A 14 */	add r9, r10, r9
/* 800344C0 00030440  B1 2C 20 12 */	sth r9, 0x2012(r12)
/* 800344C4 00030444  A1 23 00 0A */	lhz r9, 0xa(r3)
/* 800344C8 00030448  39 29 00 02 */	addi r9, r9, 0x2
/* 800344CC 0003044C  B1 2C 20 10 */	sth r9, 0x2010(r12)
/* 800344D0 00030450  A1 23 00 10 */	lhz r9, 0x10(r3)
/* 800344D4 00030454  89 43 00 0C */	lbz r10, 0xc(r3)
/* 800344D8 00030458  55 29 28 34 */	slwi r9, r9, 5
/* 800344DC 0003045C  7D 49 4B 78 */	or r9, r10, r9
/* 800344E0 00030460  B1 2C 20 16 */	sth r9, 0x2016(r12)
/* 800344E4 00030464  A1 23 00 14 */	lhz r9, 0x14(r3)
/* 800344E8 00030468  89 43 00 0E */	lbz r10, 0xe(r3)
/* 800344EC 0003046C  55 29 28 34 */	slwi r9, r9, 5
/* 800344F0 00030470  7D 49 4B 78 */	or r9, r10, r9
/* 800344F4 00030474  B1 2C 20 14 */	sth r9, 0x2014(r12)
/* 800344F8 00030478  A1 23 00 12 */	lhz r9, 0x12(r3)
/* 800344FC 0003047C  89 43 00 0D */	lbz r10, 0xd(r3)
/* 80034500 00030480  55 29 28 34 */	slwi r9, r9, 5
/* 80034504 00030484  7D 49 4B 78 */	or r9, r10, r9
/* 80034508 00030488  B1 2C 20 1A */	sth r9, 0x201a(r12)
/* 8003450C 0003048C  A1 23 00 16 */	lhz r9, 0x16(r3)
/* 80034510 00030490  89 43 00 0F */	lbz r10, 0xf(r3)
/* 80034514 00030494  55 29 28 34 */	slwi r9, r9, 5
/* 80034518 00030498  7D 49 4B 78 */	or r9, r10, r9
/* 8003451C 0003049C  B1 2C 20 18 */	sth r9, 0x2018(r12)
/* 80034520 000304A0  B1 0C 20 48 */	sth r8, 0x2048(r12)
/* 80034524 000304A4  B0 EC 20 36 */	sth r7, 0x2036(r12)
/* 80034528 000304A8  B0 CC 20 34 */	sth r6, 0x2034(r12)
/* 8003452C 000304AC  A0 C3 00 18 */	lhz r6, 0x18(r3)
/* 80034530 000304B0  A0 63 00 1A */	lhz r3, 0x1a(r3)
/* 80034534 000304B4  7C C6 0E 70 */	srawi r6, r6, 1
/* 80034538 000304B8  38 63 00 01 */	addi r3, r3, 0x1
/* 8003453C 000304BC  7C C6 01 94 */	addze r6, r6
/* 80034540 000304C0  B0 6C 20 32 */	sth r3, 0x2032(r12)
/* 80034544 000304C4  38 C6 00 01 */	addi r6, r6, 0x1
/* 80034548 000304C8  60 C3 10 00 */	ori r3, r6, 0x1000
/* 8003454C 000304CC  B0 6C 20 30 */	sth r3, 0x2030(r12)
/* 80034550 000304D0  41 82 00 20 */	beq .L_80034570
/* 80034554 000304D4  57 C3 10 3A */	slwi r3, r30, 2
/* 80034558 000304D8  60 66 00 01 */	ori r6, r3, 0x1
/* 8003455C 000304DC  57 E3 40 2E */	slwi r3, r31, 8
/* 80034560 000304E0  7C C3 1B 78 */	or r3, r6, r3
/* 80034564 000304E4  B0 65 00 00 */	sth r3, 0x0(r5)
/* 80034568 000304E8  B0 04 00 6C */	sth r0, 0x6c(r4)
/* 8003456C 000304EC  48 00 00 14 */	b .L_80034580
.L_80034570:
/* 80034570 000304F0  57 E0 40 2E */	slwi r0, r31, 8
/* 80034574 000304F4  60 00 00 05 */	ori r0, r0, 0x5
/* 80034578 000304F8  B0 05 00 00 */	sth r0, 0x0(r5)
/* 8003457C 000304FC  B0 E4 00 6C */	sth r7, 0x6c(r4)
.L_80034580:
/* 80034580 00030500  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80034584 00030504  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80034588 00030508  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 8003458C 0003050C  7C 08 03 A6 */	mtlr r0
/* 80034590 00030510  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80034594 00030514  38 21 00 30 */	addi r1, r1, 0x30
/* 80034598 00030518  4E 80 00 20 */	blr
.endfn __VIInit

.fn VIInit, global
/* 8003459C 0003051C  7C 08 02 A6 */	mflr r0
/* 800345A0 00030520  3C 60 CC 00 */	lis r3, 0xCC002000@ha
/* 800345A4 00030524  90 01 00 04 */	stw r0, 0x4(r1)
/* 800345A8 00030528  38 00 00 01 */	li r0, 0x1
/* 800345AC 0003052C  3C 80 80 08 */	lis r4, regs@ha
/* 800345B0 00030530  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800345B4 00030534  BF 61 00 0C */	stmw r27, 0xc(r1)
/* 800345B8 00030538  3B 83 20 00 */	addi r28, r3, 0xCC002000@l
/* 800345BC 0003053C  3C 60 80 07 */	lis r3, timing@ha
/* 800345C0 00030540  3B C4 0F 48 */	addi r30, r4, regs@l
/* 800345C4 00030544  3B E3 85 10 */	addi r31, r3, timing@l
/* 800345C8 00030548  90 0D 85 D0 */	stw r0, encoderType@sda21(r13)
/* 800345CC 0003054C  A4 1C 00 02 */	lhzu r0, 0x2(r28)
/* 800345D0 00030550  54 00 07 FF */	clrlwi. r0, r0, 31
/* 800345D4 00030554  40 82 00 0C */	bne .L_800345E0
/* 800345D8 00030558  38 60 00 00 */	li r3, 0x0
/* 800345DC 0003055C  4B FF FD D9 */	bl __VIInit
.L_800345E0:
/* 800345E0 00030560  3B A0 00 00 */	li r29, 0x0
/* 800345E4 00030564  93 AD 85 B8 */	stw r29, retraceCount@sda21(r13)
/* 800345E8 00030568  3C 60 CC 00 */	lis r3, 0xCC002000@ha
/* 800345EC 0003056C  38 63 20 00 */	addi r3, r3, 0xCC002000@l
/* 800345F0 00030570  93 AD 85 E4 */	stw r29, changed+4@sda21(r13)
/* 800345F4 00030574  38 9F 01 1A */	addi r4, r31, 0x11a
/* 800345F8 00030578  3B 60 02 80 */	li r27, 0x280
/* 800345FC 0003057C  93 AD 85 E0 */	stw r29, changed@sda21(r13)
/* 80034600 00030580  93 AD 85 F4 */	stw r29, shdwChanged+4@sda21(r13)
/* 80034604 00030584  93 AD 85 F0 */	stw r29, shdwChanged@sda21(r13)
/* 80034608 00030588  93 AD 85 D8 */	stw r29, changeMode@sda21(r13)
/* 8003460C 0003058C  93 AD 85 E8 */	stw r29, shdwChangeMode@sda21(r13)
/* 80034610 00030590  93 AD 85 BC */	stw r29, flushFlag@sda21(r13)
/* 80034614 00030594  A0 1F 01 0E */	lhz r0, 0x10e(r31)
/* 80034618 00030598  A0 BF 01 0C */	lhz r5, 0x10c(r31)
/* 8003461C 0003059C  54 00 54 2A */	clrlslwi r0, r0, 26, 10
/* 80034620 000305A0  7C A0 03 78 */	or r0, r5, r0
/* 80034624 000305A4  B0 03 00 4E */	sth r0, 0x4e(r3)
/* 80034628 000305A8  A0 BF 01 0E */	lhz r5, 0x10e(r31)
/* 8003462C 000305AC  A0 1F 01 10 */	lhz r0, 0x110(r31)
/* 80034630 000305B0  7C A5 36 70 */	srawi r5, r5, 6
/* 80034634 000305B4  54 00 20 36 */	slwi r0, r0, 4
/* 80034638 000305B8  7C A0 03 78 */	or r0, r5, r0
/* 8003463C 000305BC  B0 03 00 4C */	sth r0, 0x4c(r3)
/* 80034640 000305C0  A0 1F 01 14 */	lhz r0, 0x114(r31)
/* 80034644 000305C4  A0 BF 01 12 */	lhz r5, 0x112(r31)
/* 80034648 000305C8  54 00 54 2A */	clrlslwi r0, r0, 26, 10
/* 8003464C 000305CC  7C A0 03 78 */	or r0, r5, r0
/* 80034650 000305D0  B0 03 00 52 */	sth r0, 0x52(r3)
/* 80034654 000305D4  A0 BF 01 14 */	lhz r5, 0x114(r31)
/* 80034658 000305D8  A0 1F 01 16 */	lhz r0, 0x116(r31)
/* 8003465C 000305DC  7C A5 36 70 */	srawi r5, r5, 6
/* 80034660 000305E0  54 00 20 36 */	slwi r0, r0, 4
/* 80034664 000305E4  7C A0 03 78 */	or r0, r5, r0
/* 80034668 000305E8  B0 03 00 50 */	sth r0, 0x50(r3)
/* 8003466C 000305EC  A0 1F 01 1A */	lhz r0, 0x11a(r31)
/* 80034670 000305F0  A0 BF 01 18 */	lhz r5, 0x118(r31)
/* 80034674 000305F4  54 00 54 2A */	clrlslwi r0, r0, 26, 10
/* 80034678 000305F8  7C A0 03 78 */	or r0, r5, r0
/* 8003467C 000305FC  B0 03 00 56 */	sth r0, 0x56(r3)
/* 80034680 00030600  A0 84 00 00 */	lhz r4, 0x0(r4)
/* 80034684 00030604  A0 1F 01 1C */	lhz r0, 0x11c(r31)
/* 80034688 00030608  7C 84 36 70 */	srawi r4, r4, 6
/* 8003468C 0003060C  54 00 20 36 */	slwi r0, r0, 4
/* 80034690 00030610  7C 80 03 78 */	or r0, r4, r0
/* 80034694 00030614  B0 03 00 54 */	sth r0, 0x54(r3)
/* 80034698 00030618  A0 1F 01 20 */	lhz r0, 0x120(r31)
/* 8003469C 0003061C  A0 9F 01 1E */	lhz r4, 0x11e(r31)
/* 800346A0 00030620  54 00 40 2E */	slwi r0, r0, 8
/* 800346A4 00030624  7C 80 03 78 */	or r0, r4, r0
/* 800346A8 00030628  B0 03 00 5A */	sth r0, 0x5a(r3)
/* 800346AC 0003062C  A0 1F 01 24 */	lhz r0, 0x124(r31)
/* 800346B0 00030630  A0 9F 01 22 */	lhz r4, 0x122(r31)
/* 800346B4 00030634  54 00 40 2E */	slwi r0, r0, 8
/* 800346B8 00030638  7C 80 03 78 */	or r0, r4, r0
/* 800346BC 0003063C  B0 03 00 58 */	sth r0, 0x58(r3)
/* 800346C0 00030640  A0 1F 01 28 */	lhz r0, 0x128(r31)
/* 800346C4 00030644  A0 9F 01 26 */	lhz r4, 0x126(r31)
/* 800346C8 00030648  54 00 40 2E */	slwi r0, r0, 8
/* 800346CC 0003064C  7C 80 03 78 */	or r0, r4, r0
/* 800346D0 00030650  B0 03 00 5E */	sth r0, 0x5e(r3)
/* 800346D4 00030654  A0 1F 01 2C */	lhz r0, 0x12c(r31)
/* 800346D8 00030658  A0 9F 01 2A */	lhz r4, 0x12a(r31)
/* 800346DC 0003065C  54 00 40 2E */	slwi r0, r0, 8
/* 800346E0 00030660  7C 80 03 78 */	or r0, r4, r0
/* 800346E4 00030664  B0 03 00 5C */	sth r0, 0x5c(r3)
/* 800346E8 00030668  A0 1F 01 30 */	lhz r0, 0x130(r31)
/* 800346EC 0003066C  A0 9F 01 2E */	lhz r4, 0x12e(r31)
/* 800346F0 00030670  54 00 40 2E */	slwi r0, r0, 8
/* 800346F4 00030674  7C 80 03 78 */	or r0, r4, r0
/* 800346F8 00030678  B0 03 00 62 */	sth r0, 0x62(r3)
/* 800346FC 0003067C  A0 1F 01 34 */	lhz r0, 0x134(r31)
/* 80034700 00030680  A0 9F 01 32 */	lhz r4, 0x132(r31)
/* 80034704 00030684  54 00 40 2E */	slwi r0, r0, 8
/* 80034708 00030688  7C 80 03 78 */	or r0, r4, r0
/* 8003470C 0003068C  B0 03 00 60 */	sth r0, 0x60(r3)
/* 80034710 00030690  A0 1F 01 38 */	lhz r0, 0x138(r31)
/* 80034714 00030694  A0 9F 01 36 */	lhz r4, 0x136(r31)
/* 80034718 00030698  54 00 40 2E */	slwi r0, r0, 8
/* 8003471C 0003069C  7C 80 03 78 */	or r0, r4, r0
/* 80034720 000306A0  B0 03 00 66 */	sth r0, 0x66(r3)
/* 80034724 000306A4  A0 1F 01 3C */	lhz r0, 0x13c(r31)
/* 80034728 000306A8  A0 9F 01 3A */	lhz r4, 0x13a(r31)
/* 8003472C 000306AC  54 00 40 2E */	slwi r0, r0, 8
/* 80034730 000306B0  7C 80 03 78 */	or r0, r4, r0
/* 80034734 000306B4  B0 03 00 64 */	sth r0, 0x64(r3)
/* 80034738 000306B8  B3 63 00 70 */	sth r27, 0x70(r3)
/* 8003473C 000306BC  4B FF 7E 69 */	bl __OSLockSram
/* 80034740 000306C0  88 03 00 10 */	lbz r0, 0x10(r3)
/* 80034744 000306C4  38 60 00 00 */	li r3, 0x0
/* 80034748 000306C8  7C 00 07 74 */	extsb r0, r0
/* 8003474C 000306CC  B3 AD 85 D6 */	sth r29, displayOffsetV@sda21(r13)
/* 80034750 000306D0  B0 0D 85 D4 */	sth r0, displayOffsetH@sda21(r13)
/* 80034754 000306D4  4B FF 82 11 */	bl __OSUnlockSram
/* 80034758 000306D8  B3 7E 00 F4 */	sth r27, 0xf4(r30)
/* 8003475C 000306DC  38 00 01 E0 */	li r0, 0x1e0
/* 80034760 000306E0  38 7E 00 F6 */	addi r3, r30, 0xf6
/* 80034764 000306E4  B0 1E 00 F6 */	sth r0, 0xf6(r30)
/* 80034768 000306E8  38 9E 00 F2 */	addi r4, r30, 0xf2
/* 8003476C 000306EC  A0 1E 00 F4 */	lhz r0, 0xf4(r30)
/* 80034770 000306F0  20 00 02 D0 */	subfic r0, r0, 0x2d0
/* 80034774 000306F4  7C 00 0E 70 */	srawi r0, r0, 1
/* 80034778 000306F8  7C 00 01 94 */	addze r0, r0
/* 8003477C 000306FC  B0 1E 00 F0 */	sth r0, 0xf0(r30)
/* 80034780 00030700  A0 1E 00 F6 */	lhz r0, 0xf6(r30)
/* 80034784 00030704  20 00 01 E0 */	subfic r0, r0, 0x1e0
/* 80034788 00030708  7C 00 0E 70 */	srawi r0, r0, 1
/* 8003478C 0003070C  7C 00 01 94 */	addze r0, r0
/* 80034790 00030710  B0 1E 00 F2 */	sth r0, 0xf2(r30)
/* 80034794 00030714  A0 1E 00 F4 */	lhz r0, 0xf4(r30)
/* 80034798 00030718  A8 DE 00 F0 */	lha r6, 0xf0(r30)
/* 8003479C 0003071C  A8 AD 85 D4 */	lha r5, displayOffsetH@sda21(r13)
/* 800347A0 00030720  20 00 02 D0 */	subfic r0, r0, 0x2d0
/* 800347A4 00030724  7C A6 2A 14 */	add r5, r6, r5
/* 800347A8 00030728  7C 05 00 00 */	cmpw r5, r0
/* 800347AC 0003072C  40 81 00 08 */	ble .L_800347B4
/* 800347B0 00030730  48 00 00 18 */	b .L_800347C8
.L_800347B4:
/* 800347B4 00030734  2C 05 00 00 */	cmpwi r5, 0x0
/* 800347B8 00030738  40 80 00 08 */	bge .L_800347C0
/* 800347BC 0003073C  48 00 00 08 */	b .L_800347C4
.L_800347C0:
/* 800347C0 00030740  7C BD 2B 78 */	mr r29, r5
.L_800347C4:
/* 800347C4 00030744  7F A0 EB 78 */	mr r0, r29
.L_800347C8:
/* 800347C8 00030748  B0 1E 00 F8 */	sth r0, 0xf8(r30)
/* 800347CC 0003074C  38 DE 01 10 */	addi r6, r30, 0x110
/* 800347D0 00030750  80 1E 01 10 */	lwz r0, 0x110(r30)
/* 800347D4 00030754  2C 00 00 00 */	cmpwi r0, 0x0
/* 800347D8 00030758  40 82 00 0C */	bne .L_800347E4
/* 800347DC 0003075C  39 00 00 02 */	li r8, 0x2
/* 800347E0 00030760  48 00 00 08 */	b .L_800347E8
.L_800347E4:
/* 800347E4 00030764  39 00 00 01 */	li r8, 0x1
.L_800347E8:
/* 800347E8 00030768  A0 04 00 00 */	lhz r0, 0x0(r4)
/* 800347EC 0003076C  A9 4D 85 D6 */	lha r10, displayOffsetV@sda21(r13)
/* 800347F0 00030770  7C 05 07 34 */	extsh r5, r0
/* 800347F4 00030774  54 09 07 FE */	clrlwi r9, r0, 31
/* 800347F8 00030778  7C 05 52 14 */	add r0, r5, r10
/* 800347FC 0003077C  7C 00 48 00 */	cmpw r0, r9
/* 80034800 00030780  40 81 00 08 */	ble .L_80034808
/* 80034804 00030784  48 00 00 08 */	b .L_8003480C
.L_80034808:
/* 80034808 00030788  7D 20 4B 78 */	mr r0, r9
.L_8003480C:
/* 8003480C 0003078C  B0 1E 00 FA */	sth r0, 0xfa(r30)
/* 80034810 00030790  21 69 01 E0 */	subfic r11, r9, 0x1e0
/* 80034814 00030794  A1 83 00 00 */	lhz r12, 0x0(r3)
/* 80034818 00030798  A8 E4 00 00 */	lha r7, 0x0(r4)
/* 8003481C 0003079C  7D 80 07 34 */	extsh r0, r12
/* 80034820 000307A0  7C A0 52 14 */	add r5, r0, r10
/* 80034824 000307A4  7C A7 2A 14 */	add r5, r7, r5
/* 80034828 000307A8  7C 0B 28 51 */	subf. r0, r11, r5
/* 8003482C 000307AC  40 81 00 0C */	ble .L_80034838
/* 80034830 000307B0  7C AB 28 50 */	subf r5, r11, r5
/* 80034834 000307B4  48 00 00 08 */	b .L_8003483C
.L_80034838:
/* 80034838 000307B8  38 A0 00 00 */	li r5, 0x0
.L_8003483C:
/* 8003483C 000307BC  7C E7 52 14 */	add r7, r7, r10
/* 80034840 000307C0  7C 09 38 51 */	subf. r0, r9, r7
/* 80034844 000307C4  40 80 00 0C */	bge .L_80034850
/* 80034848 000307C8  7C 09 38 50 */	subf r0, r9, r7
/* 8003484C 000307CC  48 00 00 08 */	b .L_80034854
.L_80034850:
/* 80034850 000307D0  38 00 00 00 */	li r0, 0x0
.L_80034854:
/* 80034854 000307D4  7C 0C 02 14 */	add r0, r12, r0
/* 80034858 000307D8  7C 05 00 50 */	subf r0, r5, r0
/* 8003485C 000307DC  B0 1E 00 FC */	sth r0, 0xfc(r30)
/* 80034860 000307E0  A8 04 00 00 */	lha r0, 0x0(r4)
/* 80034864 000307E4  7C A0 52 14 */	add r5, r0, r10
/* 80034868 000307E8  7C 09 28 51 */	subf. r0, r9, r5
/* 8003486C 000307EC  40 80 00 0C */	bge .L_80034878
/* 80034870 000307F0  7C 09 28 50 */	subf r0, r9, r5
/* 80034874 000307F4  48 00 00 08 */	b .L_8003487C
.L_80034878:
/* 80034878 000307F8  38 00 00 00 */	li r0, 0x0
.L_8003487C:
/* 8003487C 000307FC  7C E0 43 D6 */	divw r7, r0, r8
/* 80034880 00030800  38 BE 01 08 */	addi r5, r30, 0x108
/* 80034884 00030804  A0 1E 01 08 */	lhz r0, 0x108(r30)
/* 80034888 00030808  7C 07 00 50 */	subf r0, r7, r0
/* 8003488C 0003080C  B0 1E 00 FE */	sth r0, 0xfe(r30)
/* 80034890 00030810  A8 03 00 00 */	lha r0, 0x0(r3)
/* 80034894 00030814  A8 E4 00 00 */	lha r7, 0x0(r4)
/* 80034898 00030818  7C 60 52 14 */	add r3, r0, r10
/* 8003489C 0003081C  7C 67 1A 14 */	add r3, r7, r3
/* 800348A0 00030820  7C 0B 18 51 */	subf. r0, r11, r3
/* 800348A4 00030824  40 81 00 0C */	ble .L_800348B0
/* 800348A8 00030828  7C 8B 18 50 */	subf r4, r11, r3
/* 800348AC 0003082C  48 00 00 08 */	b .L_800348B4
.L_800348B0:
/* 800348B0 00030830  38 80 00 00 */	li r4, 0x0
.L_800348B4:
/* 800348B4 00030834  7C 67 52 14 */	add r3, r7, r10
/* 800348B8 00030838  7C 09 18 51 */	subf. r0, r9, r3
/* 800348BC 0003083C  40 80 00 0C */	bge .L_800348C8
/* 800348C0 00030840  7C 09 18 50 */	subf r0, r9, r3
/* 800348C4 00030844  48 00 00 08 */	b .L_800348CC
.L_800348C8:
/* 800348C8 00030848  38 00 00 00 */	li r0, 0x0
.L_800348CC:
/* 800348CC 0003084C  7C 00 43 D6 */	divw r0, r0, r8
/* 800348D0 00030850  A0 7E 01 0C */	lhz r3, 0x10c(r30)
/* 800348D4 00030854  7C 03 02 14 */	add r0, r3, r0
/* 800348D8 00030858  7C 84 43 D6 */	divw r4, r4, r8
/* 800348DC 0003085C  7C 04 00 50 */	subf r0, r4, r0
/* 800348E0 00030860  B0 1E 01 00 */	sth r0, 0x100(r30)
/* 800348E4 00030864  38 60 02 80 */	li r3, 0x280
/* 800348E8 00030868  38 00 01 E0 */	li r0, 0x1e0
/* 800348EC 0003086C  B0 7E 01 02 */	sth r3, 0x102(r30)
/* 800348F0 00030870  38 80 00 00 */	li r4, 0x0
/* 800348F4 00030874  39 3E 01 14 */	addi r9, r30, 0x114
/* 800348F8 00030878  B0 1E 01 04 */	sth r0, 0x104(r30)
/* 800348FC 0003087C  B0 9E 01 06 */	sth r4, 0x106(r30)
/* 80034900 00030880  B0 85 00 00 */	sth r4, 0x0(r5)
/* 80034904 00030884  B0 7E 01 0A */	sth r3, 0x10a(r30)
/* 80034908 00030888  B0 1E 01 0C */	sth r0, 0x10c(r30)
/* 8003490C 0003088C  90 86 00 00 */	stw r4, 0x0(r6)
/* 80034910 00030890  A3 7C 00 00 */	lhz r27, 0x0(r28)
/* 80034914 00030894  57 60 F7 FE */	extrwi r0, r27, 1, 29
/* 80034918 00030898  90 1E 01 14 */	stw r0, 0x114(r30)
/* 8003491C 0003089C  57 60 C7 BE */	extrwi r0, r27, 2, 22
/* 80034920 000308A0  90 1E 01 18 */	stw r0, 0x118(r30)
/* 80034924 000308A4  80 1E 01 18 */	lwz r0, 0x118(r30)
/* 80034928 000308A8  28 00 00 03 */	cmplwi r0, 0x3
/* 8003492C 000308AC  40 82 00 08 */	bne .L_80034934
/* 80034930 000308B0  48 00 00 08 */	b .L_80034938
.L_80034934:
/* 80034934 000308B4  7C 04 03 78 */	mr r4, r0
.L_80034938:
/* 80034938 000308B8  80 09 00 00 */	lwz r0, 0x0(r9)
/* 8003493C 000308BC  54 83 10 3A */	slwi r3, r4, 2
/* 80034940 000308C0  7C 63 02 14 */	add r3, r3, r0
/* 80034944 000308C4  4B FF FA 09 */	bl getTiming
/* 80034948 000308C8  90 7E 01 44 */	stw r3, 0x144(r30)
/* 8003494C 000308CC  38 80 00 28 */	li r4, 0x28
/* 80034950 000308D0  3B 80 00 00 */	li r28, 0x0
/* 80034954 000308D4  B3 7E 00 02 */	sth r27, 0x2(r30)
/* 80034958 000308D8  38 00 00 01 */	li r0, 0x1
/* 8003495C 000308DC  38 6D 85 C0 */	addi r3, r13, retraceQueue@sda21
/* 80034960 000308E0  98 9E 01 1C */	stb r4, 0x11c(r30)
/* 80034964 000308E4  98 9E 01 1D */	stb r4, 0x11d(r30)
/* 80034968 000308E8  98 9E 01 1E */	stb r4, 0x11e(r30)
/* 8003496C 000308EC  9B 9E 01 2C */	stb r28, 0x12c(r30)
/* 80034970 000308F0  90 1E 01 30 */	stw r0, 0x130(r30)
/* 80034974 000308F4  93 9E 01 34 */	stw r28, 0x134(r30)
/* 80034978 000308F8  4B FF 9B E9 */	bl OSInitThreadQueue
/* 8003497C 000308FC  3C 60 CC 00 */	lis r3, 0xCC002030@ha
/* 80034980 00030900  A0 03 20 30 */	lhz r0, 0xCC002030@l(r3)
/* 80034984 00030904  38 83 20 00 */	addi r4, r3, 0x2000
/* 80034988 00030908  38 A3 20 00 */	addi r5, r3, 0x2000
/* 8003498C 0003090C  54 00 04 7E */	clrlwi r0, r0, 17
/* 80034990 00030910  B0 04 00 30 */	sth r0, 0x30(r4)
/* 80034994 00030914  3C 60 80 03 */	lis r3, __VIRetraceHandler@ha
/* 80034998 00030918  38 83 41 3C */	addi r4, r3, __VIRetraceHandler@l
/* 8003499C 0003091C  A0 05 00 34 */	lhz r0, 0x34(r5)
/* 800349A0 00030920  38 60 00 18 */	li r3, 0x18
/* 800349A4 00030924  54 00 04 7E */	clrlwi r0, r0, 17
/* 800349A8 00030928  B0 05 00 34 */	sth r0, 0x34(r5)
/* 800349AC 0003092C  93 8D 85 C8 */	stw r28, PreCB@sda21(r13)
/* 800349B0 00030930  93 8D 85 CC */	stw r28, PostCB@sda21(r13)
/* 800349B4 00030934  4B FF 66 7D */	bl __OSSetInterruptHandler
/* 800349B8 00030938  38 60 00 80 */	li r3, 0x80
/* 800349BC 0003093C  4B FF 6A 79 */	bl __OSUnmaskInterrupts
/* 800349C0 00030940  BB 61 00 0C */	lmw r27, 0xc(r1)
/* 800349C4 00030944  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800349C8 00030948  38 21 00 20 */	addi r1, r1, 0x20
/* 800349CC 0003094C  7C 08 03 A6 */	mtlr r0
/* 800349D0 00030950  4E 80 00 20 */	blr
.endfn VIInit

.fn VIWaitForRetrace, global
/* 800349D4 00030954  7C 08 02 A6 */	mflr r0
/* 800349D8 00030958  90 01 00 04 */	stw r0, 0x4(r1)
/* 800349DC 0003095C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800349E0 00030960  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800349E4 00030964  93 C1 00 08 */	stw r30, 0x8(r1)
/* 800349E8 00030968  4B FF 65 FD */	bl OSDisableInterrupts
/* 800349EC 0003096C  83 CD 85 B8 */	lwz r30, retraceCount@sda21(r13)
/* 800349F0 00030970  7C 7F 1B 78 */	mr r31, r3
.L_800349F4:
/* 800349F4 00030974  38 6D 85 C0 */	addi r3, r13, retraceQueue@sda21
/* 800349F8 00030978  4B FF A8 6D */	bl OSSleepThread
/* 800349FC 0003097C  80 0D 85 B8 */	lwz r0, retraceCount@sda21(r13)
/* 80034A00 00030980  7C 1E 00 40 */	cmplw r30, r0
/* 80034A04 00030984  41 82 FF F0 */	beq .L_800349F4
/* 80034A08 00030988  7F E3 FB 78 */	mr r3, r31
/* 80034A0C 0003098C  4B FF 66 01 */	bl OSRestoreInterrupts
/* 80034A10 00030990  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80034A14 00030994  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80034A18 00030998  83 C1 00 08 */	lwz r30, 0x8(r1)
/* 80034A1C 0003099C  7C 08 03 A6 */	mtlr r0
/* 80034A20 000309A0  38 21 00 10 */	addi r1, r1, 0x10
/* 80034A24 000309A4  4E 80 00 20 */	blr
.endfn VIWaitForRetrace

.fn setFbbRegs, local
/* 80034A28 000309A8  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 80034A2C 000309AC  3D 20 80 08 */	lis r9, regs@ha
/* 80034A30 000309B0  39 29 0F 48 */	addi r9, r9, regs@l
/* 80034A34 000309B4  93 E1 00 44 */	stw r31, 0x44(r1)
/* 80034A38 000309B8  89 03 00 2C */	lbz r8, 0x2c(r3)
/* 80034A3C 000309BC  A0 03 00 0E */	lhz r0, 0xe(r3)
/* 80034A40 000309C0  55 1F 28 34 */	slwi r31, r8, 5
/* 80034A44 000309C4  A1 03 00 16 */	lhz r8, 0x16(r3)
/* 80034A48 000309C8  7C 1F 01 D6 */	mullw r0, r31, r0
/* 80034A4C 000309CC  81 63 00 20 */	lwz r11, 0x20(r3)
/* 80034A50 000309D0  81 43 00 30 */	lwz r10, 0x30(r3)
/* 80034A54 000309D4  A1 83 00 0A */	lhz r12, 0xa(r3)
/* 80034A58 000309D8  55 08 08 34 */	extlwi r8, r8, 27, 1
/* 80034A5C 000309DC  7C 08 02 14 */	add r0, r8, r0
/* 80034A60 000309E0  7C 0A 02 14 */	add r0, r10, r0
/* 80034A64 000309E4  2C 0B 00 00 */	cmpwi r11, 0x0
/* 80034A68 000309E8  90 04 00 00 */	stw r0, 0x0(r4)
/* 80034A6C 000309EC  40 82 00 0C */	bne .L_80034A78
/* 80034A70 000309F0  81 04 00 00 */	lwz r8, 0x0(r4)
/* 80034A74 000309F4  48 00 00 0C */	b .L_80034A80
.L_80034A78:
/* 80034A78 000309F8  80 04 00 00 */	lwz r0, 0x0(r4)
/* 80034A7C 000309FC  7D 00 FA 14 */	add r8, r0, r31
.L_80034A80:
/* 80034A80 00030A00  7D 80 0E 70 */	srawi r0, r12, 1
/* 80034A84 00030A04  91 05 00 00 */	stw r8, 0x0(r5)
/* 80034A88 00030A08  7C 00 01 94 */	addze r0, r0
/* 80034A8C 00030A0C  54 00 08 3C */	slwi r0, r0, 1
/* 80034A90 00030A10  7C 00 60 10 */	subfc r0, r0, r12
/* 80034A94 00030A14  2C 00 00 01 */	cmpwi r0, 0x1
/* 80034A98 00030A18  40 82 00 14 */	bne .L_80034AAC
/* 80034A9C 00030A1C  81 04 00 00 */	lwz r8, 0x0(r4)
/* 80034AA0 00030A20  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034AA4 00030A24  90 04 00 00 */	stw r0, 0x0(r4)
/* 80034AA8 00030A28  91 05 00 00 */	stw r8, 0x0(r5)
.L_80034AAC:
/* 80034AAC 00030A2C  80 04 00 00 */	lwz r0, 0x0(r4)
/* 80034AB0 00030A30  54 00 00 BE */	clrlwi r0, r0, 2
/* 80034AB4 00030A34  90 04 00 00 */	stw r0, 0x0(r4)
/* 80034AB8 00030A38  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034ABC 00030A3C  54 00 00 BE */	clrlwi r0, r0, 2
/* 80034AC0 00030A40  90 05 00 00 */	stw r0, 0x0(r5)
/* 80034AC4 00030A44  80 03 00 44 */	lwz r0, 0x44(r3)
/* 80034AC8 00030A48  2C 00 00 00 */	cmpwi r0, 0x0
/* 80034ACC 00030A4C  41 82 00 90 */	beq .L_80034B5C
/* 80034AD0 00030A50  89 03 00 2C */	lbz r8, 0x2c(r3)
/* 80034AD4 00030A54  A0 03 00 0E */	lhz r0, 0xe(r3)
/* 80034AD8 00030A58  55 1F 28 34 */	slwi r31, r8, 5
/* 80034ADC 00030A5C  A1 03 00 16 */	lhz r8, 0x16(r3)
/* 80034AE0 00030A60  7C 1F 01 D6 */	mullw r0, r31, r0
/* 80034AE4 00030A64  81 63 00 20 */	lwz r11, 0x20(r3)
/* 80034AE8 00030A68  81 43 00 48 */	lwz r10, 0x48(r3)
/* 80034AEC 00030A6C  A1 83 00 0A */	lhz r12, 0xa(r3)
/* 80034AF0 00030A70  55 08 08 34 */	extlwi r8, r8, 27, 1
/* 80034AF4 00030A74  7C 08 02 14 */	add r0, r8, r0
/* 80034AF8 00030A78  7C 0A 02 14 */	add r0, r10, r0
/* 80034AFC 00030A7C  2C 0B 00 00 */	cmpwi r11, 0x0
/* 80034B00 00030A80  90 06 00 00 */	stw r0, 0x0(r6)
/* 80034B04 00030A84  40 82 00 0C */	bne .L_80034B10
/* 80034B08 00030A88  81 06 00 00 */	lwz r8, 0x0(r6)
/* 80034B0C 00030A8C  48 00 00 0C */	b .L_80034B18
.L_80034B10:
/* 80034B10 00030A90  80 06 00 00 */	lwz r0, 0x0(r6)
/* 80034B14 00030A94  7D 00 FA 14 */	add r8, r0, r31
.L_80034B18:
/* 80034B18 00030A98  7D 80 0E 70 */	srawi r0, r12, 1
/* 80034B1C 00030A9C  91 07 00 00 */	stw r8, 0x0(r7)
/* 80034B20 00030AA0  7C 00 01 94 */	addze r0, r0
/* 80034B24 00030AA4  54 00 08 3C */	slwi r0, r0, 1
/* 80034B28 00030AA8  7C 00 60 10 */	subfc r0, r0, r12
/* 80034B2C 00030AAC  2C 00 00 01 */	cmpwi r0, 0x1
/* 80034B30 00030AB0  40 82 00 14 */	bne .L_80034B44
/* 80034B34 00030AB4  81 06 00 00 */	lwz r8, 0x0(r6)
/* 80034B38 00030AB8  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034B3C 00030ABC  90 06 00 00 */	stw r0, 0x0(r6)
/* 80034B40 00030AC0  91 07 00 00 */	stw r8, 0x0(r7)
.L_80034B44:
/* 80034B44 00030AC4  80 06 00 00 */	lwz r0, 0x0(r6)
/* 80034B48 00030AC8  54 00 00 BE */	clrlwi r0, r0, 2
/* 80034B4C 00030ACC  90 06 00 00 */	stw r0, 0x0(r6)
/* 80034B50 00030AD0  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034B54 00030AD4  54 00 00 BE */	clrlwi r0, r0, 2
/* 80034B58 00030AD8  90 07 00 00 */	stw r0, 0x0(r7)
.L_80034B5C:
/* 80034B5C 00030ADC  80 04 00 00 */	lwz r0, 0x0(r4)
/* 80034B60 00030AE0  3D 00 01 00 */	lis r8, 0x100
/* 80034B64 00030AE4  7C 00 40 40 */	cmplw r0, r8
/* 80034B68 00030AE8  40 80 00 30 */	bge .L_80034B98
/* 80034B6C 00030AEC  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034B70 00030AF0  7C 00 40 40 */	cmplw r0, r8
/* 80034B74 00030AF4  40 80 00 24 */	bge .L_80034B98
/* 80034B78 00030AF8  80 06 00 00 */	lwz r0, 0x0(r6)
/* 80034B7C 00030AFC  7C 00 40 40 */	cmplw r0, r8
/* 80034B80 00030B00  40 80 00 18 */	bge .L_80034B98
/* 80034B84 00030B04  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034B88 00030B08  7C 00 40 40 */	cmplw r0, r8
/* 80034B8C 00030B0C  40 80 00 0C */	bge .L_80034B98
/* 80034B90 00030B10  39 40 00 00 */	li r10, 0x0
/* 80034B94 00030B14  48 00 00 08 */	b .L_80034B9C
.L_80034B98:
/* 80034B98 00030B18  39 40 00 01 */	li r10, 0x1
.L_80034B9C:
/* 80034B9C 00030B1C  28 0A 00 00 */	cmplwi r10, 0x0
/* 80034BA0 00030B20  41 82 00 34 */	beq .L_80034BD4
/* 80034BA4 00030B24  80 04 00 00 */	lwz r0, 0x0(r4)
/* 80034BA8 00030B28  54 00 D9 7E */	srwi r0, r0, 5
/* 80034BAC 00030B2C  90 04 00 00 */	stw r0, 0x0(r4)
/* 80034BB0 00030B30  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034BB4 00030B34  54 00 D9 7E */	srwi r0, r0, 5
/* 80034BB8 00030B38  90 05 00 00 */	stw r0, 0x0(r5)
/* 80034BBC 00030B3C  80 06 00 00 */	lwz r0, 0x0(r6)
/* 80034BC0 00030B40  54 00 D9 7E */	srwi r0, r0, 5
/* 80034BC4 00030B44  90 06 00 00 */	stw r0, 0x0(r6)
/* 80034BC8 00030B48  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034BCC 00030B4C  54 00 D9 7E */	srwi r0, r0, 5
/* 80034BD0 00030B50  90 07 00 00 */	stw r0, 0x0(r7)
.L_80034BD4:
/* 80034BD4 00030B54  80 04 00 00 */	lwz r0, 0x0(r4)
/* 80034BD8 00030B58  55 4B 60 26 */	slwi r11, r10, 12
/* 80034BDC 00030B5C  3D 00 00 01 */	lis r8, 0x1
/* 80034BE0 00030B60  B0 09 00 1E */	sth r0, 0x1e(r9)
/* 80034BE4 00030B64  3C 00 00 02 */	lis r0, 0x2
/* 80034BE8 00030B68  81 4D 85 E0 */	lwz r10, changed@sda21(r13)
/* 80034BEC 00030B6C  81 8D 85 E4 */	lwz r12, changed+4@sda21(r13)
/* 80034BF0 00030B70  7D 4A 43 78 */	or r10, r10, r8
/* 80034BF4 00030B74  91 8D 85 E4 */	stw r12, changed+4@sda21(r13)
/* 80034BF8 00030B78  91 4D 85 E0 */	stw r10, changed@sda21(r13)
/* 80034BFC 00030B7C  81 44 00 00 */	lwz r10, 0x0(r4)
/* 80034C00 00030B80  88 83 00 3C */	lbz r4, 0x3c(r3)
/* 80034C04 00030B84  55 4A 84 3E */	srwi r10, r10, 16
/* 80034C08 00030B88  54 84 40 2E */	slwi r4, r4, 8
/* 80034C0C 00030B8C  7D 44 23 78 */	or r4, r10, r4
/* 80034C10 00030B90  7D 64 23 78 */	or r4, r11, r4
/* 80034C14 00030B94  B0 89 00 1C */	sth r4, 0x1c(r9)
/* 80034C18 00030B98  80 8D 85 E0 */	lwz r4, changed@sda21(r13)
/* 80034C1C 00030B9C  81 4D 85 E4 */	lwz r10, changed+4@sda21(r13)
/* 80034C20 00030BA0  7C 80 03 78 */	or r0, r4, r0
/* 80034C24 00030BA4  91 4D 85 E4 */	stw r10, changed+4@sda21(r13)
/* 80034C28 00030BA8  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034C2C 00030BAC  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034C30 00030BB0  B0 09 00 26 */	sth r0, 0x26(r9)
/* 80034C34 00030BB4  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034C38 00030BB8  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80034C3C 00030BBC  60 00 10 00 */	ori r0, r0, 0x1000
/* 80034C40 00030BC0  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80034C44 00030BC4  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034C48 00030BC8  80 05 00 00 */	lwz r0, 0x0(r5)
/* 80034C4C 00030BCC  54 00 84 3E */	srwi r0, r0, 16
/* 80034C50 00030BD0  B0 09 00 24 */	sth r0, 0x24(r9)
/* 80034C54 00030BD4  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034C58 00030BD8  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80034C5C 00030BDC  60 00 20 00 */	ori r0, r0, 0x2000
/* 80034C60 00030BE0  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80034C64 00030BE4  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034C68 00030BE8  80 03 00 44 */	lwz r0, 0x44(r3)
/* 80034C6C 00030BEC  2C 00 00 00 */	cmpwi r0, 0x0
/* 80034C70 00030BF0  41 82 00 80 */	beq .L_80034CF0
/* 80034C74 00030BF4  80 66 00 00 */	lwz r3, 0x0(r6)
/* 80034C78 00030BF8  38 08 80 00 */	addi r0, r8, -0x8000
/* 80034C7C 00030BFC  B0 69 00 22 */	sth r3, 0x22(r9)
/* 80034C80 00030C00  80 6D 85 E0 */	lwz r3, changed@sda21(r13)
/* 80034C84 00030C04  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80034C88 00030C08  60 63 40 00 */	ori r3, r3, 0x4000
/* 80034C8C 00030C0C  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80034C90 00030C10  90 6D 85 E0 */	stw r3, changed@sda21(r13)
/* 80034C94 00030C14  80 66 00 00 */	lwz r3, 0x0(r6)
/* 80034C98 00030C18  54 63 84 3E */	srwi r3, r3, 16
/* 80034C9C 00030C1C  B0 69 00 20 */	sth r3, 0x20(r9)
/* 80034CA0 00030C20  80 6D 85 E0 */	lwz r3, changed@sda21(r13)
/* 80034CA4 00030C24  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80034CA8 00030C28  7C 60 03 78 */	or r0, r3, r0
/* 80034CAC 00030C2C  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80034CB0 00030C30  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034CB4 00030C34  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034CB8 00030C38  B0 09 00 2A */	sth r0, 0x2a(r9)
/* 80034CBC 00030C3C  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034CC0 00030C40  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 80034CC4 00030C44  60 00 04 00 */	ori r0, r0, 0x400
/* 80034CC8 00030C48  90 6D 85 E4 */	stw r3, changed+4@sda21(r13)
/* 80034CCC 00030C4C  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034CD0 00030C50  80 07 00 00 */	lwz r0, 0x0(r7)
/* 80034CD4 00030C54  54 00 84 3E */	srwi r0, r0, 16
/* 80034CD8 00030C58  B0 09 00 28 */	sth r0, 0x28(r9)
/* 80034CDC 00030C5C  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034CE0 00030C60  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 80034CE4 00030C64  60 00 08 00 */	ori r0, r0, 0x800
/* 80034CE8 00030C68  90 6D 85 E4 */	stw r3, changed+4@sda21(r13)
/* 80034CEC 00030C6C  90 0D 85 E0 */	stw r0, changed@sda21(r13)
.L_80034CF0:
/* 80034CF0 00030C70  83 E1 00 44 */	lwz r31, 0x44(r1)
/* 80034CF4 00030C74  38 21 00 48 */	addi r1, r1, 0x48
/* 80034CF8 00030C78  4E 80 00 20 */	blr
.endfn setFbbRegs

.fn setVerticalRegs, local
/* 80034CFC 00030C7C  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80034D00 00030C80  54 A0 06 3E */	clrlwi r0, r5, 24
/* 80034D04 00030C84  3D 60 80 08 */	lis r11, regs@ha
/* 80034D08 00030C88  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80034D0C 00030C8C  28 00 00 0A */	cmplwi r0, 0xa
/* 80034D10 00030C90  83 E1 00 30 */	lwz r31, 0x30(r1)
/* 80034D14 00030C94  39 6B 0F 48 */	addi r11, r11, regs@l
/* 80034D18 00030C98  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80034D1C 00030C9C  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80034D20 00030CA0  41 80 00 10 */	blt .L_80034D30
/* 80034D24 00030CA4  39 80 00 01 */	li r12, 0x1
/* 80034D28 00030CA8  3B A0 00 02 */	li r29, 0x2
/* 80034D2C 00030CAC  48 00 00 0C */	b .L_80034D38
.L_80034D30:
/* 80034D30 00030CB0  39 80 00 02 */	li r12, 0x2
/* 80034D34 00030CB4  3B A0 00 01 */	li r29, 0x1
.L_80034D38:
/* 80034D38 00030CB8  54 7E 04 3E */	clrlwi r30, r3, 16
/* 80034D3C 00030CBC  7F C0 0E 70 */	srawi r0, r30, 1
/* 80034D40 00030CC0  7C 00 01 94 */	addze r0, r0
/* 80034D44 00030CC4  54 00 08 3C */	slwi r0, r0, 1
/* 80034D48 00030CC8  7C 00 F0 11 */	subfc. r0, r0, r30
/* 80034D4C 00030CCC  40 82 00 3C */	bne .L_80034D88
/* 80034D50 00030CD0  55 83 04 3E */	clrlwi r3, r12, 16
/* 80034D54 00030CD4  54 C0 04 3E */	clrlwi r0, r6, 16
/* 80034D58 00030CD8  7C 03 01 D6 */	mullw r0, r3, r0
/* 80034D5C 00030CDC  54 83 04 3E */	clrlwi r3, r4, 16
/* 80034D60 00030CE0  7C 03 00 50 */	subf r0, r3, r0
/* 80034D64 00030CE4  57 A3 04 3E */	clrlwi r3, r29, 16
/* 80034D68 00030CE8  7F A3 F1 D6 */	mullw r29, r3, r30
/* 80034D6C 00030CEC  7C 1E 00 50 */	subf r0, r30, r0
/* 80034D70 00030CF0  7F C3 01 D6 */	mullw r30, r3, r0
/* 80034D74 00030CF4  7C 07 EA 14 */	add r0, r7, r29
/* 80034D78 00030CF8  7C C9 F2 14 */	add r6, r9, r30
/* 80034D7C 00030CFC  7C 68 EA 14 */	add r3, r8, r29
/* 80034D80 00030D00  7C EA F2 14 */	add r7, r10, r30
/* 80034D84 00030D04  48 00 00 38 */	b .L_80034DBC
.L_80034D88:
/* 80034D88 00030D08  55 83 04 3E */	clrlwi r3, r12, 16
/* 80034D8C 00030D0C  54 C0 04 3E */	clrlwi r0, r6, 16
/* 80034D90 00030D10  7C 03 01 D6 */	mullw r0, r3, r0
/* 80034D94 00030D14  54 83 04 3E */	clrlwi r3, r4, 16
/* 80034D98 00030D18  7C 03 00 50 */	subf r0, r3, r0
/* 80034D9C 00030D1C  57 A3 04 3E */	clrlwi r3, r29, 16
/* 80034DA0 00030D20  7F A3 F1 D6 */	mullw r29, r3, r30
/* 80034DA4 00030D24  7C 1E 00 50 */	subf r0, r30, r0
/* 80034DA8 00030D28  7F C3 01 D6 */	mullw r30, r3, r0
/* 80034DAC 00030D2C  7C 08 EA 14 */	add r0, r8, r29
/* 80034DB0 00030D30  7C CA F2 14 */	add r6, r10, r30
/* 80034DB4 00030D34  7C 67 EA 14 */	add r3, r7, r29
/* 80034DB8 00030D38  7C E9 F2 14 */	add r7, r9, r30
.L_80034DBC:
/* 80034DBC 00030D3C  54 88 04 3E */	clrlwi r8, r4, 16
/* 80034DC0 00030D40  55 84 04 3E */	clrlwi r4, r12, 16
/* 80034DC4 00030D44  7C 88 23 D6 */	divw r4, r8, r4
/* 80034DC8 00030D48  2C 1F 00 00 */	cmpwi r31, 0x0
/* 80034DCC 00030D4C  54 84 04 3E */	clrlwi r4, r4, 16
/* 80034DD0 00030D50  41 82 00 20 */	beq .L_80034DF0
/* 80034DD4 00030D54  54 84 08 3C */	slwi r4, r4, 1
/* 80034DD8 00030D58  38 84 FF FE */	addi r4, r4, -0x2
/* 80034DDC 00030D5C  7C 00 22 14 */	add r0, r0, r4
/* 80034DE0 00030D60  7C 63 22 14 */	add r3, r3, r4
/* 80034DE4 00030D64  38 80 00 00 */	li r4, 0x0
/* 80034DE8 00030D68  38 C6 00 02 */	addi r6, r6, 0x2
/* 80034DEC 00030D6C  38 E7 00 02 */	addi r7, r7, 0x2
.L_80034DF0:
/* 80034DF0 00030D70  54 A5 06 3E */	clrlwi r5, r5, 24
/* 80034DF4 00030D74  54 84 23 36 */	clrlslwi r4, r4, 16, 4
/* 80034DF8 00030D78  7C A4 23 78 */	or r4, r5, r4
/* 80034DFC 00030D7C  B0 8B 00 00 */	sth r4, 0x0(r11)
/* 80034E00 00030D80  3C 80 80 00 */	lis r4, 0x8000
/* 80034E04 00030D84  3D 20 01 00 */	lis r9, 0x100
/* 80034E08 00030D88  80 AD 85 E0 */	lwz r5, changed@sda21(r13)
/* 80034E0C 00030D8C  3D 00 02 00 */	lis r8, 0x200
/* 80034E10 00030D90  81 4D 85 E4 */	lwz r10, changed+4@sda21(r13)
/* 80034E14 00030D94  7C A4 23 78 */	or r4, r5, r4
/* 80034E18 00030D98  3C A0 00 40 */	lis r5, 0x40
/* 80034E1C 00030D9C  91 4D 85 E4 */	stw r10, changed+4@sda21(r13)
/* 80034E20 00030DA0  90 8D 85 E0 */	stw r4, changed@sda21(r13)
/* 80034E24 00030DA4  3C 80 00 80 */	lis r4, 0x80
/* 80034E28 00030DA8  B0 0B 00 0E */	sth r0, 0xe(r11)
/* 80034E2C 00030DAC  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034E30 00030DB0  81 4D 85 E4 */	lwz r10, changed+4@sda21(r13)
/* 80034E34 00030DB4  7C 00 4B 78 */	or r0, r0, r9
/* 80034E38 00030DB8  91 4D 85 E4 */	stw r10, changed+4@sda21(r13)
/* 80034E3C 00030DBC  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034E40 00030DC0  B0 CB 00 0C */	sth r6, 0xc(r11)
/* 80034E44 00030DC4  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034E48 00030DC8  80 CD 85 E4 */	lwz r6, changed+4@sda21(r13)
/* 80034E4C 00030DCC  7C 00 43 78 */	or r0, r0, r8
/* 80034E50 00030DD0  90 CD 85 E4 */	stw r6, changed+4@sda21(r13)
/* 80034E54 00030DD4  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034E58 00030DD8  B0 6B 00 12 */	sth r3, 0x12(r11)
/* 80034E5C 00030DDC  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034E60 00030DE0  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 80034E64 00030DE4  7C 00 2B 78 */	or r0, r0, r5
/* 80034E68 00030DE8  90 6D 85 E4 */	stw r3, changed+4@sda21(r13)
/* 80034E6C 00030DEC  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034E70 00030DF0  B0 EB 00 10 */	sth r7, 0x10(r11)
/* 80034E74 00030DF4  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80034E78 00030DF8  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 80034E7C 00030DFC  7C 00 23 78 */	or r0, r0, r4
/* 80034E80 00030E00  90 6D 85 E4 */	stw r3, changed+4@sda21(r13)
/* 80034E84 00030E04  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80034E88 00030E08  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 80034E8C 00030E0C  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 80034E90 00030E10  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 80034E94 00030E14  38 21 00 28 */	addi r1, r1, 0x28
/* 80034E98 00030E18  4E 80 00 20 */	blr
.endfn setVerticalRegs

.fn VIConfigure, global
/* 80034E9C 00030E1C  7C 08 02 A6 */	mflr r0
/* 80034EA0 00030E20  3C 80 80 08 */	lis r4, regs@ha
/* 80034EA4 00030E24  90 01 00 04 */	stw r0, 0x4(r1)
/* 80034EA8 00030E28  94 21 FF 80 */	stwu r1, -0x80(r1)
/* 80034EAC 00030E2C  BD E1 00 3C */	stmw r15, 0x3c(r1)
/* 80034EB0 00030E30  3B E3 00 00 */	addi r31, r3, 0x0
/* 80034EB4 00030E34  3B A4 0F 48 */	addi r29, r4, regs@l
/* 80034EB8 00030E38  4B FF 61 2D */	bl OSDisableInterrupts
/* 80034EBC 00030E3C  80 9F 00 00 */	lwz r4, 0x0(r31)
/* 80034EC0 00030E40  3B 9D 01 14 */	addi r28, r29, 0x114
/* 80034EC4 00030E44  80 1D 01 14 */	lwz r0, 0x114(r29)
/* 80034EC8 00030E48  39 E3 00 00 */	addi r15, r3, 0x0
/* 80034ECC 00030E4C  54 84 07 BE */	clrlwi r4, r4, 30
/* 80034ED0 00030E50  7C 00 20 40 */	cmplw r0, r4
/* 80034ED4 00030E54  41 82 00 10 */	beq .L_80034EE4
/* 80034ED8 00030E58  38 00 00 01 */	li r0, 0x1
/* 80034EDC 00030E5C  90 0D 85 D8 */	stw r0, changeMode@sda21(r13)
/* 80034EE0 00030E60  90 9C 00 00 */	stw r4, 0x0(r28)
.L_80034EE4:
/* 80034EE4 00030E64  48 00 09 FD */	bl VIGetTvFormat
/* 80034EE8 00030E68  3A BD 01 18 */	addi r21, r29, 0x118
/* 80034EEC 00030E6C  90 7D 01 18 */	stw r3, 0x118(r29)
/* 80034EF0 00030E70  A0 1F 00 0A */	lhz r0, 0xa(r31)
/* 80034EF4 00030E74  B0 1D 00 F0 */	sth r0, 0xf0(r29)
/* 80034EF8 00030E78  80 1C 00 00 */	lwz r0, 0x0(r28)
/* 80034EFC 00030E7C  28 00 00 01 */	cmplwi r0, 0x1
/* 80034F00 00030E80  40 82 00 10 */	bne .L_80034F10
/* 80034F04 00030E84  A0 1F 00 0C */	lhz r0, 0xc(r31)
/* 80034F08 00030E88  54 00 0C 3C */	clrlslwi r0, r0, 17, 1
/* 80034F0C 00030E8C  48 00 00 08 */	b .L_80034F14
.L_80034F10:
/* 80034F10 00030E90  A0 1F 00 0C */	lhz r0, 0xc(r31)
.L_80034F14:
/* 80034F14 00030E94  B0 1D 00 F2 */	sth r0, 0xf2(r29)
/* 80034F18 00030E98  3A FD 00 F2 */	addi r23, r29, 0xf2
/* 80034F1C 00030E9C  3B 1D 00 F4 */	addi r24, r29, 0xf4
/* 80034F20 00030EA0  A0 1F 00 0E */	lhz r0, 0xe(r31)
/* 80034F24 00030EA4  3B 7D 01 02 */	addi r27, r29, 0x102
/* 80034F28 00030EA8  3B 3D 01 10 */	addi r25, r29, 0x110
/* 80034F2C 00030EAC  B0 1D 00 F4 */	sth r0, 0xf4(r29)
/* 80034F30 00030EB0  38 00 00 00 */	li r0, 0x0
/* 80034F34 00030EB4  3A 3D 01 0A */	addi r17, r29, 0x10a
/* 80034F38 00030EB8  A0 7F 00 04 */	lhz r3, 0x4(r31)
/* 80034F3C 00030EBC  3B 5D 01 0C */	addi r26, r29, 0x10c
/* 80034F40 00030EC0  3A 1D 01 06 */	addi r16, r29, 0x106
/* 80034F44 00030EC4  B0 7D 01 02 */	sth r3, 0x102(r29)
/* 80034F48 00030EC8  3A 5D 01 08 */	addi r18, r29, 0x108
/* 80034F4C 00030ECC  A0 7F 00 08 */	lhz r3, 0x8(r31)
/* 80034F50 00030ED0  B0 7D 01 04 */	sth r3, 0x104(r29)
/* 80034F54 00030ED4  80 7F 00 14 */	lwz r3, 0x14(r31)
/* 80034F58 00030ED8  90 7D 01 10 */	stw r3, 0x110(r29)
/* 80034F5C 00030EDC  A0 7D 01 02 */	lhz r3, 0x102(r29)
/* 80034F60 00030EE0  B0 7D 01 0A */	sth r3, 0x10a(r29)
/* 80034F64 00030EE4  A0 7D 01 04 */	lhz r3, 0x104(r29)
/* 80034F68 00030EE8  B0 7D 01 0C */	sth r3, 0x10c(r29)
/* 80034F6C 00030EEC  B0 1D 01 06 */	sth r0, 0x106(r29)
/* 80034F70 00030EF0  B0 1D 01 08 */	sth r0, 0x108(r29)
/* 80034F74 00030EF4  80 1C 00 00 */	lwz r0, 0x0(r28)
/* 80034F78 00030EF8  28 00 00 02 */	cmplwi r0, 0x2
/* 80034F7C 00030EFC  40 82 00 0C */	bne .L_80034F88
/* 80034F80 00030F00  A0 1A 00 00 */	lhz r0, 0x0(r26)
/* 80034F84 00030F04  48 00 00 20 */	b .L_80034FA4
.L_80034F88:
/* 80034F88 00030F08  80 19 00 00 */	lwz r0, 0x0(r25)
/* 80034F8C 00030F0C  2C 00 00 00 */	cmpwi r0, 0x0
/* 80034F90 00030F10  40 82 00 10 */	bne .L_80034FA0
/* 80034F94 00030F14  A0 1A 00 00 */	lhz r0, 0x0(r26)
/* 80034F98 00030F18  54 00 0C 3C */	clrlslwi r0, r0, 17, 1
/* 80034F9C 00030F1C  48 00 00 08 */	b .L_80034FA4
.L_80034FA0:
/* 80034FA0 00030F20  A0 1A 00 00 */	lhz r0, 0x0(r26)
.L_80034FA4:
/* 80034FA4 00030F24  3A DD 00 F6 */	addi r22, r29, 0xf6
/* 80034FA8 00030F28  B0 1D 00 F6 */	sth r0, 0xf6(r29)
/* 80034FAC 00030F2C  80 7F 00 00 */	lwz r3, 0x0(r31)
/* 80034FB0 00030F30  4B FF F3 9D */	bl getTiming
/* 80034FB4 00030F34  7C 7E 1B 78 */	mr r30, r3
/* 80034FB8 00030F38  93 DD 01 44 */	stw r30, 0x144(r29)
/* 80034FBC 00030F3C  A0 18 00 00 */	lhz r0, 0x0(r24)
/* 80034FC0 00030F40  A8 9D 00 F0 */	lha r4, 0xf0(r29)
/* 80034FC4 00030F44  A8 6D 85 D4 */	lha r3, displayOffsetH@sda21(r13)
/* 80034FC8 00030F48  20 00 02 D0 */	subfic r0, r0, 0x2d0
/* 80034FCC 00030F4C  A0 DE 00 02 */	lhz r6, 0x2(r30)
/* 80034FD0 00030F50  7C 64 1A 14 */	add r3, r4, r3
/* 80034FD4 00030F54  7C 03 00 00 */	cmpw r3, r0
/* 80034FD8 00030F58  40 81 00 08 */	ble .L_80034FE0
/* 80034FDC 00030F5C  48 00 00 14 */	b .L_80034FF0
.L_80034FE0:
/* 80034FE0 00030F60  2C 03 00 00 */	cmpwi r3, 0x0
/* 80034FE4 00030F64  40 80 00 08 */	bge .L_80034FEC
/* 80034FE8 00030F68  38 60 00 00 */	li r3, 0x0
.L_80034FEC:
/* 80034FEC 00030F6C  7C 60 1B 78 */	mr r0, r3
.L_80034FF0:
/* 80034FF0 00030F70  B0 1D 00 F8 */	sth r0, 0xf8(r29)
/* 80034FF4 00030F74  38 7D 00 F8 */	addi r3, r29, 0xf8
/* 80034FF8 00030F78  80 19 00 00 */	lwz r0, 0x0(r25)
/* 80034FFC 00030F7C  2C 00 00 00 */	cmpwi r0, 0x0
/* 80035000 00030F80  40 82 00 0C */	bne .L_8003500C
/* 80035004 00030F84  38 00 00 02 */	li r0, 0x2
/* 80035008 00030F88  48 00 00 08 */	b .L_80035010
.L_8003500C:
/* 8003500C 00030F8C  38 00 00 01 */	li r0, 0x1
.L_80035010:
/* 80035010 00030F90  A0 97 00 00 */	lhz r4, 0x0(r23)
/* 80035014 00030F94  A8 AD 85 D6 */	lha r5, displayOffsetV@sda21(r13)
/* 80035018 00030F98  7C 87 07 34 */	extsh r7, r4
/* 8003501C 00030F9C  54 84 07 FE */	clrlwi r4, r4, 31
/* 80035020 00030FA0  7C E7 2A 14 */	add r7, r7, r5
/* 80035024 00030FA4  7C 07 20 00 */	cmpw r7, r4
/* 80035028 00030FA8  40 81 00 08 */	ble .L_80035030
/* 8003502C 00030FAC  48 00 00 08 */	b .L_80035034
.L_80035030:
/* 80035030 00030FB0  7C 87 23 78 */	mr r7, r4
.L_80035034:
/* 80035034 00030FB4  B0 FD 00 FA */	sth r7, 0xfa(r29)
/* 80035038 00030FB8  7C C6 07 34 */	extsh r6, r6
/* 8003503C 00030FBC  54 C6 08 3C */	slwi r6, r6, 1
/* 80035040 00030FC0  A0 F6 00 00 */	lhz r7, 0x0(r22)
/* 80035044 00030FC4  7C C4 30 50 */	subf r6, r4, r6
/* 80035048 00030FC8  A9 57 00 00 */	lha r10, 0x0(r23)
/* 8003504C 00030FCC  3A 7D 00 FA */	addi r19, r29, 0xfa
/* 80035050 00030FD0  7C E8 07 34 */	extsh r8, r7
/* 80035054 00030FD4  7D 28 2A 14 */	add r9, r8, r5
/* 80035058 00030FD8  7D 2A 4A 14 */	add r9, r10, r9
/* 8003505C 00030FDC  7D 06 48 51 */	subf. r8, r6, r9
/* 80035060 00030FE0  40 81 00 0C */	ble .L_8003506C
/* 80035064 00030FE4  7D 26 48 50 */	subf r9, r6, r9
/* 80035068 00030FE8  48 00 00 08 */	b .L_80035070
.L_8003506C:
/* 8003506C 00030FEC  39 20 00 00 */	li r9, 0x0
.L_80035070:
/* 80035070 00030FF0  7D 4A 2A 14 */	add r10, r10, r5
/* 80035074 00030FF4  7D 04 50 51 */	subf. r8, r4, r10
/* 80035078 00030FF8  40 80 00 0C */	bge .L_80035084
/* 8003507C 00030FFC  7D 04 50 50 */	subf r8, r4, r10
/* 80035080 00031000  48 00 00 08 */	b .L_80035088
.L_80035084:
/* 80035084 00031004  39 00 00 00 */	li r8, 0x0
.L_80035088:
/* 80035088 00031008  7C E7 42 14 */	add r7, r7, r8
/* 8003508C 0003100C  7C E9 38 50 */	subf r7, r9, r7
/* 80035090 00031010  3A 9D 00 FC */	addi r20, r29, 0xfc
/* 80035094 00031014  B0 FD 00 FC */	sth r7, 0xfc(r29)
/* 80035098 00031018  A8 F7 00 00 */	lha r7, 0x0(r23)
/* 8003509C 0003101C  7D 07 2A 14 */	add r8, r7, r5
/* 800350A0 00031020  7C E4 40 51 */	subf. r7, r4, r8
/* 800350A4 00031024  40 80 00 0C */	bge .L_800350B0
/* 800350A8 00031028  7C E4 40 50 */	subf r7, r4, r8
/* 800350AC 0003102C  48 00 00 08 */	b .L_800350B4
.L_800350B0:
/* 800350B0 00031030  38 E0 00 00 */	li r7, 0x0
.L_800350B4:
/* 800350B4 00031034  7D 07 03 D6 */	divw r8, r7, r0
/* 800350B8 00031038  A0 F2 00 00 */	lhz r7, 0x0(r18)
/* 800350BC 0003103C  7C E8 38 50 */	subf r7, r8, r7
/* 800350C0 00031040  B0 FD 00 FE */	sth r7, 0xfe(r29)
/* 800350C4 00031044  A8 F6 00 00 */	lha r7, 0x0(r22)
/* 800350C8 00031048  A9 37 00 00 */	lha r9, 0x0(r23)
/* 800350CC 0003104C  7D 07 2A 14 */	add r8, r7, r5
/* 800350D0 00031050  7D 09 42 14 */	add r8, r9, r8
/* 800350D4 00031054  7C E6 40 51 */	subf. r7, r6, r8
/* 800350D8 00031058  40 81 00 0C */	ble .L_800350E4
/* 800350DC 0003105C  7C C6 40 50 */	subf r6, r6, r8
/* 800350E0 00031060  48 00 00 08 */	b .L_800350E8
.L_800350E4:
/* 800350E4 00031064  38 C0 00 00 */	li r6, 0x0
.L_800350E8:
/* 800350E8 00031068  7C E9 2A 14 */	add r7, r9, r5
/* 800350EC 0003106C  7C A4 38 51 */	subf. r5, r4, r7
/* 800350F0 00031070  40 80 00 0C */	bge .L_800350FC
/* 800350F4 00031074  7C 84 38 50 */	subf r4, r4, r7
/* 800350F8 00031078  48 00 00 08 */	b .L_80035100
.L_800350FC:
/* 800350FC 0003107C  38 80 00 00 */	li r4, 0x0
.L_80035100:
/* 80035100 00031080  7C 84 03 D6 */	divw r4, r4, r0
/* 80035104 00031084  A0 BA 00 00 */	lhz r5, 0x0(r26)
/* 80035108 00031088  7C C6 03 D6 */	divw r6, r6, r0
/* 8003510C 0003108C  7C 05 22 14 */	add r0, r5, r4
/* 80035110 00031090  7C 06 00 50 */	subf r0, r6, r0
/* 80035114 00031094  B0 1D 01 00 */	sth r0, 0x100(r29)
/* 80035118 00031098  80 0D 85 D0 */	lwz r0, encoderType@sda21(r13)
/* 8003511C 0003109C  28 00 00 00 */	cmplwi r0, 0x0
/* 80035120 000310A0  40 82 00 0C */	bne .L_8003512C
/* 80035124 000310A4  38 00 00 03 */	li r0, 0x3
/* 80035128 000310A8  90 15 00 00 */	stw r0, 0x0(r21)
.L_8003512C:
/* 8003512C 000310AC  A0 BE 00 18 */	lhz r5, 0x18(r30)
/* 80035130 000310B0  7C A4 0E 70 */	srawi r4, r5, 1
/* 80035134 000310B4  7C 84 01 94 */	addze r4, r4
/* 80035138 000310B8  7C A0 0E 70 */	srawi r0, r5, 1
/* 8003513C 000310BC  7C 00 01 94 */	addze r0, r0
/* 80035140 000310C0  54 00 08 3C */	slwi r0, r0, 1
/* 80035144 000310C4  7C 00 28 10 */	subfc r0, r0, r5
/* 80035148 000310C8  54 00 04 3F */	clrlwi. r0, r0, 16
/* 8003514C 000310CC  54 84 04 3E */	clrlwi r4, r4, 16
/* 80035150 000310D0  41 82 00 0C */	beq .L_8003515C
/* 80035154 000310D4  A0 BE 00 1A */	lhz r5, 0x1a(r30)
/* 80035158 000310D8  48 00 00 08 */	b .L_80035160
.L_8003515C:
/* 8003515C 000310DC  38 A0 00 00 */	li r5, 0x0
.L_80035160:
/* 80035160 000310E0  38 05 00 01 */	addi r0, r5, 0x1
/* 80035164 000310E4  B0 1D 00 32 */	sth r0, 0x32(r29)
/* 80035168 000310E8  38 04 00 01 */	addi r0, r4, 0x1
/* 8003516C 000310EC  60 00 10 00 */	ori r0, r0, 0x1000
/* 80035170 000310F0  80 AD 85 E0 */	lwz r5, changed@sda21(r13)
/* 80035174 000310F4  38 9D 00 02 */	addi r4, r29, 0x2
/* 80035178 000310F8  80 CD 85 E4 */	lwz r6, changed+4@sda21(r13)
/* 8003517C 000310FC  60 A5 00 40 */	ori r5, r5, 0x40
/* 80035180 00031100  90 CD 85 E4 */	stw r6, changed+4@sda21(r13)
/* 80035184 00031104  90 AD 85 E0 */	stw r5, changed@sda21(r13)
/* 80035188 00031108  B0 1D 00 30 */	sth r0, 0x30(r29)
/* 8003518C 0003110C  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80035190 00031110  80 AD 85 E4 */	lwz r5, changed+4@sda21(r13)
/* 80035194 00031114  60 00 00 80 */	ori r0, r0, 0x80
/* 80035198 00031118  90 AD 85 E4 */	stw r5, changed+4@sda21(r13)
/* 8003519C 0003111C  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 800351A0 00031120  80 1C 00 00 */	lwz r0, 0x0(r28)
/* 800351A4 00031124  A0 BD 00 02 */	lhz r5, 0x2(r29)
/* 800351A8 00031128  28 00 00 02 */	cmplwi r0, 0x2
/* 800351AC 0003112C  40 82 00 10 */	bne .L_800351BC
/* 800351B0 00031130  54 A0 07 B8 */	rlwinm r0, r5, 0, 30, 28
/* 800351B4 00031134  60 06 00 04 */	ori r6, r0, 0x4
/* 800351B8 00031138  48 00 00 0C */	b .L_800351C4
.L_800351BC:
/* 800351BC 0003113C  54 A6 07 B8 */	rlwinm r6, r5, 0, 30, 28
/* 800351C0 00031140  50 06 17 7A */	rlwimi r6, r0, 2, 29, 29
.L_800351C4:
/* 800351C4 00031144  80 B5 00 00 */	lwz r5, 0x0(r21)
/* 800351C8 00031148  54 C6 06 2A */	rlwinm r6, r6, 0, 24, 21
/* 800351CC 0003114C  3C 00 40 00 */	lis r0, 0x4000
/* 800351D0 00031150  54 A5 40 2E */	slwi r5, r5, 8
/* 800351D4 00031154  7C C5 2B 78 */	or r5, r6, r5
/* 800351D8 00031158  B0 A4 00 00 */	sth r5, 0x0(r4)
/* 800351DC 0003115C  38 DD 00 6C */	addi r6, r29, 0x6c
/* 800351E0 00031160  80 8D 85 E0 */	lwz r4, changed@sda21(r13)
/* 800351E4 00031164  80 AD 85 E4 */	lwz r5, changed+4@sda21(r13)
/* 800351E8 00031168  7C 80 03 78 */	or r0, r4, r0
/* 800351EC 0003116C  90 AD 85 E4 */	stw r5, changed+4@sda21(r13)
/* 800351F0 00031170  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 800351F4 00031174  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 800351F8 00031178  A0 9D 00 6C */	lhz r4, 0x6c(r29)
/* 800351FC 0003117C  2C 00 00 02 */	cmpwi r0, 0x2
/* 80035200 00031180  41 82 00 0C */	beq .L_8003520C
/* 80035204 00031184  54 80 00 3C */	clrrwi r0, r4, 1
/* 80035208 00031188  48 00 00 0C */	b .L_80035214
.L_8003520C:
/* 8003520C 0003118C  54 80 00 3C */	clrrwi r0, r4, 1
/* 80035210 00031190  60 00 00 01 */	ori r0, r0, 0x1
.L_80035214:
/* 80035214 00031194  B0 06 00 00 */	sth r0, 0x0(r6)
/* 80035218 00031198  80 8D 85 E0 */	lwz r4, changed@sda21(r13)
/* 8003521C 0003119C  80 0D 85 E4 */	lwz r0, changed+4@sda21(r13)
/* 80035220 000311A0  60 00 02 00 */	ori r0, r0, 0x200
/* 80035224 000311A4  90 0D 85 E4 */	stw r0, changed+4@sda21(r13)
/* 80035228 000311A8  90 8D 85 E0 */	stw r4, changed@sda21(r13)
/* 8003522C 000311AC  80 1D 01 34 */	lwz r0, 0x134(r29)
/* 80035230 000311B0  A0 98 00 00 */	lhz r4, 0x0(r24)
/* 80035234 000311B4  2C 00 00 00 */	cmpwi r0, 0x0
/* 80035238 000311B8  A0 B1 00 00 */	lhz r5, 0x0(r17)
/* 8003523C 000311BC  41 82 00 0C */	beq .L_80035248
/* 80035240 000311C0  54 A0 08 3C */	slwi r0, r5, 1
/* 80035244 000311C4  48 00 00 08 */	b .L_8003524C
.L_80035248:
/* 80035248 000311C8  7C A0 2B 78 */	mr r0, r5
.L_8003524C:
/* 8003524C 000311CC  54 08 04 3E */	clrlwi r8, r0, 16
/* 80035250 000311D0  7C 08 20 40 */	cmplw r8, r4
/* 80035254 000311D4  40 80 00 50 */	bge .L_800352A4
/* 80035258 000311D8  55 06 40 2E */	slwi r6, r8, 8
/* 8003525C 000311DC  38 06 FF FF */	addi r0, r6, -0x1
/* 80035260 000311E0  7C 04 02 14 */	add r0, r4, r0
/* 80035264 000311E4  7C 00 23 96 */	divwu r0, r0, r4
/* 80035268 000311E8  60 00 10 00 */	ori r0, r0, 0x1000
/* 8003526C 000311EC  B0 1D 00 4A */	sth r0, 0x4a(r29)
/* 80035270 000311F0  3C 00 04 00 */	lis r0, 0x400
/* 80035274 000311F4  80 CD 85 E0 */	lwz r6, changed@sda21(r13)
/* 80035278 000311F8  80 ED 85 E4 */	lwz r7, changed+4@sda21(r13)
/* 8003527C 000311FC  7C E0 03 78 */	or r0, r7, r0
/* 80035280 00031200  90 0D 85 E4 */	stw r0, changed+4@sda21(r13)
/* 80035284 00031204  90 CD 85 E0 */	stw r6, changed@sda21(r13)
/* 80035288 00031208  B1 1D 00 70 */	sth r8, 0x70(r29)
/* 8003528C 0003120C  80 CD 85 E0 */	lwz r6, changed@sda21(r13)
/* 80035290 00031210  80 0D 85 E4 */	lwz r0, changed+4@sda21(r13)
/* 80035294 00031214  60 00 00 80 */	ori r0, r0, 0x80
/* 80035298 00031218  90 0D 85 E4 */	stw r0, changed+4@sda21(r13)
/* 8003529C 0003121C  90 CD 85 E0 */	stw r6, changed@sda21(r13)
/* 800352A0 00031220  48 00 00 24 */	b .L_800352C4
.L_800352A4:
/* 800352A4 00031224  38 00 01 00 */	li r0, 0x100
/* 800352A8 00031228  B0 1D 00 4A */	sth r0, 0x4a(r29)
/* 800352AC 0003122C  3C 00 04 00 */	lis r0, 0x400
/* 800352B0 00031230  80 CD 85 E0 */	lwz r6, changed@sda21(r13)
/* 800352B4 00031234  80 ED 85 E4 */	lwz r7, changed+4@sda21(r13)
/* 800352B8 00031238  7C E0 03 78 */	or r0, r7, r0
/* 800352BC 0003123C  90 0D 85 E4 */	stw r0, changed+4@sda21(r13)
/* 800352C0 00031240  90 CD 85 E0 */	stw r6, changed@sda21(r13)
.L_800352C4:
/* 800352C4 00031244  A0 03 00 00 */	lhz r0, 0x0(r3)
/* 800352C8 00031248  21 84 02 D0 */	subfic r12, r4, 0x2d0
/* 800352CC 0003124C  A0 DE 00 1A */	lhz r6, 0x1a(r30)
/* 800352D0 00031250  3C 60 10 00 */	lis r3, 0x1000
/* 800352D4 00031254  3D 00 20 00 */	lis r8, 0x2000
/* 800352D8 00031258  B0 DD 00 06 */	sth r6, 0x6(r29)
/* 800352DC 0003125C  3D 20 04 00 */	lis r9, 0x400
/* 800352E0 00031260  3C E0 08 00 */	lis r7, 0x800
/* 800352E4 00031264  81 4D 85 E0 */	lwz r10, changed@sda21(r13)
/* 800352E8 00031268  3C C0 00 10 */	lis r6, 0x10
/* 800352EC 0003126C  3C 80 00 20 */	lis r4, 0x20
/* 800352F0 00031270  81 6D 85 E4 */	lwz r11, changed+4@sda21(r13)
/* 800352F4 00031274  7D 4A 1B 78 */	or r10, r10, r3
/* 800352F8 00031278  3C 60 00 04 */	lis r3, 0x4
/* 800352FC 0003127C  91 6D 85 E4 */	stw r11, changed+4@sda21(r13)
/* 80035300 00031280  91 4D 85 E0 */	stw r10, changed@sda21(r13)
/* 80035304 00031284  89 5E 00 1D */	lbz r10, 0x1d(r30)
/* 80035308 00031288  89 7E 00 1E */	lbz r11, 0x1e(r30)
/* 8003530C 0003128C  51 4B 44 2E */	rlwimi r11, r10, 8, 16, 23
/* 80035310 00031290  B1 7D 00 04 */	sth r11, 0x4(r29)
/* 80035314 00031294  81 4D 85 E0 */	lwz r10, changed@sda21(r13)
/* 80035318 00031298  81 6D 85 E4 */	lwz r11, changed+4@sda21(r13)
/* 8003531C 0003129C  7D 48 43 78 */	or r8, r10, r8
/* 80035320 000312A0  91 6D 85 E4 */	stw r11, changed+4@sda21(r13)
/* 80035324 000312A4  91 0D 85 E0 */	stw r8, changed@sda21(r13)
/* 80035328 000312A8  89 1E 00 1F */	lbz r8, 0x1f(r30)
/* 8003532C 000312AC  89 5E 00 1C */	lbz r10, 0x1c(r30)
/* 80035330 000312B0  7E 28 02 14 */	add r17, r8, r0
/* 80035334 000312B4  A1 7E 00 20 */	lhz r11, 0x20(r30)
/* 80035338 000312B8  3A 31 FF D8 */	addi r17, r17, -0x28
/* 8003533C 000312BC  56 28 3C 30 */	clrlslwi r8, r17, 23, 7
/* 80035340 000312C0  7D 48 43 78 */	or r8, r10, r8
/* 80035344 000312C4  B1 1D 00 0A */	sth r8, 0xa(r29)
/* 80035348 000312C8  7D 0B 02 14 */	add r8, r11, r0
/* 8003534C 000312CC  38 08 00 28 */	addi r0, r8, 0x28
/* 80035350 000312D0  81 4D 85 E0 */	lwz r10, changed@sda21(r13)
/* 80035354 000312D4  7C 0C 00 50 */	subf r0, r12, r0
/* 80035358 000312D8  56 28 BA 7E */	srwi r8, r17, 9
/* 8003535C 000312DC  81 6D 85 E4 */	lwz r11, changed+4@sda21(r13)
/* 80035360 000312E0  54 00 08 3C */	slwi r0, r0, 1
/* 80035364 000312E4  7D 49 4B 78 */	or r9, r10, r9
/* 80035368 000312E8  91 6D 85 E4 */	stw r11, changed+4@sda21(r13)
/* 8003536C 000312EC  7D 00 03 78 */	or r0, r8, r0
/* 80035370 000312F0  91 2D 85 E0 */	stw r9, changed@sda21(r13)
/* 80035374 000312F4  B0 1D 00 08 */	sth r0, 0x8(r29)
/* 80035378 000312F8  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 8003537C 000312FC  81 0D 85 E4 */	lwz r8, changed+4@sda21(r13)
/* 80035380 00031300  7C 00 3B 78 */	or r0, r0, r7
/* 80035384 00031304  91 0D 85 E4 */	stw r8, changed+4@sda21(r13)
/* 80035388 00031308  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 8003538C 0003130C  A0 1E 00 10 */	lhz r0, 0x10(r30)
/* 80035390 00031310  88 FE 00 0C */	lbz r7, 0xc(r30)
/* 80035394 00031314  54 00 28 34 */	slwi r0, r0, 5
/* 80035398 00031318  7C E0 03 78 */	or r0, r7, r0
/* 8003539C 0003131C  B0 1D 00 16 */	sth r0, 0x16(r29)
/* 800353A0 00031320  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 800353A4 00031324  80 ED 85 E4 */	lwz r7, changed+4@sda21(r13)
/* 800353A8 00031328  7C 00 33 78 */	or r0, r0, r6
/* 800353AC 0003132C  90 ED 85 E4 */	stw r7, changed+4@sda21(r13)
/* 800353B0 00031330  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 800353B4 00031334  A0 1E 00 14 */	lhz r0, 0x14(r30)
/* 800353B8 00031338  88 DE 00 0E */	lbz r6, 0xe(r30)
/* 800353BC 0003133C  54 00 28 34 */	slwi r0, r0, 5
/* 800353C0 00031340  7C C0 03 78 */	or r0, r6, r0
/* 800353C4 00031344  B0 1D 00 14 */	sth r0, 0x14(r29)
/* 800353C8 00031348  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 800353CC 0003134C  80 CD 85 E4 */	lwz r6, changed+4@sda21(r13)
/* 800353D0 00031350  7C 00 23 78 */	or r0, r0, r4
/* 800353D4 00031354  90 CD 85 E4 */	stw r6, changed+4@sda21(r13)
/* 800353D8 00031358  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 800353DC 0003135C  A0 1E 00 12 */	lhz r0, 0x12(r30)
/* 800353E0 00031360  88 9E 00 0D */	lbz r4, 0xd(r30)
/* 800353E4 00031364  54 00 28 34 */	slwi r0, r0, 5
/* 800353E8 00031368  7C 80 03 78 */	or r0, r4, r0
/* 800353EC 0003136C  B0 1D 00 1A */	sth r0, 0x1a(r29)
/* 800353F0 00031370  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 800353F4 00031374  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 800353F8 00031378  7C 00 1B 78 */	or r0, r0, r3
/* 800353FC 0003137C  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80035400 00031380  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80035404 00031384  A0 1E 00 16 */	lhz r0, 0x16(r30)
/* 80035408 00031388  88 7E 00 0F */	lbz r3, 0xf(r30)
/* 8003540C 0003138C  54 00 28 34 */	slwi r0, r0, 5
/* 80035410 00031390  7C 60 03 78 */	or r0, r3, r0
/* 80035414 00031394  B0 1D 00 18 */	sth r0, 0x18(r29)
/* 80035418 00031398  80 6D 85 E0 */	lwz r3, changed@sda21(r13)
/* 8003541C 0003139C  3C 00 00 08 */	lis r0, 0x8
/* 80035420 000313A0  38 DD 01 1C */	addi r6, r29, 0x11c
/* 80035424 000313A4  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80035428 000313A8  7C 60 03 78 */	or r0, r3, r0
/* 8003542C 000313AC  90 8D 85 E4 */	stw r4, changed+4@sda21(r13)
/* 80035430 000313B0  90 0D 85 E0 */	stw r0, changed@sda21(r13)
/* 80035434 000313B4  A0 7B 00 00 */	lhz r3, 0x0(r27)
/* 80035438 000313B8  80 99 00 00 */	lwz r4, 0x0(r25)
/* 8003543C 000313BC  38 03 00 0F */	addi r0, r3, 0xf
/* 80035440 000313C0  A0 70 00 00 */	lhz r3, 0x0(r16)
/* 80035444 000313C4  7C 00 26 70 */	srawi r0, r0, 4
/* 80035448 000313C8  7C 00 01 94 */	addze r0, r0
/* 8003544C 000313CC  2C 04 00 00 */	cmpwi r4, 0x0
/* 80035450 000313D0  98 1D 01 1C */	stb r0, 0x11c(r29)
/* 80035454 000313D4  40 82 00 0C */	bne .L_80035460
/* 80035458 000313D8  88 86 00 00 */	lbz r4, 0x0(r6)
/* 8003545C 000313DC  48 00 00 0C */	b .L_80035468
.L_80035460:
/* 80035460 000313E0  88 06 00 00 */	lbz r0, 0x0(r6)
/* 80035464 000313E4  54 04 0E 3C */	clrlslwi r4, r0, 25, 1
.L_80035468:
/* 80035468 000313E8  7C 60 26 70 */	srawi r0, r3, 4
/* 8003546C 000313EC  98 9D 01 1D */	stb r4, 0x11d(r29)
/* 80035470 000313F0  7C 00 01 94 */	addze r0, r0
/* 80035474 000313F4  54 00 20 36 */	slwi r0, r0, 4
/* 80035478 000313F8  7C 00 18 10 */	subfc r0, r0, r3
/* 8003547C 000313FC  98 1D 01 2C */	stb r0, 0x12c(r29)
/* 80035480 00031400  38 05 00 0F */	addi r0, r5, 0xf
/* 80035484 00031404  3C 60 08 00 */	lis r3, 0x800
/* 80035488 00031408  88 9D 01 2C */	lbz r4, 0x12c(r29)
/* 8003548C 0003140C  7C 04 02 14 */	add r0, r4, r0
/* 80035490 00031410  7C 00 26 70 */	srawi r0, r0, 4
/* 80035494 00031414  7C 00 01 94 */	addze r0, r0
/* 80035498 00031418  98 1D 01 1E */	stb r0, 0x11e(r29)
/* 8003549C 0003141C  88 1D 01 1E */	lbz r0, 0x11e(r29)
/* 800354A0 00031420  88 9D 01 1D */	lbz r4, 0x11d(r29)
/* 800354A4 00031424  50 04 44 2E */	rlwimi r4, r0, 8, 16, 23
/* 800354A8 00031428  B0 9D 00 48 */	sth r4, 0x48(r29)
/* 800354AC 0003142C  80 8D 85 E0 */	lwz r4, changed@sda21(r13)
/* 800354B0 00031430  80 0D 85 F8 */	lwz r0, FBSet@sda21(r13)
/* 800354B4 00031434  80 AD 85 E4 */	lwz r5, changed+4@sda21(r13)
/* 800354B8 00031438  28 00 00 00 */	cmplwi r0, 0x0
/* 800354BC 0003143C  7C A0 1B 78 */	or r0, r5, r3
/* 800354C0 00031440  90 0D 85 E4 */	stw r0, changed+4@sda21(r13)
/* 800354C4 00031444  90 8D 85 E0 */	stw r4, changed@sda21(r13)
/* 800354C8 00031448  41 82 00 1C */	beq .L_800354E4
/* 800354CC 0003144C  38 7D 00 F0 */	addi r3, r29, 0xf0
/* 800354D0 00031450  38 9D 01 24 */	addi r4, r29, 0x124
/* 800354D4 00031454  38 BD 01 28 */	addi r5, r29, 0x128
/* 800354D8 00031458  38 DD 01 3C */	addi r6, r29, 0x13c
/* 800354DC 0003145C  38 FD 01 40 */	addi r7, r29, 0x140
/* 800354E0 00031460  4B FF F5 49 */	bl setFbbRegs
.L_800354E4:
/* 800354E4 00031464  80 1D 01 30 */	lwz r0, 0x130(r29)
/* 800354E8 00031468  90 01 00 08 */	stw r0, 0x8(r1)
/* 800354EC 0003146C  A0 73 00 00 */	lhz r3, 0x0(r19)
/* 800354F0 00031470  A0 94 00 00 */	lhz r4, 0x0(r20)
/* 800354F4 00031474  88 BE 00 00 */	lbz r5, 0x0(r30)
/* 800354F8 00031478  A0 DE 00 02 */	lhz r6, 0x2(r30)
/* 800354FC 0003147C  A0 FE 00 04 */	lhz r7, 0x4(r30)
/* 80035500 00031480  A1 1E 00 06 */	lhz r8, 0x6(r30)
/* 80035504 00031484  A1 3E 00 08 */	lhz r9, 0x8(r30)
/* 80035508 00031488  A1 5E 00 0A */	lhz r10, 0xa(r30)
/* 8003550C 0003148C  4B FF F7 F1 */	bl setVerticalRegs
/* 80035510 00031490  7D E3 7B 78 */	mr r3, r15
/* 80035514 00031494  4B FF 5A F9 */	bl OSRestoreInterrupts
/* 80035518 00031498  B9 E1 00 3C */	lmw r15, 0x3c(r1)
/* 8003551C 0003149C  80 01 00 84 */	lwz r0, 0x84(r1)
/* 80035520 000314A0  38 21 00 80 */	addi r1, r1, 0x80
/* 80035524 000314A4  7C 08 03 A6 */	mtlr r0
/* 80035528 000314A8  4E 80 00 20 */	blr
.endfn VIConfigure

.fn VIFlush, global
/* 8003552C 000314AC  7C 08 02 A6 */	mflr r0
/* 80035530 000314B0  90 01 00 04 */	stw r0, 0x4(r1)
/* 80035534 000314B4  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80035538 000314B8  BF 61 00 14 */	stmw r27, 0x14(r1)
/* 8003553C 000314BC  4B FF 5A A9 */	bl OSDisableInterrupts
/* 80035540 000314C0  80 ED 85 E8 */	lwz r7, shdwChangeMode@sda21(r13)
/* 80035544 000314C4  3C 80 80 08 */	lis r4, shdwRegs@ha
/* 80035548 000314C8  3C A0 80 08 */	lis r5, regs@ha
/* 8003554C 000314CC  80 CD 85 D8 */	lwz r6, changeMode@sda21(r13)
/* 80035550 000314D0  38 00 00 00 */	li r0, 0x0
/* 80035554 000314D4  3B A4 0F C0 */	addi r29, r4, shdwRegs@l
/* 80035558 000314D8  7C E6 33 78 */	or r6, r7, r6
/* 8003555C 000314DC  90 CD 85 E8 */	stw r6, shdwChangeMode@sda21(r13)
/* 80035560 000314E0  3B E5 0F 48 */	addi r31, r5, regs@l
/* 80035564 000314E4  3B C3 00 00 */	addi r30, r3, 0x0
/* 80035568 000314E8  90 0D 85 D8 */	stw r0, changeMode@sda21(r13)
/* 8003556C 000314EC  80 8D 85 F0 */	lwz r4, shdwChanged@sda21(r13)
/* 80035570 000314F0  80 AD 85 F4 */	lwz r5, shdwChanged+4@sda21(r13)
/* 80035574 000314F4  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 80035578 000314F8  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 8003557C 000314FC  7C 80 03 78 */	or r0, r4, r0
/* 80035580 00031500  7C A3 1B 78 */	or r3, r5, r3
/* 80035584 00031504  90 6D 85 F4 */	stw r3, shdwChanged+4@sda21(r13)
/* 80035588 00031508  90 0D 85 F0 */	stw r0, shdwChanged@sda21(r13)
/* 8003558C 0003150C  48 00 00 7C */	b .L_80035608
.L_80035590:
/* 80035590 00031510  80 6D 85 E0 */	lwz r3, changed@sda21(r13)
/* 80035594 00031514  38 A0 00 20 */	li r5, 0x20
/* 80035598 00031518  83 6D 85 E4 */	lwz r27, changed+4@sda21(r13)
/* 8003559C 0003151C  38 9B 00 00 */	addi r4, r27, 0x0
/* 800355A0 00031520  48 02 A1 E5 */	bl __shr2u
/* 800355A4 00031524  7C 84 00 34 */	cntlzw r4, r4
/* 800355A8 00031528  2C 04 00 20 */	cmpwi r4, 0x20
/* 800355AC 0003152C  38 00 FF FF */	li r0, -0x1
/* 800355B0 00031530  7F 60 00 38 */	and r0, r27, r0
/* 800355B4 00031534  40 80 00 08 */	bge .L_800355BC
/* 800355B8 00031538  48 00 00 0C */	b .L_800355C4
.L_800355BC:
/* 800355BC 0003153C  7C 03 00 34 */	cntlzw r3, r0
/* 800355C0 00031540  38 83 00 20 */	addi r4, r3, 0x20
.L_800355C4:
/* 800355C4 00031544  54 85 08 3C */	slwi r5, r4, 1
/* 800355C8 00031548  7C 7F 2A 14 */	add r3, r31, r5
/* 800355CC 0003154C  A0 03 00 00 */	lhz r0, 0x0(r3)
/* 800355D0 00031550  7C 7D 2A 14 */	add r3, r29, r5
/* 800355D4 00031554  20 A4 00 3F */	subfic r5, r4, 0x3f
/* 800355D8 00031558  B0 03 00 00 */	sth r0, 0x0(r3)
/* 800355DC 0003155C  38 60 00 00 */	li r3, 0x0
/* 800355E0 00031560  38 80 00 01 */	li r4, 0x1
/* 800355E4 00031564  48 02 A1 7D */	bl __shl2i
/* 800355E8 00031568  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 800355EC 0003156C  7C 65 18 F8 */	nor r5, r3, r3
/* 800355F0 00031570  7C 84 20 F8 */	nor r4, r4, r4
/* 800355F4 00031574  80 6D 85 E4 */	lwz r3, changed+4@sda21(r13)
/* 800355F8 00031578  7C 00 28 38 */	and r0, r0, r5
/* 800355FC 0003157C  7C 63 20 38 */	and r3, r3, r4
/* 80035600 00031580  90 6D 85 E4 */	stw r3, changed+4@sda21(r13)
/* 80035604 00031584  90 0D 85 E0 */	stw r0, changed@sda21(r13)
.L_80035608:
/* 80035608 00031588  80 0D 85 E0 */	lwz r0, changed@sda21(r13)
/* 8003560C 0003158C  38 60 00 00 */	li r3, 0x0
/* 80035610 00031590  80 8D 85 E4 */	lwz r4, changed+4@sda21(r13)
/* 80035614 00031594  7C 00 1A 78 */	xor r0, r0, r3
/* 80035618 00031598  7C 83 1A 78 */	xor r3, r4, r3
/* 8003561C 0003159C  7C 60 03 79 */	or. r0, r3, r0
/* 80035620 000315A0  40 82 FF 70 */	bne .L_80035590
/* 80035624 000315A4  38 00 00 01 */	li r0, 0x1
/* 80035628 000315A8  90 0D 85 BC */	stw r0, flushFlag@sda21(r13)
/* 8003562C 000315AC  7F C3 F3 78 */	mr r3, r30
/* 80035630 000315B0  4B FF 59 DD */	bl OSRestoreInterrupts
/* 80035634 000315B4  BB 61 00 14 */	lmw r27, 0x14(r1)
/* 80035638 000315B8  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 8003563C 000315BC  38 21 00 28 */	addi r1, r1, 0x28
/* 80035640 000315C0  7C 08 03 A6 */	mtlr r0
/* 80035644 000315C4  4E 80 00 20 */	blr
.endfn VIFlush

.fn VISetNextFrameBuffer, global
/* 80035648 000315C8  7C 08 02 A6 */	mflr r0
/* 8003564C 000315CC  3C 80 80 08 */	lis r4, regs@ha
/* 80035650 000315D0  90 01 00 04 */	stw r0, 0x4(r1)
/* 80035654 000315D4  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80035658 000315D8  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8003565C 000315DC  3B E4 0F 48 */	addi r31, r4, regs@l
/* 80035660 000315E0  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80035664 000315E4  3B C3 00 00 */	addi r30, r3, 0x0
/* 80035668 000315E8  4B FF 59 7D */	bl OSDisableInterrupts
/* 8003566C 000315EC  93 DF 01 20 */	stw r30, 0x120(r31)
/* 80035670 000315F0  38 00 00 01 */	li r0, 0x1
/* 80035674 000315F4  3B C3 00 00 */	addi r30, r3, 0x0
/* 80035678 000315F8  90 0D 85 F8 */	stw r0, FBSet@sda21(r13)
/* 8003567C 000315FC  38 7F 00 F0 */	addi r3, r31, 0xf0
/* 80035680 00031600  38 9F 01 24 */	addi r4, r31, 0x124
/* 80035684 00031604  38 BF 01 28 */	addi r5, r31, 0x128
/* 80035688 00031608  38 DF 01 3C */	addi r6, r31, 0x13c
/* 8003568C 0003160C  38 FF 01 40 */	addi r7, r31, 0x140
/* 80035690 00031610  4B FF F3 99 */	bl setFbbRegs
/* 80035694 00031614  7F C3 F3 78 */	mr r3, r30
/* 80035698 00031618  4B FF 59 75 */	bl OSRestoreInterrupts
/* 8003569C 0003161C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800356A0 00031620  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800356A4 00031624  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 800356A8 00031628  7C 08 03 A6 */	mtlr r0
/* 800356AC 0003162C  38 21 00 18 */	addi r1, r1, 0x18
/* 800356B0 00031630  4E 80 00 20 */	blr
.endfn VISetNextFrameBuffer

.fn VISetBlack, global
/* 800356B4 00031634  7C 08 02 A6 */	mflr r0
/* 800356B8 00031638  3C 80 80 08 */	lis r4, regs@ha
/* 800356BC 0003163C  90 01 00 04 */	stw r0, 0x4(r1)
/* 800356C0 00031640  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800356C4 00031644  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800356C8 00031648  3B E4 0F 48 */	addi r31, r4, regs@l
/* 800356CC 0003164C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800356D0 00031650  3B C3 00 00 */	addi r30, r3, 0x0
/* 800356D4 00031654  4B FF 59 11 */	bl OSDisableInterrupts
/* 800356D8 00031658  93 DF 01 30 */	stw r30, 0x130(r31)
/* 800356DC 0003165C  7C 7E 1B 78 */	mr r30, r3
/* 800356E0 00031660  81 5F 01 44 */	lwz r10, 0x144(r31)
/* 800356E4 00031664  80 1F 01 30 */	lwz r0, 0x130(r31)
/* 800356E8 00031668  90 01 00 08 */	stw r0, 0x8(r1)
/* 800356EC 0003166C  A0 7F 00 FA */	lhz r3, 0xfa(r31)
/* 800356F0 00031670  A0 9F 00 F6 */	lhz r4, 0xf6(r31)
/* 800356F4 00031674  88 AA 00 00 */	lbz r5, 0x0(r10)
/* 800356F8 00031678  A0 CA 00 02 */	lhz r6, 0x2(r10)
/* 800356FC 0003167C  A0 EA 00 04 */	lhz r7, 0x4(r10)
/* 80035700 00031680  A1 0A 00 06 */	lhz r8, 0x6(r10)
/* 80035704 00031684  A1 2A 00 08 */	lhz r9, 0x8(r10)
/* 80035708 00031688  A1 4A 00 0A */	lhz r10, 0xa(r10)
/* 8003570C 0003168C  4B FF F5 F1 */	bl setVerticalRegs
/* 80035710 00031690  7F C3 F3 78 */	mr r3, r30
/* 80035714 00031694  4B FF 58 F9 */	bl OSRestoreInterrupts
/* 80035718 00031698  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8003571C 0003169C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80035720 000316A0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80035724 000316A4  7C 08 03 A6 */	mtlr r0
/* 80035728 000316A8  38 21 00 20 */	addi r1, r1, 0x20
/* 8003572C 000316AC  4E 80 00 20 */	blr
.endfn VISetBlack

.fn getCurrentFieldEvenOdd, local
/* 80035730 000316B0  7C 08 02 A6 */	mflr r0
/* 80035734 000316B4  3C 60 CC 00 */	lis r3, 0xCC002000@ha
/* 80035738 000316B8  90 01 00 04 */	stw r0, 0x4(r1)
/* 8003573C 000316BC  38 63 20 00 */	addi r3, r3, 0xCC002000@l
/* 80035740 000316C0  94 21 FF F8 */	stwu r1, -0x8(r1)
/* 80035744 000316C4  A0 03 00 6C */	lhz r0, 0x6c(r3)
/* 80035748 000316C8  54 00 07 FF */	clrlwi. r0, r0, 31
/* 8003574C 000316CC  41 82 00 10 */	beq .L_8003575C
/* 80035750 000316D0  38 60 00 02 */	li r3, 0x2
/* 80035754 000316D4  4B FF EB F9 */	bl getTiming
/* 80035758 000316D8  48 00 00 18 */	b .L_80035770
.L_8003575C:
/* 8003575C 000316DC  A0 03 00 02 */	lhz r0, 0x2(r3)
/* 80035760 000316E0  54 03 D7 3A */	rlwinm r3, r0, 26, 28, 29
/* 80035764 000316E4  54 00 F7 FE */	extrwi r0, r0, 1, 29
/* 80035768 000316E8  7C 63 02 14 */	add r3, r3, r0
/* 8003576C 000316EC  4B FF EB E1 */	bl getTiming
.L_80035770:
/* 80035770 000316F0  3C 80 CC 00 */	lis r4, 0xCC002000@ha
/* 80035774 000316F4  A1 23 00 18 */	lhz r9, 0x18(r3)
/* 80035778 000316F8  39 04 20 00 */	addi r8, r4, 0xCC002000@l
/* 8003577C 000316FC  A4 08 00 2C */	lhzu r0, 0x2c(r8)
/* 80035780 00031700  3C 60 80 08 */	lis r3, HorVer@ha
/* 80035784 00031704  38 63 10 38 */	addi r3, r3, HorVer@l
/* 80035788 00031708  80 A3 00 54 */	lwz r5, 0x54(r3)
/* 8003578C 0003170C  54 06 05 7E */	clrlwi r6, r0, 21
/* 80035790 00031710  38 84 20 00 */	addi r4, r4, 0x2000
.L_80035794:
/* 80035794 00031714  A0 08 00 00 */	lhz r0, 0x0(r8)
/* 80035798 00031718  7C C7 33 78 */	mr r7, r6
/* 8003579C 0003171C  A0 64 00 2E */	lhz r3, 0x2e(r4)
/* 800357A0 00031720  54 06 05 7E */	clrlwi r6, r0, 21
/* 800357A4 00031724  7C 07 30 40 */	cmplw r7, r6
/* 800357A8 00031728  54 63 05 7E */	clrlwi r3, r3, 21
/* 800357AC 0003172C  40 82 FF E8 */	bne .L_80035794
/* 800357B0 00031730  A0 05 00 1A */	lhz r0, 0x1a(r5)
/* 800357B4 00031734  38 63 FF FF */	addi r3, r3, -0x1
/* 800357B8 00031738  38 86 FF FF */	addi r4, r6, -0x1
/* 800357BC 0003173C  7C 03 03 96 */	divwu r0, r3, r0
/* 800357C0 00031740  54 83 08 3C */	slwi r3, r4, 1
/* 800357C4 00031744  7C 03 02 14 */	add r0, r3, r0
/* 800357C8 00031748  7C 00 48 40 */	cmplw r0, r9
/* 800357CC 0003174C  40 80 00 0C */	bge .L_800357D8
/* 800357D0 00031750  38 60 00 01 */	li r3, 0x1
/* 800357D4 00031754  48 00 00 08 */	b .L_800357DC
.L_800357D8:
/* 800357D8 00031758  38 60 00 00 */	li r3, 0x0
.L_800357DC:
/* 800357DC 0003175C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800357E0 00031760  38 21 00 08 */	addi r1, r1, 0x8
/* 800357E4 00031764  7C 08 03 A6 */	mtlr r0
/* 800357E8 00031768  4E 80 00 20 */	blr
.endfn getCurrentFieldEvenOdd

.fn VIGetNextField, global
/* 800357EC 0003176C  7C 08 02 A6 */	mflr r0
/* 800357F0 00031770  90 01 00 04 */	stw r0, 0x4(r1)
/* 800357F4 00031774  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 800357F8 00031778  93 E1 00 24 */	stw r31, 0x24(r1)
/* 800357FC 0003177C  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80035800 00031780  4B FF 57 E5 */	bl OSDisableInterrupts
/* 80035804 00031784  3C 80 CC 00 */	lis r4, 0xCC002000@ha
/* 80035808 00031788  38 84 20 00 */	addi r4, r4, 0xCC002000@l
/* 8003580C 0003178C  A0 04 00 6C */	lhz r0, 0x6c(r4)
/* 80035810 00031790  3B E3 00 00 */	addi r31, r3, 0x0
/* 80035814 00031794  54 00 07 FF */	clrlwi. r0, r0, 31
/* 80035818 00031798  41 82 00 10 */	beq .L_80035828
/* 8003581C 0003179C  38 60 00 02 */	li r3, 0x2
/* 80035820 000317A0  4B FF EB 2D */	bl getTiming
/* 80035824 000317A4  48 00 00 18 */	b .L_8003583C
.L_80035828:
/* 80035828 000317A8  A0 04 00 02 */	lhz r0, 0x2(r4)
/* 8003582C 000317AC  54 03 D7 3A */	rlwinm r3, r0, 26, 28, 29
/* 80035830 000317B0  54 00 F7 FE */	extrwi r0, r0, 1, 29
/* 80035834 000317B4  7C 63 02 14 */	add r3, r3, r0
/* 80035838 000317B8  4B FF EB 15 */	bl getTiming
.L_8003583C:
/* 8003583C 000317BC  3C 80 CC 00 */	lis r4, 0xCC002000@ha
/* 80035840 000317C0  A0 A3 00 18 */	lhz r5, 0x18(r3)
/* 80035844 000317C4  39 24 20 00 */	addi r9, r4, 0xCC002000@l
/* 80035848 000317C8  A4 09 00 2C */	lhzu r0, 0x2c(r9)
/* 8003584C 000317CC  3C 60 80 08 */	lis r3, HorVer@ha
/* 80035850 000317D0  38 63 10 38 */	addi r3, r3, HorVer@l
/* 80035854 000317D4  80 C3 00 54 */	lwz r6, 0x54(r3)
/* 80035858 000317D8  54 07 05 7E */	clrlwi r7, r0, 21
/* 8003585C 000317DC  38 84 20 00 */	addi r4, r4, 0x2000
.L_80035860:
/* 80035860 000317E0  A0 09 00 00 */	lhz r0, 0x0(r9)
/* 80035864 000317E4  7C E8 3B 78 */	mr r8, r7
/* 80035868 000317E8  A0 64 00 2E */	lhz r3, 0x2e(r4)
/* 8003586C 000317EC  54 07 05 7E */	clrlwi r7, r0, 21
/* 80035870 000317F0  7C 08 38 40 */	cmplw r8, r7
/* 80035874 000317F4  54 63 05 7E */	clrlwi r3, r3, 21
/* 80035878 000317F8  40 82 FF E8 */	bne .L_80035860
/* 8003587C 000317FC  A0 06 00 1A */	lhz r0, 0x1a(r6)
/* 80035880 00031800  38 63 FF FF */	addi r3, r3, -0x1
/* 80035884 00031804  38 87 FF FF */	addi r4, r7, -0x1
/* 80035888 00031808  7C 03 03 96 */	divwu r0, r3, r0
/* 8003588C 0003180C  54 83 08 3C */	slwi r3, r4, 1
/* 80035890 00031810  7C 03 02 14 */	add r0, r3, r0
/* 80035894 00031814  7C 00 28 40 */	cmplw r0, r5
/* 80035898 00031818  40 80 00 0C */	bge .L_800358A4
/* 8003589C 0003181C  3B C0 00 01 */	li r30, 0x1
/* 800358A0 00031820  48 00 00 08 */	b .L_800358A8
.L_800358A4:
/* 800358A4 00031824  3B C0 00 00 */	li r30, 0x0
.L_800358A8:
/* 800358A8 00031828  7F E3 FB 78 */	mr r3, r31
/* 800358AC 0003182C  4B FF 57 61 */	bl OSRestoreInterrupts
/* 800358B0 00031830  3C 60 80 08 */	lis r3, HorVer@ha
/* 800358B4 00031834  38 63 10 38 */	addi r3, r3, HorVer@l
/* 800358B8 00031838  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 800358BC 0003183C  6B C3 00 01 */	xori r3, r30, 0x1
/* 800358C0 00031840  54 00 07 FE */	clrlwi r0, r0, 31
/* 800358C4 00031844  7C 63 02 78 */	xor r3, r3, r0
/* 800358C8 00031848  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 800358CC 0003184C  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 800358D0 00031850  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 800358D4 00031854  38 21 00 28 */	addi r1, r1, 0x28
/* 800358D8 00031858  7C 08 03 A6 */	mtlr r0
/* 800358DC 0003185C  4E 80 00 20 */	blr
.endfn VIGetNextField

.fn VIGetTvFormat, global
/* 800358E0 00031860  3C 60 80 00 */	lis r3, 0x800000CC@ha
/* 800358E4 00031864  80 63 00 CC */	lwz r3, 0x800000CC@l(r3)
/* 800358E8 00031868  4E 80 00 20 */	blr
.endfn VIGetTvFormat

.fn VIGetDTVStatus, global
/* 800358EC 0003186C  7C 08 02 A6 */	mflr r0
/* 800358F0 00031870  90 01 00 04 */	stw r0, 0x4(r1)
/* 800358F4 00031874  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800358F8 00031878  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800358FC 0003187C  4B FF 56 E9 */	bl OSDisableInterrupts
/* 80035900 00031880  3C 80 CC 00 */	lis r4, 0xCC00206E@ha
/* 80035904 00031884  A0 04 20 6E */	lhz r0, 0xCC00206E@l(r4)
/* 80035908 00031888  54 1F 07 BE */	clrlwi r31, r0, 30
/* 8003590C 0003188C  4B FF 57 01 */	bl OSRestoreInterrupts
/* 80035910 00031890  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80035914 00031894  57 E3 07 FE */	clrlwi r3, r31, 31
/* 80035918 00031898  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8003591C 0003189C  38 21 00 10 */	addi r1, r1, 0x10
/* 80035920 000318A0  7C 08 03 A6 */	mtlr r0
/* 80035924 000318A4  4E 80 00 20 */	blr
.endfn VIGetDTVStatus

.section .data, "wa"  # 0x80065000 - 0x8006D1C0


timing:
	.4byte 0x060000F0
	.4byte 0x00180019
	.4byte 0x00030002
	.4byte 0x0C0D0C0D
	.4byte 0x02080207
	.4byte 0x02080207
	.4byte 0x020D01AD
	.4byte 0x404769A2
	.4byte 0x01757A00
	.4byte 0x019C0600
	.4byte 0x00F00018
	.4byte 0x00180004
	.4byte 0x00040C0C
	.4byte 0x0C0C0208
	.4byte 0x02080208
	.4byte 0x0208020E
	.4byte 0x01AD4047
	.4byte 0x69A20175
	.4byte 0x7A00019C
	.4byte 0x0500011F
	.4byte 0x00230024
	.4byte 0x00010000
	.4byte 0x0D0C0B0A
	.4byte 0x026B026A
	.4byte 0x0269026C
	.4byte 0x027101B0
	.4byte 0x404B6AAC
	.4byte 0x017C8500
	.4byte 0x01A40500
	.4byte 0x011F0023
	.4byte 0x00230002
	.4byte 0x00020D0B
	.4byte 0x0D0B026B
	.4byte 0x026D026B
	.4byte 0x026D0272
	.4byte 0x01B0404B
	.4byte 0x6AAC017C
	.4byte 0x850001A4
	.4byte 0x060000F0
	.4byte 0x00180019
	.4byte 0x00030002
	.4byte 0x100F0E0D
	.4byte 0x02060205
	.4byte 0x02040207
	.4byte 0x020D01AD
	.4byte 0x404E70A2
	.4byte 0x01757A00
	.4byte 0x019C0600
	.4byte 0x00F00018
	.4byte 0x00180004
	.4byte 0x0004100E
	.4byte 0x100E0206
	.4byte 0x02080206
	.4byte 0x0208020E
	.4byte 0x01AD404E
	.4byte 0x70A20175
	.4byte 0x7A00019C
	.4byte 0x0C0001E0
	.4byte 0x00300030
	.4byte 0x00060006
	.4byte 0x18181818
	.4byte 0x040E040E
	.4byte 0x040E040E
	.4byte 0x041A01AD
	.4byte 0x404769A2
	.4byte 0x01757A00
	.4byte 0x019C0000
	.4byte 0x01F001DC
	.4byte 0x01AE0174
	.4byte 0x012900DB
	.4byte 0x008E0046
	.4byte 0x000C00E2
	.4byte 0x00CB00C0
	.4byte 0x00C400CF
	.4byte 0x00DE00EC
	.4byte 0x00FC0008
	.4byte 0x000F0013
	.4byte 0x0013000F
	.4byte 0x000C0008
	.4byte 0x00010000

lbl_80068650:
	.4byte .L_80034374
	.4byte .L_8003437C
	.4byte .L_800343A4
	.4byte .L_800343AC
	.4byte .L_80034384
	.4byte .L_8003438C
	.4byte .L_800343AC
	.4byte .L_800343AC
	.4byte .L_80034394
	.4byte .L_8003439C

.section .bss, "", @nobits  # 0x8006D1C0 - 0x800A8A80

regs:
	.skip 0x76

.skip 2

shdwRegs:
	.skip 0x76

.skip 2

HorVer:
	.skip 0x58

.section .sbss, "", @nobits  # 0x800A8DC0 - 0x800A9380

retraceCount:
	.skip 0x4

flushFlag:
	.skip 0x4

retraceQueue:
	.skip 0x8

PreCB:
	.skip 0x4

PostCB:
	.skip 0x4

encoderType:
	.skip 0x4

displayOffsetH:
	.skip 0x2

displayOffsetV:
	.skip 0x2

changeMode:
	.skip 0x4

.skip 4

changed:
	.skip 0x8

shdwChangeMode:
	.skip 0x4

.skip 4

shdwChanged:
	.skip 0x8

FBSet:
	.skip 0x4

.skip 4