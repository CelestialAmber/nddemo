.include "macros.s"

.section .text, "ax"  # 0x800065A0 - 0x80063CE0 ; 0x0005D740

.global fwrite
fwrite:
/* 8005FFB8 0005BF38  7C 08 02 A6 */	mflr r0
/* 8005FFBC 0005BF3C  90 01 00 04 */	stw r0, 0x4(r1)
/* 8005FFC0 0005BF40  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 8005FFC4 0005BF44  BF 21 00 2C */	stmw r25, 0x2c(r1)
/* 8005FFC8 0005BF48  3B 44 00 00 */	addi r26, r4, 0x0
/* 8005FFCC 0005BF4C  3B 66 00 00 */	addi r27, r6, 0x0
/* 8005FFD0 0005BF50  3B 83 00 00 */	addi r28, r3, 0x0
/* 8005FFD4 0005BF54  3B 25 00 00 */	addi r25, r5, 0x0
/* 8005FFD8 0005BF58  38 7B 00 00 */	addi r3, r27, 0x0
/* 8005FFDC 0005BF5C  38 80 00 00 */	li r4, 0x0
/* 8005FFE0 0005BF60  48 00 23 B1 */	bl fwide
/* 8005FFE4 0005BF64  2C 03 00 00 */	cmpwi r3, 0x0
/* 8005FFE8 0005BF68  40 82 00 10 */	bne .L_8005FFF8
/* 8005FFEC 0005BF6C  38 7B 00 00 */	addi r3, r27, 0x0
/* 8005FFF0 0005BF70  38 80 FF FF */	li r4, -0x1
/* 8005FFF4 0005BF74  48 00 23 9D */	bl fwide
.L_8005FFF8:
/* 8005FFF8 0005BF78  7C 1A C9 D7 */	mullw. r0, r26, r25
/* 8005FFFC 0005BF7C  7C 1D 03 78 */	mr r29, r0
.L_80060000:
/* 80060000 0005BF80  41 82 00 1C */	beq .L_8006001C
.L_80060004:
/* 80060004 0005BF84  88 1B 00 0A */	lbz r0, 0xa(r27)
.L_80060008:
/* 80060008 0005BF88  28 00 00 00 */	cmplwi r0, 0x0
.L_8006000C:
/* 8006000C 0005BF8C  40 82 00 10 */	bne .L_8006001C
.L_80060010:
/* 80060010 0005BF90  A0 1B 00 04 */	lhz r0, 0x4(r27)
.L_80060014:
/* 80060014 0005BF94  54 00 D7 7F */	extrwi. r0, r0, 3, 23
.L_80060018:
/* 80060018 0005BF98  40 82 00 0C */	bne .L_80060024
.L_8006001C:
/* 8006001C 0005BF9C  38 60 00 00 */	li r3, 0x0
.L_80060020:
/* 80060020 0005BFA0  48 00 02 60 */	b .L_80060280
.L_80060024:
/* 80060024 0005BFA4  2C 00 00 02 */	cmpwi r0, 0x2
/* 80060028 0005BFA8  40 82 00 08 */	bne .L_80060030
/* 8006002C 0005BFAC  48 00 06 CD */	bl __stdio_atexit
.L_80060030:
/* 80060030 0005BFB0  88 1B 00 05 */	lbz r0, 0x5(r27)
/* 80060034 0005BFB4  3B E0 00 01 */	li r31, 0x1
/* 80060038 0005BFB8  38 7F 00 00 */	addi r3, r31, 0x0
/* 8006003C 0005BFBC  54 00 EF FF */	extrwi. r0, r0, 1, 28
/* 80060040 0005BFC0  38 9F 00 00 */	addi r4, r31, 0x0
/* 80060044 0005BFC4  41 82 00 18 */	beq .L_8006005C
/* 80060048 0005BFC8  A0 1B 00 04 */	lhz r0, 0x4(r27)
/* 8006004C 0005BFCC  54 00 D7 7E */	extrwi r0, r0, 3, 23
/* 80060050 0005BFD0  2C 00 00 03 */	cmpwi r0, 0x3
/* 80060054 0005BFD4  41 82 00 08 */	beq .L_8006005C
/* 80060058 0005BFD8  38 80 00 00 */	li r4, 0x0
.L_8006005C:
/* 8006005C 0005BFDC  2C 04 00 00 */	cmpwi r4, 0x0
/* 80060060 0005BFE0  40 82 00 18 */	bne .L_80060078
/* 80060064 0005BFE4  88 1B 00 04 */	lbz r0, 0x4(r27)
/* 80060068 0005BFE8  54 00 FF BE */	extrwi r0, r0, 2, 29
/* 8006006C 0005BFEC  28 00 00 02 */	cmplwi r0, 0x2
/* 80060070 0005BFF0  41 82 00 08 */	beq .L_80060078
/* 80060074 0005BFF4  38 60 00 00 */	li r3, 0x0
.L_80060078:
/* 80060078 0005BFF8  2C 03 00 00 */	cmpwi r3, 0x0
/* 8006007C 0005BFFC  40 82 00 18 */	bne .L_80060094
/* 80060080 0005C000  88 1B 00 04 */	lbz r0, 0x4(r27)
/* 80060084 0005C004  54 00 FF BE */	extrwi r0, r0, 2, 29
/* 80060088 0005C008  28 00 00 01 */	cmplwi r0, 0x1
/* 8006008C 0005C00C  41 82 00 08 */	beq .L_80060094
/* 80060090 0005C010  3B E0 00 00 */	li r31, 0x0
.L_80060094:
/* 80060094 0005C014  88 7B 00 08 */	lbz r3, 0x8(r27)
/* 80060098 0005C018  54 60 DF 7F */	extrwi. r0, r3, 3, 24
/* 8006009C 0005C01C  40 82 00 24 */	bne .L_800600C0
/* 800600A0 0005C020  88 1B 00 04 */	lbz r0, 0x4(r27)
/* 800600A4 0005C024  54 00 EF BD */	rlwinm. r0, r0, 29, 30, 30
/* 800600A8 0005C028  41 82 00 18 */	beq .L_800600C0
/* 800600AC 0005C02C  38 00 00 01 */	li r0, 0x1
/* 800600B0 0005C030  50 03 2E 34 */	rlwimi r3, r0, 5, 24, 26
/* 800600B4 0005C034  98 7B 00 08 */	stb r3, 0x8(r27)
/* 800600B8 0005C038  7F 63 DB 78 */	mr r3, r27
/* 800600BC 0005C03C  4B FF FE 9D */	bl __prep_buffer
.L_800600C0:
/* 800600C0 0005C040  88 1B 00 08 */	lbz r0, 0x8(r27)
/* 800600C4 0005C044  54 00 DF 7E */	extrwi r0, r0, 3, 24
/* 800600C8 0005C048  28 00 00 01 */	cmplwi r0, 0x1
/* 800600CC 0005C04C  41 82 00 1C */	beq .L_800600E8
/* 800600D0 0005C050  38 00 00 01 */	li r0, 0x1
/* 800600D4 0005C054  98 1B 00 0A */	stb r0, 0xa(r27)
/* 800600D8 0005C058  38 00 00 00 */	li r0, 0x0
/* 800600DC 0005C05C  38 60 00 00 */	li r3, 0x0
/* 800600E0 0005C060  90 1B 00 24 */	stw r0, 0x24(r27)
/* 800600E4 0005C064  48 00 01 9C */	b .L_80060280
.L_800600E8:
/* 800600E8 0005C068  28 1D 00 00 */	cmplwi r29, 0x0
/* 800600EC 0005C06C  3B DC 00 00 */	addi r30, r28, 0x0
/* 800600F0 0005C070  3B 80 00 00 */	li r28, 0x0
/* 800600F4 0005C074  41 82 00 FC */	beq .L_800601F0
/* 800600F8 0005C078  80 9B 00 20 */	lwz r4, 0x20(r27)
/* 800600FC 0005C07C  80 7B 00 18 */	lwz r3, 0x18(r27)
/* 80060100 0005C080  7C 04 18 40 */	cmplw r4, r3
/* 80060104 0005C084  40 82 00 0C */	bne .L_80060110
/* 80060108 0005C088  2C 1F 00 00 */	cmpwi r31, 0x0
/* 8006010C 0005C08C  41 82 00 E4 */	beq .L_800601F0
.L_80060110:
/* 80060110 0005C090  80 1B 00 1C */	lwz r0, 0x1c(r27)
/* 80060114 0005C094  7C 63 20 50 */	subf r3, r3, r4
/* 80060118 0005C098  7C 03 00 50 */	subf r0, r3, r0
/* 8006011C 0005C09C  90 1B 00 24 */	stw r0, 0x24(r27)
.L_80060120:
/* 80060120 0005C0A0  80 1B 00 24 */	lwz r0, 0x24(r27)
/* 80060124 0005C0A4  90 01 00 20 */	stw r0, 0x20(r1)
/* 80060128 0005C0A8  80 01 00 20 */	lwz r0, 0x20(r1)
/* 8006012C 0005C0AC  7C 00 E8 40 */	cmplw r0, r29
/* 80060130 0005C0B0  40 81 00 08 */	ble .L_80060138
/* 80060134 0005C0B4  93 A1 00 20 */	stw r29, 0x20(r1)
.L_80060138:
/* 80060138 0005C0B8  80 A1 00 20 */	lwz r5, 0x20(r1)
/* 8006013C 0005C0BC  28 05 00 00 */	cmplwi r5, 0x0
/* 80060140 0005C0C0  41 82 00 3C */	beq .L_8006017C
/* 80060144 0005C0C4  80 7B 00 20 */	lwz r3, 0x20(r27)
/* 80060148 0005C0C8  7F C4 F3 78 */	mr r4, r30
/* 8006014C 0005C0CC  4B FA 52 D5 */	bl memcpy
/* 80060150 0005C0D0  80 61 00 20 */	lwz r3, 0x20(r1)
/* 80060154 0005C0D4  80 1B 00 20 */	lwz r0, 0x20(r27)
/* 80060158 0005C0D8  7F DE 1A 14 */	add r30, r30, r3
/* 8006015C 0005C0DC  7C 00 1A 14 */	add r0, r0, r3
/* 80060160 0005C0E0  90 1B 00 20 */	stw r0, 0x20(r27)
/* 80060164 0005C0E4  7F 9C 1A 14 */	add r28, r28, r3
/* 80060168 0005C0E8  7F A3 E8 50 */	subf r29, r3, r29
/* 8006016C 0005C0EC  80 61 00 20 */	lwz r3, 0x20(r1)
/* 80060170 0005C0F0  80 1B 00 24 */	lwz r0, 0x24(r27)
/* 80060174 0005C0F4  7C 03 00 50 */	subf r0, r3, r0
/* 80060178 0005C0F8  90 1B 00 24 */	stw r0, 0x24(r27)
.L_8006017C:
/* 8006017C 0005C0FC  80 7B 00 24 */	lwz r3, 0x24(r27)
/* 80060180 0005C100  28 03 00 00 */	cmplwi r3, 0x0
/* 80060184 0005C104  40 82 00 1C */	bne .L_800601A0
/* 80060188 0005C108  A0 1B 00 04 */	lhz r0, 0x4(r27)
/* 8006018C 0005C10C  54 00 D7 7E */	extrwi r0, r0, 3, 23
/* 80060190 0005C110  2C 00 00 03 */	cmpwi r0, 0x3
/* 80060194 0005C114  40 82 00 0C */	bne .L_800601A0
/* 80060198 0005C118  7F 9C EA 14 */	add r28, r28, r29
/* 8006019C 0005C11C  48 00 00 54 */	b .L_800601F0
.L_800601A0:
/* 800601A0 0005C120  28 03 00 00 */	cmplwi r3, 0x0
/* 800601A4 0005C124  41 82 00 10 */	beq .L_800601B4
/* 800601A8 0005C128  88 1B 00 04 */	lbz r0, 0x4(r27)
/* 800601AC 0005C12C  54 00 FF BF */	extrwi. r0, r0, 2, 29
/* 800601B0 0005C130  40 82 00 30 */	bne .L_800601E0
.L_800601B4:
/* 800601B4 0005C134  38 7B 00 00 */	addi r3, r27, 0x0
/* 800601B8 0005C138  38 80 00 00 */	li r4, 0x0
/* 800601BC 0005C13C  4B FF FC D1 */	bl __flush_buffer
/* 800601C0 0005C140  2C 03 00 00 */	cmpwi r3, 0x0
/* 800601C4 0005C144  41 82 00 1C */	beq .L_800601E0
/* 800601C8 0005C148  38 00 00 01 */	li r0, 0x1
/* 800601CC 0005C14C  98 1B 00 0A */	stb r0, 0xa(r27)
/* 800601D0 0005C150  38 00 00 00 */	li r0, 0x0
/* 800601D4 0005C154  3B A0 00 00 */	li r29, 0x0
/* 800601D8 0005C158  90 1B 00 24 */	stw r0, 0x24(r27)
/* 800601DC 0005C15C  48 00 00 14 */	b .L_800601F0
.L_800601E0:
/* 800601E0 0005C160  28 1D 00 00 */	cmplwi r29, 0x0
/* 800601E4 0005C164  41 82 00 0C */	beq .L_800601F0
/* 800601E8 0005C168  2C 1F 00 00 */	cmpwi r31, 0x0
/* 800601EC 0005C16C  40 82 FF 34 */	bne .L_80060120
.L_800601F0:
/* 800601F0 0005C170  28 1D 00 00 */	cmplwi r29, 0x0
/* 800601F4 0005C174  41 82 00 68 */	beq .L_8006025C
/* 800601F8 0005C178  2C 1F 00 00 */	cmpwi r31, 0x0
/* 800601FC 0005C17C  40 82 00 60 */	bne .L_8006025C
/* 80060200 0005C180  83 FB 00 18 */	lwz r31, 0x18(r27)
/* 80060204 0005C184  7C 1E EA 14 */	add r0, r30, r29
/* 80060208 0005C188  83 3B 00 1C */	lwz r25, 0x1c(r27)
/* 8006020C 0005C18C  38 7B 00 00 */	addi r3, r27, 0x0
/* 80060210 0005C190  38 81 00 20 */	addi r4, r1, 0x20
/* 80060214 0005C194  93 DB 00 18 */	stw r30, 0x18(r27)
/* 80060218 0005C198  93 BB 00 1C */	stw r29, 0x1c(r27)
/* 8006021C 0005C19C  90 1B 00 20 */	stw r0, 0x20(r27)
/* 80060220 0005C1A0  4B FF FC 6D */	bl __flush_buffer
/* 80060224 0005C1A4  2C 03 00 00 */	cmpwi r3, 0x0
/* 80060228 0005C1A8  41 82 00 14 */	beq .L_8006023C
/* 8006022C 0005C1AC  38 00 00 01 */	li r0, 0x1
/* 80060230 0005C1B0  98 1B 00 0A */	stb r0, 0xa(r27)
/* 80060234 0005C1B4  38 00 00 00 */	li r0, 0x0
/* 80060238 0005C1B8  90 1B 00 24 */	stw r0, 0x24(r27)
.L_8006023C:
/* 8006023C 0005C1BC  80 01 00 20 */	lwz r0, 0x20(r1)
/* 80060240 0005C1C0  7F 63 DB 78 */	mr r3, r27
/* 80060244 0005C1C4  93 FB 00 18 */	stw r31, 0x18(r27)
/* 80060248 0005C1C8  7F 9C 02 14 */	add r28, r28, r0
/* 8006024C 0005C1CC  93 3B 00 1C */	stw r25, 0x1c(r27)
/* 80060250 0005C1D0  4B FF FD 09 */	bl __prep_buffer
/* 80060254 0005C1D4  38 00 00 00 */	li r0, 0x0
/* 80060258 0005C1D8  90 1B 00 24 */	stw r0, 0x24(r27)
.L_8006025C:
/* 8006025C 0005C1DC  88 1B 00 04 */	lbz r0, 0x4(r27)
/* 80060260 0005C1E0  54 00 FF BE */	extrwi r0, r0, 2, 29
/* 80060264 0005C1E4  28 00 00 02 */	cmplwi r0, 0x2
/* 80060268 0005C1E8  41 82 00 0C */	beq .L_80060274
/* 8006026C 0005C1EC  38 00 00 00 */	li r0, 0x0
/* 80060270 0005C1F0  90 1B 00 24 */	stw r0, 0x24(r27)
.L_80060274:
/* 80060274 0005C1F4  38 1A FF FF */	addi r0, r26, -0x1
/* 80060278 0005C1F8  7C 1C 02 14 */	add r0, r28, r0
/* 8006027C 0005C1FC  7C 60 D3 96 */	divwu r3, r0, r26
.L_80060280:
/* 80060280 0005C200  BB 21 00 2C */	lmw r25, 0x2c(r1)
/* 80060284 0005C204  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 80060288 0005C208  38 21 00 48 */	addi r1, r1, 0x48
/* 8006028C 0005C20C  7C 08 03 A6 */	mtlr r0
/* 80060290 0005C210  4E 80 00 20 */	blr